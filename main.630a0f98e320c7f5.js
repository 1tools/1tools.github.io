"use strict";(self.webpackChunk_1tools=self.webpackChunk_1tools||[]).push([[179],{2011:(Dt,Me,P)=>{P.d(Me,{Dh:()=>he,GT:()=>_e,Ot:()=>ve,cc:()=>Pe,hO:()=>ke,on:()=>J,pX:()=>fe,xv:()=>ge});var w=P(5e3),R=P(127),H=P(880);Dt=P.hmd(Dt);const ce=["ngOnDestroy"],fe=(je,ht,ct,ze={})=>new Proxy(je,{get:(Le,Fe)=>ct.runOutsideAngular(()=>{var st;if(je[Fe])return(null===(st=null==ze?void 0:ze.spy)||void 0===st?void 0:st.get)&&ze.spy.get(Fe,je[Fe]),je[Fe];if(ce.indexOf(Fe)>-1)return()=>{};const tt=ht.toPromise().then(Ee=>{const le=Ee&&Ee[Fe];return"function"==typeof le?le.bind(Ee):le&&le.then?le.then(Ie=>ct.run(()=>Ie)):ct.run(()=>le)});return new Proxy(()=>{},{get:(Ee,le)=>tt[le],apply:(Ee,le,Ie)=>tt.then(Se=>{var we;const Je=Se&&Se(...Ie);return(null===(we=null==ze?void 0:ze.spy)||void 0===we?void 0:we.apply)&&ze.spy.apply(Fe,Ie,Je),Je})})})}),_e=(je,ht)=>{ht.forEach(ct=>{Object.getOwnPropertyNames(ct.prototype||ct).forEach(ze=>{Object.defineProperty(je.prototype,ze,Object.getOwnPropertyDescriptor(ct.prototype||ct,ze))})})};class ve{constructor(ht){return ht}}const he=new w.OlP("angularfire2.app.options"),ge=new w.OlP("angularfire2.app.name");function J(je,ht,ct){const Le="object"==typeof ct&&ct||{};Le.name=Le.name||"string"==typeof ct&&ct||"[DEFAULT]";const st=R.Z.apps.filter(tt=>tt&&tt.name===Le.name)[0]||ht.runOutsideAngular(()=>R.Z.initializeApp(je,Le));try{JSON.stringify(je)!==JSON.stringify(st.options)&&Y("error",`${st.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(tt){}return new ve(st)}const Y=(je,...ht)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[je](...ht)},ue={provide:ve,useFactory:J,deps:[he,w.R0b,[new w.FiY,ge]]};let ke=(()=>{class je{constructor(ct){R.Z.registerVersion("angularfire",H.q4.full,"core"),R.Z.registerVersion("angularfire",H.q4.full,"app-compat"),R.Z.registerVersion("angular",w.q4F.full,ct.toString())}static initializeApp(ct,ze){return{ngModule:je,providers:[{provide:he,useValue:ct},{provide:ge,useValue:ze}]}}}return je.\u0275fac=function(ct){return new(ct||je)(w.LFG(w.Lbi))},je.\u0275mod=w.oAB({type:je}),je.\u0275inj=w.cJS({providers:[ue]}),je})();function Pe(je,ht,ct,ze,Le){const[,Fe,st]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===je)||[];if(Fe)return function Ke(je,ht){try{return je.toString()===ht.toString()}catch(ct){return je===ht}}(Le,st)||(Ae("error",`${ht} was already initialized on the ${ct} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Ae("warn",{is:Le,was:st})),Fe;{const tt=ze();return globalThis.\u0275AngularfireInstanceCache.push([je,tt,Le]),tt}}const et=!!Dt.hot,Ae=(je,...ht)=>{(0,w.X6Q)()&&"undefined"!=typeof console&&console[je](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(Dt,Me,P)=>{P.d(Me,{q4:()=>Zs,iC:()=>ee,HU:()=>Fs,vb:()=>dr,JM:()=>na,nk:()=>Zi});var w=P(5e3),R=P(5867),H=P(5861),ce=P(9681),fe=P(2090),_e=P(4859),ve=P(1877);P(2833);const ge="@firebase/remote-config",J="0.3.6",Pe=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class un{constructor(B,Q,de,We){this.client=B,this.storage=Q,this.storageCache=de,this.logger=We}isCachedDataFresh(B,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const de=Date.now()-Q,We=de<=B;return this.logger.debug(`Config fetch cache check. Cache age millis: ${de}. Cache max age millis (minimumFetchIntervalMillis setting): ${B}. Is cache hit: ${We}.`),We}fetch(B){var Q=this;return(0,H.Z)(function*(){const[de,We]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(We&&Q.isCachedDataFresh(B.cacheMaxAgeMillis,de))return We;B.eTag=We&&We.eTag;const Xe=yield Q.client.fetch(B),It=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&It.push(Q.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(It),Xe})()}}function hn(V=navigator){return V.languages&&V.languages[0]||V.language}class ft{constructor(B,Q,de,We,Xe,It){this.firebaseInstallations=B,this.sdkVersion=Q,this.namespace=de,this.projectId=We,this.apiKey=Xe,this.appId=It}fetch(B){var Q=this;return(0,H.Z)(function*(){const[de,We]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),It=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":B.eTag||"*"},xn={sdk_version:Q.sdkVersion,app_instance_id:de,app_instance_id_token:We,app_id:Q.appId,language_code:hn()},nt={method:"POST",headers:Pn,body:JSON.stringify(xn)},Bt=fetch(It,nt),zt=new Promise((Ze,sn)=>{B.signal.addEventListener(()=>{const Js=new Error("The operation was aborted.");Js.name="AbortError",sn(Js)})});let qr;try{yield Promise.race([Bt,zt]),qr=yield Bt}catch(Ze){let sn="fetch-client-network";throw"AbortError"===Ze.name&&(sn="fetch-timeout"),Pe.create(sn,{originalErrorMessage:Ze.message})}let hi=qr.status;const ss=qr.headers.get("ETag")||void 0;let Ls,bo;if(200===qr.status){let Ze;try{Ze=yield qr.json()}catch(sn){throw Pe.create("fetch-client-parse",{originalErrorMessage:sn.message})}Ls=Ze.entries,bo=Ze.state}if("INSTANCE_STATE_UNSPECIFIED"===bo?hi=500:"NO_CHANGE"===bo?hi=304:("NO_TEMPLATE"===bo||"EMPTY_CONFIG"===bo)&&(Ls={}),304!==hi&&200!==hi)throw Pe.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:ss,config:Ls}})()}}class In{constructor(B,Q){this.client=B,this.storage=Q}fetch(B){var Q=this;return(0,H.Z)(function*(){const de=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(B,de)})()}attemptFetch(B,{throttleEndTimeMillis:Q,backoffCount:de}){var We=this;return(0,H.Z)(function*(){yield function yt(V,B){return new Promise((Q,de)=>{const We=Math.max(B-Date.now(),0),Xe=setTimeout(Q,We);V.addEventListener(()=>{clearTimeout(Xe),de(Pe.create("fetch-throttle",{throttleEndTimeMillis:B}))})})}(B.signal,Q);try{const Xe=yield We.client.fetch(B);return yield We.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function vn(V){if(!(V instanceof fe.ZR&&V.customData))return!1;const B=Number(V.customData.httpStatus);return 429===B||500===B||503===B||504===B}(Xe))throw Xe;const It={throttleEndTimeMillis:Date.now()+(0,fe.$s)(de),backoffCount:de+1};return yield We.storage.setThrottleMetadata(It),We.attemptFetch(B,It)}})()}}class ur{constructor(B,Q,de,We,Xe){this.app=B,this._client=Q,this._storageCache=de,this._storage=We,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function an(V,B){const Q=V.target.error||void 0;return Pe.create(B,{originalErrorMessage:Q&&Q.message})}const $t="app_namespace_store";class Hn{constructor(B,Q,de,We=function pr(){return new Promise((V,B)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=de=>{B(an(de,"storage-open"))},Q.onsuccess=de=>{V(de.target.result)},Q.onupgradeneeded=de=>{0===de.oldVersion&&de.target.result.createObjectStore($t,{keyPath:"compositeKey"})}}catch(Q){B(Pe.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=B,this.appName=Q,this.namespace=de,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(B){return this.set("last_fetch_status",B)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(B){return this.set("last_successful_fetch_timestamp_millis",B)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(B){return this.set("last_successful_fetch_response",B)}getActiveConfig(){return this.get("active_config")}setActiveConfig(B){return this.set("active_config",B)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(B){return this.set("active_config_etag",B)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(B){return this.set("throttle_metadata",B)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(B){var Q=this;return(0,H.Z)(function*(){const de=yield Q.openDbPromise;return new Promise((We,Xe)=>{const Pn=de.transaction([$t],"readonly").objectStore($t),xn=Q.createCompositeKey(B);try{const nt=Pn.get(xn);nt.onerror=Bt=>{Xe(an(Bt,"storage-get"))},nt.onsuccess=Bt=>{const zt=Bt.target.result;We(zt?zt.value:void 0)}}catch(nt){Xe(Pe.create("storage-get",{originalErrorMessage:nt&&nt.message}))}})})()}set(B,Q){var de=this;return(0,H.Z)(function*(){const We=yield de.openDbPromise;return new Promise((Xe,It)=>{const xn=We.transaction([$t],"readwrite").objectStore($t),nt=de.createCompositeKey(B);try{const Bt=xn.put({compositeKey:nt,value:Q});Bt.onerror=zt=>{It(an(zt,"storage-set"))},Bt.onsuccess=()=>{Xe()}}catch(Bt){It(Pe.create("storage-set",{originalErrorMessage:Bt&&Bt.message}))}})})()}delete(B){var Q=this;return(0,H.Z)(function*(){const de=yield Q.openDbPromise;return new Promise((We,Xe)=>{const Pn=de.transaction([$t],"readwrite").objectStore($t),xn=Q.createCompositeKey(B);try{const nt=Pn.delete(xn);nt.onerror=Bt=>{Xe(an(Bt,"storage-delete"))},nt.onsuccess=()=>{We()}}catch(nt){Xe(Pe.create("storage-delete",{originalErrorMessage:nt&&nt.message}))}})})()}createCompositeKey(B){return[this.appId,this.appName,this.namespace,B].join()}}class Zn{constructor(B){this.storage=B}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var B=this;return(0,H.Z)(function*(){const Q=B.storage.getLastFetchStatus(),de=B.storage.getLastSuccessfulFetchTimestampMillis(),We=B.storage.getActiveConfig(),Xe=yield Q;Xe&&(B.lastFetchStatus=Xe);const It=yield de;It&&(B.lastSuccessfulFetchTimestampMillis=It);const Pn=yield We;Pn&&(B.activeConfig=Pn)})()}setLastFetchStatus(B){return this.lastFetchStatus=B,this.storage.setLastFetchStatus(B)}setLastSuccessfulFetchTimestampMillis(B){return this.lastSuccessfulFetchTimestampMillis=B,this.storage.setLastSuccessfulFetchTimestampMillis(B)}setActiveConfig(B){return this.activeConfig=B,this.storage.setActiveConfig(B)}}function Tt(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,H.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(V){return!1}})).apply(this,arguments)}!function An(){(0,ce._registerComponent)(new _e.wA("remote-config",function V(B,{instanceIdentifier:Q}){const de=B.getProvider("app").getImmediate(),We=B.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Pe.create("registration-window");if(!(0,fe.hl)())throw Pe.create("indexed-db-unavailable");const{projectId:Xe,apiKey:It,appId:Pn}=de.options;if(!Xe)throw Pe.create("registration-project-id");if(!It)throw Pe.create("registration-api-key");if(!Pn)throw Pe.create("registration-app-id");const xn=new Hn(Pn,de.name,Q=Q||"firebase"),nt=new Zn(xn),Bt=new ve.Yd(ge);Bt.logLevel=ve.in.ERROR;const zt=new ft(We,ce.SDK_VERSION,Q,Xe,It,Pn),qr=new In(zt,xn),hi=new un(qr,xn,nt,Bt),ss=new ur(de,hi,nt,xn,Bt);return function st(V){const B=(0,fe.m9)(V);B._initializePromise||(B._initializePromise=B._storageCache.loadFromStorage().then(()=>{B._isInitializationComplete=!0}))}(ss),ss},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ge,J),(0,ce.registerVersion)(ge,J,"esm2017")}();const Bn="/firebase-messaging-sw.js",Gn="/firebase-cloud-messaging-push-scope",Dr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sn="google.c.a.c_id",mr="google.c.a.c_l",br="google.c.a.ts",Mr="google.c.a.e";var bt=(()=>{return(V=bt||(bt={})).PUSH_RECEIVED="push-received",V.NOTIFICATION_CLICKED="notification-clicked",bt;var V})();function Ct(V){const B=new Uint8Array(V);return btoa(String.fromCharCode(...B)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(V){const Q=(V+"=".repeat((4-V.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),de=atob(Q),We=new Uint8Array(de.length);for(let Xe=0;Xe<de.length;++Xe)We[Xe]=de.charCodeAt(Xe);return We}const zr="fcm_token_details_db",Wr="fcm_token_object_Store";function Pt(V){return ir.apply(this,arguments)}function ir(){return ir=(0,H.Z)(function*(V){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(zr))return null;let B=null;return(yield(0,fe.X3)(zr,5,function(){var de=(0,H.Z)(function*(We,Xe,It,Pn){var xn;if(Xe<2||!We.objectStoreNames.contains(Wr))return;const nt=Pn.objectStore(Wr),Bt=yield nt.index("fcmSenderId").get(V);if(yield nt.clear(),Bt)if(2===Xe){const zt=Bt;if(!zt.auth||!zt.p256dh||!zt.endpoint)return;B={token:zt.fcmToken,createTime:null!==(xn=zt.createTime)&&void 0!==xn?xn:Date.now(),subscriptionOptions:{auth:zt.auth,p256dh:zt.p256dh,endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:"string"==typeof zt.vapidKey?zt.vapidKey:Ct(zt.vapidKey)}}}else if(3===Xe){const zt=Bt;B={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Ct(zt.auth),p256dh:Ct(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Ct(zt.vapidKey)}}}else if(4===Xe){const zt=Bt;B={token:zt.fcmToken,createTime:zt.createTime,subscriptionOptions:{auth:Ct(zt.auth),p256dh:Ct(zt.p256dh),endpoint:zt.endpoint,swScope:zt.swScope,vapidKey:Ct(zt.vapidKey)}}}});return function(We,Xe,It,Pn){return de.apply(this,arguments)}}())).close(),yield(0,fe.Lj)(zr),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Nt(B)?B:null}),ir.apply(this,arguments)}function Nt(V){if(!V||!V.subscriptionOptions)return!1;const{subscriptionOptions:B}=V;return"number"==typeof V.createTime&&V.createTime>0&&"string"==typeof V.token&&V.token.length>0&&"string"==typeof B.auth&&B.auth.length>0&&"string"==typeof B.p256dh&&B.p256dh.length>0&&"string"==typeof B.endpoint&&B.endpoint.length>0&&"string"==typeof B.swScope&&B.swScope.length>0&&"string"==typeof B.vapidKey&&B.vapidKey.length>0}const lt="firebase-messaging-store";let He=null;function vt(){return He||(He=(0,fe.X3)("firebase-messaging-database",1,(V,B)=>{0===B&&V.createObjectStore(lt)})),He}function oe(V){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,H.Z)(function*(V){const B=ae(V),de=yield(yield vt()).transaction(lt).objectStore(lt).get(B);if(de)return de;{const We=yield Pt(V.appConfig.senderId);if(We)return yield Ve(V,We),We}})).apply(this,arguments)}function Ve(V,B){return G.apply(this,arguments)}function G(){return(G=(0,H.Z)(function*(V,B){const Q=ae(V),We=(yield vt()).transaction(lt,"readwrite");return yield We.objectStore(lt).put(B,Q),yield We.complete,B})).apply(this,arguments)}function $(V){return q.apply(this,arguments)}function q(){return(q=(0,H.Z)(function*(V){const B=ae(V),de=(yield vt()).transaction(lt,"readwrite");yield de.objectStore(lt).delete(B),yield de.complete})).apply(this,arguments)}function ae({appConfig:V}){return V.appId}const Ge=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pt(V,B){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,H.Z)(function*(V,B){const Q=yield Dn(V),de=_t(B),We={method:"POST",headers:Q,body:JSON.stringify(de)};let Xe;try{Xe=yield(yield fetch(fn(V.appConfig),We)).json()}catch(It){throw Ge.create("token-subscribe-failed",{errorInfo:It})}if(Xe.error)throw Ge.create("token-subscribe-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Ge.create("token-subscribe-no-token");return Xe.token})).apply(this,arguments)}function Kn(V,B){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,H.Z)(function*(V,B){const Q=yield Dn(V),de=_t(B.subscriptionOptions),We={method:"PATCH",headers:Q,body:JSON.stringify(de)};let Xe;try{Xe=yield(yield fetch(`${fn(V.appConfig)}/${B.token}`,We)).json()}catch(It){throw Ge.create("token-update-failed",{errorInfo:It})}if(Xe.error)throw Ge.create("token-update-failed",{errorInfo:Xe.error.message});if(!Xe.token)throw Ge.create("token-update-no-token");return Xe.token})).apply(this,arguments)}function gn(V,B){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,H.Z)(function*(V,B){const de={method:"DELETE",headers:yield Dn(V)};try{const Xe=yield(yield fetch(`${fn(V.appConfig)}/${B}`,de)).json();if(Xe.error)throw Ge.create("token-unsubscribe-failed",{errorInfo:Xe.error.message})}catch(We){throw Ge.create("token-unsubscribe-failed",{errorInfo:We})}})).apply(this,arguments)}function fn({projectId:V}){return`https://fcmregistrations.googleapis.com/v1/projects/${V}/registrations`}function Dn(V){return jn.apply(this,arguments)}function jn(){return(jn=(0,H.Z)(function*({appConfig:V,installations:B}){const Q=yield B.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":V.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function _t({p256dh:V,auth:B,endpoint:Q,vapidKey:de}){const We={web:{endpoint:Q,auth:B,p256dh:V}};return de!==Dr&&(We.web.applicationPubKey=de),We}const Rr=6048e5;function ei(V){return bn.apply(this,arguments)}function bn(){return(bn=(0,H.Z)(function*(V){const B=yield dn(V.swRegistration,V.vapidKey),Q={vapidKey:V.vapidKey,swScope:V.swRegistration.scope,endpoint:B.endpoint,auth:Ct(B.getKey("auth")),p256dh:Ct(B.getKey("p256dh"))},de=yield oe(V.firebaseDependencies);if(de){if(Qn(de.subscriptionOptions,Q))return Date.now()>=de.createTime+Rr?K(V,{token:de.token,createTime:Date.now(),subscriptionOptions:Q}):de.token;try{yield gn(V.firebaseDependencies,de.token)}catch(We){console.warn(We)}return Ue(V.firebaseDependencies,Q)}return Ue(V.firebaseDependencies,Q)})).apply(this,arguments)}function Ai(V){return mn.apply(this,arguments)}function mn(){return(mn=(0,H.Z)(function*(V){const B=yield oe(V.firebaseDependencies);B&&(yield gn(V.firebaseDependencies,B.token),yield $(V.firebaseDependencies));const Q=yield V.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function K(V,B){return ye.apply(this,arguments)}function ye(){return(ye=(0,H.Z)(function*(V,B){try{const Q=yield Kn(V.firebaseDependencies,B),de=Object.assign(Object.assign({},B),{token:Q,createTime:Date.now()});return yield Ve(V.firebaseDependencies,de),Q}catch(Q){throw yield Ai(V),Q}})).apply(this,arguments)}function Ue(V,B){return gt.apply(this,arguments)}function gt(){return(gt=(0,H.Z)(function*(V,B){const de={token:yield pt(V,B),createTime:Date.now(),subscriptionOptions:B};return yield Ve(V,de),de.token})).apply(this,arguments)}function dn(V,B){return xt.apply(this,arguments)}function xt(){return(xt=(0,H.Z)(function*(V,B){return(yield V.pushManager.getSubscription())||V.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(B)})})).apply(this,arguments)}function Qn(V,B){return B.vapidKey===V.vapidKey&&B.endpoint===V.endpoint&&B.auth===V.auth&&B.p256dh===V.p256dh}function Gt(V){const B={from:V.from,collapseKey:V.collapse_key,messageId:V.fcmMessageId};return function be(V,B){if(!B.notification)return;V.notification={};const Q=B.notification.title;Q&&(V.notification.title=Q);const de=B.notification.body;de&&(V.notification.body=de);const We=B.notification.image;We&&(V.notification.image=We)}(B,V),function On(V,B){!B.data||(V.data=B.data)}(B,V),function Vt(V,B){if(!B.fcmOptions)return;V.fcmOptions={};const Q=B.fcmOptions.link;Q&&(V.fcmOptions.link=Q);const de=B.fcmOptions.analytics_label;de&&(V.fcmOptions.analyticsLabel=de)}(B,V),B}function ti(V){return"object"==typeof V&&!!V&&Sn in V}function qt(V,B){const Q=[];for(let de=0;de<V.length;de++)Q.push(V.charAt(de)),de<B.length&&Q.push(B.charAt(de));return Q.join("")}function lr(V){return Ge.create("missing-app-config-values",{valueName:V})}qt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ot{constructor(B,Q,de){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function Ns(V){if(!V||!V.options)throw lr("App Configuration Object");if(!V.name)throw lr("App Name");const B=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=V;for(const de of B)if(!Q[de])throw lr(de);return{appName:V.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(B);this.firebaseDependencies={app:B,appConfig:We,installations:Q,analyticsProvider:de}}_delete(){return Promise.resolve()}}function di(V){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,H.Z)(function*(V){try{V.swRegistration=yield navigator.serviceWorker.register(Bn,{scope:Gn}),V.swRegistration.update().catch(()=>{})}catch(B){throw Ge.create("failed-service-worker-registration",{browserErrorMessage:B.message})}})).apply(this,arguments)}function Kr(V,B){return yn.apply(this,arguments)}function yn(){return(yn=(0,H.Z)(function*(V,B){if(!B&&!V.swRegistration&&(yield di(V)),B||!V.swRegistration){if(!(B instanceof ServiceWorkerRegistration))throw Ge.create("invalid-sw-registration");V.swRegistration=B}})).apply(this,arguments)}function ns(V,B){return Li.apply(this,arguments)}function Li(){return(Li=(0,H.Z)(function*(V,B){B?V.vapidKey=B:V.vapidKey||(V.vapidKey=Dr)})).apply(this,arguments)}function qn(){return(qn=(0,H.Z)(function*(V,B){if(!navigator)throw Ge.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ge.create("permission-blocked");return yield ns(V,null==B?void 0:B.vapidKey),yield Kr(V,null==B?void 0:B.serviceWorkerRegistration),ei(V)})).apply(this,arguments)}function $i(V,B,Q){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,H.Z)(function*(V,B,Q){const de=Jn(B);(yield V.firebaseDependencies.analyticsProvider.get()).logEvent(de,{message_id:Q[Sn],message_name:Q[mr],message_time:Q[br],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Jn(V){switch(V){case bt.NOTIFICATION_CLICKED:return"notification_open";case bt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zn(){return(zn=(0,H.Z)(function*(V,B){const Q=B.data;if(!Q.isFirebaseMessaging)return;V.onMessageHandler&&Q.messageType===bt.PUSH_RECEIVED&&("function"==typeof V.onMessageHandler?V.onMessageHandler(Gt(Q)):V.onMessageHandler.next(Gt(Q)));const de=Q.data;ti(de)&&"1"===de[Mr]&&(yield $i(V,Q.messageType,de))})).apply(this,arguments)}const Ii="@firebase/messaging",Xn=V=>{const B=new ot(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),V.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function Nr(V,B){return zn.apply(this,arguments)}(B,Q)),B},Ks=V=>{const B=V.getProvider("messaging").getImmediate();return{getToken:de=>function Tr(V,B){return qn.apply(this,arguments)}(B,de)}};function wi(){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,H.Z)(function*(){try{yield(0,fe.eu)()}catch(V){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function vo(){(0,ce._registerComponent)(new _e.wA("messaging",Xn,"PUBLIC")),(0,ce._registerComponent)(new _e.wA("messaging-internal",Ks,"PRIVATE")),(0,ce.registerVersion)(Ii,"0.9.11"),(0,ce.registerVersion)(Ii,"0.9.11","esm2017")}();var Si=P(7982),ta=P(4408),Gi=P(7565);const wo=new class Io extends Gi.v{}(class qs extends ta.o{constructor(B,Q){super(B,Q),this.scheduler=B,this.work=Q}schedule(B,Q=0){return Q>0?super.schedule(B,Q):(this.delay=Q,this.state=B,this.scheduler.flush(this),this)}execute(B,Q){return Q>0||this.closed?super.execute(B,Q):this._execute(B,Q)}requestAsyncId(B,Q,de=0){return null!=de&&de>0||null==de&&this.delay>0?super.requestAsyncId(B,Q,de):B.flush(this)}});var Cr=P(4986),zi=P(8505),Di=P(9468),Ts=P(5363);const Zs=new w.GfV("7.3.0"),Do="__angularfire_symbol__analyticsIsSupportedValue",ri="__angularfire_symbol__analyticsIsSupported",Wi="__angularfire_symbol__remoteConfigIsSupportedValue",Ki="__angularfire_symbol__remoteConfigIsSupported",qi="__angularfire_symbol__messagingIsSupportedValue",Ys="__angularfire_symbol__messagingIsSupported";globalThis[ri]||(globalThis[ri]=(0,Si.Gb)().then(V=>globalThis[Do]=V).catch(()=>globalThis[Do]=!1)),globalThis[Ys]||(globalThis[Ys]=wi().then(V=>globalThis[qi]=V).catch(()=>globalThis[qi]=!1)),globalThis[Ki]||(globalThis[Ki]=Tt().then(V=>globalThis[Wi]=V).catch(()=>globalThis[Wi]=!1));const Zi={async:()=>globalThis[ri],sync:()=>{const V=globalThis[Do];if(void 0===V)throw new Error((V=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${V} in the constructor, first ensure that ${V} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${V})\`.`)("Analytics"));return V}};function na(V,B,Q){if(B){if(1===B.length)return B[0];const Xe=B.filter(It=>It.app===Q);if(1===Xe.length)return Xe[0]}return Q.container.getProvider(V).getImmediate({optional:!0})}const dr=(V,B)=>{const Q=B?[B]:(0,R.C6)(),de=[];return Q.forEach(We=>{We.container.getProvider(V).instances.forEach(It=>{de.includes(It)||de.push(It)})}),de};function ii(){}class Qs{constructor(B,Q=wo){this.zone=B,this.delegate=Q}now(){return this.delegate.now()}schedule(B,Q,de){const We=this.zone;return this.delegate.schedule(function(It){We.runGuarded(()=>{B.apply(this,[It])})},Q,de)}}class bi{constructor(B){this.zone=B,this.task=null}call(B,Q){const de=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ii,{},ii,ii)),Q.pipe((0,zi.b)({next:de,complete:de,error:de})).subscribe(B).add(de)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fs=(()=>{class V{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Qs(Zone.current)),this.insideAngular=Q.run(()=>new Qs(Zone.current,Cr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return V.\u0275fac=function(Q){return new(Q||V)(w.LFG(w.R0b))},V.\u0275prov=w.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function wn(){const V=globalThis.\u0275AngularFireScheduler;if(!V)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return V}function ee(V){return wn(),function xe(V){return function(Q){return(Q=Q.lift(new bi(V.ngZone))).pipe((0,Di.R)(V.outsideAngular),(0,Ts.Q)(V.insideAngular))}}(wn())(V)}},2090:(Dt,Me,P)=>{P.d(Me,{$s:()=>Wr,BH:()=>Pe,G6:()=>Ee,L:()=>ge,LL:()=>Ut,Lj:()=>Ce,Mn:()=>st,Sg:()=>Ke,UG:()=>je,US:()=>ve,X3:()=>oe,ZB:()=>ue,ZR:()=>ie,b$:()=>ze,d:()=>Le,eu:()=>Ie,hl:()=>le,jU:()=>ht,m9:()=>Nt,ne:()=>Tt,pd:()=>gr,r3:()=>an,ru:()=>ct,tV:()=>J,uI:()=>Ae,vZ:()=>pr,w1:()=>Fe,xO:()=>Zn,xb:()=>Cn,z$:()=>et,zI:()=>Se,zd:()=>An});var w=P(5861);const fe=function(G){const $=[];let q=0;for(let ae=0;ae<G.length;ae++){let re=G.charCodeAt(ae);re<128?$[q++]=re:re<2048?($[q++]=re>>6|192,$[q++]=63&re|128):55296==(64512&re)&&ae+1<G.length&&56320==(64512&G.charCodeAt(ae+1))?(re=65536+((1023&re)<<10)+(1023&G.charCodeAt(++ae)),$[q++]=re>>18|240,$[q++]=re>>12&63|128,$[q++]=re>>6&63|128,$[q++]=63&re|128):($[q++]=re>>12|224,$[q++]=re>>6&63|128,$[q++]=63&re|128)}return $},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,$){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let re=0;re<G.length;re+=3){const Ge=G[re],pt=re+1<G.length,Jt=pt?G[re+1]:0,Kn=re+2<G.length,Xt=Kn?G[re+2]:0;let fn=(15&Jt)<<2|Xt>>6,Dn=63&Xt;Kn||(Dn=64,pt||(fn=64)),ae.push(q[Ge>>2],q[(3&Ge)<<4|Jt>>4],q[fn],q[Dn])}return ae.join("")},encodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(G):this.encodeByteArray(fe(G),$)},decodeString(G,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(G):function(G){const $=[];let q=0,ae=0;for(;q<G.length;){const re=G[q++];if(re<128)$[ae++]=String.fromCharCode(re);else if(re>191&&re<224){const Ge=G[q++];$[ae++]=String.fromCharCode((31&re)<<6|63&Ge)}else if(re>239&&re<365){const Kn=((7&re)<<18|(63&G[q++])<<12|(63&G[q++])<<6|63&G[q++])-65536;$[ae++]=String.fromCharCode(55296+(Kn>>10)),$[ae++]=String.fromCharCode(56320+(1023&Kn))}else{const Ge=G[q++],pt=G[q++];$[ae++]=String.fromCharCode((15&re)<<12|(63&Ge)<<6|63&pt)}}return $.join("")}(this.decodeStringToByteArray(G,$))},decodeStringToByteArray(G,$){this.init_();const q=$?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let re=0;re<G.length;){const Ge=q[G.charAt(re++)],Jt=re<G.length?q[G.charAt(re)]:0;++re;const Xt=re<G.length?q[G.charAt(re)]:64;++re;const Ht=re<G.length?q[G.charAt(re)]:64;if(++re,null==Ge||null==Jt||null==Xt||null==Ht)throw Error();ae.push(Ge<<2|Jt>>4),64!==Xt&&(ae.push(Jt<<4&240|Xt>>2),64!==Ht&&ae.push(Xt<<6&192|Ht))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},ge=function(G){return function(G){const $=fe(G);return ve.encodeByteArray($,!0)}(G).replace(/\./g,"")},J=function(G){try{return ve.decodeString(G,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ue(G,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return $}for(const q in $)!$.hasOwnProperty(q)||!ke(q)||(G[q]=ue(G[q],$[q]));return G}function ke(G){return"__proto__"!==G}class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,q)=>{this.resolve=$,this.reject=q})}wrapCallback($){return(q,ae)=>{q?this.reject(q):this.resolve(ae),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(q):$(q,ae))}}}function Ke(G,$){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ae=$||"demo-project",re=G.iat||0,Ge=G.sub||G.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${ae}`,aud:ae,iat:re,exp:re+3600,auth_time:re,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(pt)),""].join(".")}function et(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function ht(){return"object"==typeof self&&self.self===self}function ct(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function ze(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){return et().indexOf("Electron/")>=0}function Fe(){const G=et();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function st(){return et().indexOf("MSAppHost/")>=0}function Ee(){return!je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function le(){return"object"==typeof indexedDB}function Ie(){return new Promise((G,$)=>{try{let q=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(ae);re.onsuccess=()=>{re.result.close(),q||self.indexedDB.deleteDatabase(ae),G(!0)},re.onupgradeneeded=()=>{q=!1},re.onerror=()=>{var Ge;$((null===(Ge=re.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(q){$(q)}})}function Se(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ie extends Error{constructor($,q,ae){super(q),this.code=$,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,ie.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor($,q,ae){this.service=$,this.serviceName=q,this.errors=ae}create($,...q){const ae=q[0]||{},re=`${this.service}/${$}`,Ge=this.errors[$],pt=Ge?function un(G,$){return G.replace(hn,(q,ae)=>{const re=$[ae];return null!=re?String(re):`<${ae}?>`})}(Ge,ae):"Error";return new ie(re,`${this.serviceName}: ${pt} (${re}).`,ae)}}const hn=/\{\$([^}]+)}/g;function an(G,$){return Object.prototype.hasOwnProperty.call(G,$)}function Cn(G){for(const $ in G)if(Object.prototype.hasOwnProperty.call(G,$))return!1;return!0}function pr(G,$){if(G===$)return!0;const q=Object.keys(G),ae=Object.keys($);for(const re of q){if(!ae.includes(re))return!1;const Ge=G[re],pt=$[re];if(Hn(Ge)&&Hn(pt)){if(!pr(Ge,pt))return!1}else if(Ge!==pt)return!1}for(const re of ae)if(!q.includes(re))return!1;return!0}function Hn(G){return null!==G&&"object"==typeof G}function Zn(G){const $=[];for(const[q,ae]of Object.entries(G))Array.isArray(ae)?ae.forEach(re=>{$.push(encodeURIComponent(q)+"="+encodeURIComponent(re))}):$.push(encodeURIComponent(q)+"="+encodeURIComponent(ae));return $.length?"&"+$.join("&"):""}function An(G){const $={};return G.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[re,Ge]=ae.split("=");$[decodeURIComponent(re)]=decodeURIComponent(Ge)}}),$}function gr(G){const $=G.indexOf("?");if(!$)return"";const q=G.indexOf("#",$);return G.substring($,q>0?q:void 0)}function Tt(G,$){const q=new Yn(G,$);return q.subscribe.bind(q)}class Yn{constructor($,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{$(this)}).catch(ae=>{this.error(ae)})}next($){this.forEachObserver(q=>{q.next($)})}error($){this.forEachObserver(q=>{q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,q,ae){let re;if(void 0===$&&void 0===q&&void 0===ae)throw new Error("Missing Observer.");re=function Gn(G,$){if("object"!=typeof G||null===G)return!1;for(const q of $)if(q in G&&"function"==typeof G[q])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:q,complete:ae},void 0===re.next&&(re.next=Dr),void 0===re.error&&(re.error=Dr),void 0===re.complete&&(re.complete=Dr);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch(pt){}}),this.observers.push(re),Ge}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,$)}sendOne($,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{q(this.observers[$])}catch(ae){"undefined"!=typeof console&&console.error&&console.error(ae)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dr(){}function Wr(G,$=1e3,q=2){const ae=$*Math.pow(q,G),re=Math.round(.5*ae*(Math.random()-.5)*2);return Math.min(144e5,ae+re)}function Nt(G){return G&&G._delegate?G._delegate:G}function cr(G,$){return new Promise((q,ae)=>{G.onsuccess=re=>{q(re.target.result)},G.onerror=re=>{var Ge;ae(`${$}: ${null===(Ge=re.target.error)||void 0===Ge?void 0:Ge.message}`)}})}class Qt{constructor($){this._db=$,this.objectStoreNames=this._db.objectStoreNames}transaction($,q){return new lt(this._db.transaction.call(this._db,$,q))}createObjectStore($,q){return new He(this._db.createObjectStore($,q))}close(){this._db.close()}}class lt{constructor($){this._transaction=$,this.complete=new Promise((q,ae)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{ae(this._transaction.error)},this._transaction.onabort=()=>{ae(this._transaction.error)}})}objectStore($){return new He(this._transaction.objectStore($))}}class He{constructor($){this._store=$}index($){return new vt(this._store.index($))}createIndex($,q,ae){return new vt(this._store.createIndex($,q,ae))}get($){return cr(this._store.get($),"Error reading from IndexedDB")}put($,q){return cr(this._store.put($,q),"Error writing to IndexedDB")}delete($){return cr(this._store.delete($),"Error deleting from IndexedDB")}clear(){return cr(this._store.clear(),"Error clearing IndexedDB object store")}}class vt{constructor($){this._index=$}get($){return cr(this._index.get($),"Error reading from IndexedDB")}}function oe(G,$,q){return new Promise((ae,re)=>{try{const Ge=indexedDB.open(G,$);Ge.onsuccess=pt=>{ae(new Qt(pt.target.result))},Ge.onerror=pt=>{var Jt;re(`Error opening indexedDB: ${null===(Jt=pt.target.error)||void 0===Jt?void 0:Jt.message}`)},Ge.onupgradeneeded=pt=>{q(new Qt(Ge.result),pt.oldVersion,pt.newVersion,new lt(Ge.transaction))}}catch(Ge){re(`Error opening indexedDB: ${Ge.message}`)}})}function Ce(G){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,w.Z)(function*(G){return new Promise(($,q)=>{try{const ae=indexedDB.deleteDatabase(G);ae.onsuccess=()=>{$()},ae.onerror=re=>{var Ge;q(`Error deleting indexedDB database "${G}": ${null===(Ge=re.target.error)||void 0===Ge?void 0:Ge.message}`)}}catch(ae){q(`Error deleting indexedDB database "${G}": ${ae.message}`)}})})).apply(this,arguments)}},2595:(Dt,Me,P)=>{P.r(Me),P.d(Me,{HrModule:()=>ve});var w=P(9808),R=P(5e3);let H=(()=>{class he{constructor(){}ngOnInit(){}}return he.\u0275fac=function(J){return new(J||he)},he.\u0275cmp=R.Xpm({type:he,selectors:[["app-gross-net-conversion"]],decls:10,vars:0,consts:[[1,"content"],[1,"row"],[1,"col-md-8"],[1,"card","shadow-none"],[1,"card-body"],[1,"col-md-4"]],template:function(J,Y){1&J&&(R.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),R._uU(5," left "),R.qZA()()(),R.TgZ(6,"div",5)(7,"div",3)(8,"div",4),R._uU(9," right "),R.qZA()()()()())},styles:[""]}),he})();var ce=P(549);const _e=[{path:"",component:(()=>{class he{constructor(){}ngOnInit(){}}return he.\u0275fac=function(J){return new(J||he)},he.\u0275cmp=R.Xpm({type:he,selectors:[["app-home"]],decls:2,vars:0,consts:[[1,"container","main-content","mt-2","mb-2"]],template:function(J,Y){1&J&&(R.TgZ(0,"div",0),R._UZ(1,"router-outlet"),R.qZA())},directives:[ce.lC],styles:[""]}),he})(),children:[{path:"gross-net-conversion",component:H}]}];let ve=(()=>{class he{}return he.\u0275fac=function(J){return new(J||he)},he.\u0275mod=R.oAB({type:he}),he.\u0275inj=R.cJS({imports:[[w.ez,ce.Bz.forChild(_e)]]}),he})()},5545:(Dt,Me,P)=>{var w=P(9808),R=P(5e3);class H extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends H{static makeCurrent(){(0,w.HT)(new ce)}onAndCancel(e,t,s){return e.addEventListener(t,s,!1),()=>{e.removeEventListener(t,s,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function _e(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==t?null:function he(n){ve=ve||document.createElement("a"),ve.setAttribute("href",n);const e=ve.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,w.Mx)(document.cookie,e)}}let ve,fe=null;const ge=new R.OlP("TRANSITION_ID"),Y=[{provide:R.ip1,useFactory:function J(n,e,t){return()=>{t.get(R.CZH).donePromise.then(()=>{const s=(0,w.q)(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[ge,w.K0,R.zs3],multi:!0}];class ue{static init(){(0,R.VLi)(new ue)}addToWindow(e){R.dqk.getAngularTestability=(s,a=!0)=>{const d=e.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},R.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),R.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),R.dqk.frameworkStabilizers||(R.dqk.frameworkStabilizers=[]),R.dqk.frameworkStabilizers.push(s=>{const a=R.dqk.getAllAngularTestabilities();let d=a.length,p=!1;const I=function(S){p=p||S,d--,0==d&&s(p)};a.forEach(function(S){S.whenStable(I)})})}findTestabilityInTree(e,t,s){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:s?(0,w.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ke=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();const Pe=new R.OlP("EventManagerPlugins");let Ke=(()=>{class n{constructor(t,s){this._zone=s,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,s,a){return this._findPluginFor(s).addEventListener(t,s,a)}addGlobalEventListener(t,s,a){return this._findPluginFor(s).addGlobalEventListener(t,s,a)}getZone(){return this._zone}_findPluginFor(t){const s=this._eventNameToPlugin.get(t);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const p=a[d];if(p.supports(t))return this._eventNameToPlugin.set(t,p),p}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(Pe),R.LFG(R.R0b))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();class et{constructor(e){this._doc=e}addGlobalEventListener(e,t,s){const a=(0,w.q)().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,s)}}let Ae=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const s=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n extends Ae{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,s,a){t.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,a.push(s.appendChild(p))})}addHost(t){const s=[];this._addStylesToHost(this._stylesSet,t,s),this._hostNodes.set(t,s)}removeHost(t){const s=this._hostNodes.get(t);s&&s.forEach(ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(t,a,s)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ht))}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(w.K0))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();function ht(n){(0,w.q)().remove(n)}const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ze=/%COMP%/g;function Ie(n,e,t){for(let s=0;s<e.length;s++){let a=e[s];Array.isArray(a)?Ie(n,a,t):(a=a.replace(ze,n),t.push(a))}return t}function Se(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Je=(()=>{class n{constructor(t,s,a){this.eventManager=t,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ie(t)}createRenderer(t,s){if(!t||!s)return this.defaultRenderer;switch(s.encapsulation){case R.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new hn(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(t),a}case 1:case R.ifc.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,s);default:if(!this.rendererByCompId.has(s.id)){const a=Ie(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(Ke),R.LFG(je),R.LFG(R.AFp))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();class ie{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,s){e&&e.insertBefore(t,s)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let s="string"==typeof e?document.querySelector(e):e;if(!s)throw new Error(`The selector "${e}" did not match any elements`);return t||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,s,a){if(a){t=a+":"+t;const d=ct[a];d?e.setAttributeNS(d,t,s):e.setAttribute(t,s)}else e.setAttribute(t,s)}removeAttribute(e,t,s){if(s){const a=ct[s];a?e.removeAttributeNS(a,t):e.removeAttribute(`${s}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,s,a){a&(R.JOm.DashCase|R.JOm.Important)?e.style.setProperty(t,s,a&R.JOm.Important?"important":""):e.style[t]=s}removeStyle(e,t,s){s&R.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,s){e[t]=s}setValue(e,t){e.nodeValue=t}listen(e,t,s){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Se(s)):this.eventManager.addEventListener(e,t,Se(s))}}class hn extends ie{constructor(e,t,s,a){super(e),this.component=s;const d=Ie(a+"-"+s.id,s.styles,[]);t.addStyles(d),this.contentAttr=function Ee(n){return"_ngcontent-%COMP%".replace(ze,n)}(a+"-"+s.id),this.hostAttr=function le(n){return"_nghost-%COMP%".replace(ze,n)}(a+"-"+s.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const s=super.createElement(e,t);return super.setAttribute(s,this.contentAttr,""),s}}class ft extends ie{constructor(e,t,s,a){super(e),this.sharedStylesHost=t,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Ie(a.id,a.styles,[]);for(let p=0;p<d.length;p++){const I=document.createElement("style");I.textContent=d[p],this.shadowRoot.appendChild(I)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,s){return super.insertBefore(this.nodeOrShadowRoot(e),t,s)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yt=(()=>{class n extends et{constructor(t){super(t)}supports(t){return!0}addEventListener(t,s,a){return t.addEventListener(s,a,!1),()=>this.removeEventListener(t,s,a)}removeEventListener(t,s,a){return t.removeEventListener(s,a)}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(w.K0))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();const vn=["alt","control","meta","shift"],Ir={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ln={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ur={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let an=(()=>{class n extends et{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,s,a){const d=n.parseEventName(s),p=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const s=t.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let p="";if(vn.forEach(S=>{const O=s.indexOf(S);O>-1&&(s.splice(O,1),p+=S+".")}),p+=d,0!=s.length||0===d.length)return null;const I={};return I.domEventName=a,I.fullKey=p,I}static getEventFullKey(t){let s="",a=function $t(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ln.hasOwnProperty(e)&&(e=ln[e]))}return Ir[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),vn.forEach(d=>{d!=a&&ur[d](t)&&(s+=d+".")}),s+=a,s}static eventCallback(t,s,a){return d=>{n.getEventFullKey(d)===t&&a.runGuarded(()=>s(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(w.K0))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})();const Zn=(0,R.eFA)(R._c5,"browser",[{provide:R.Lbi,useValue:w.bD},{provide:R.g9A,useValue:function Cn(){ce.makeCurrent(),ue.init()},multi:!0},{provide:w.K0,useFactory:function pr(){return(0,R.RDi)(document),document},deps:[]}]),An=[{provide:R.zSh,useValue:"root"},{provide:R.qLn,useFactory:function wr(){return new R.qLn},deps:[]},{provide:Pe,useClass:yt,multi:!0,deps:[w.K0,R.R0b,R.Lbi]},{provide:Pe,useClass:an,multi:!0,deps:[w.K0]},{provide:Je,useClass:Je,deps:[Ke,je,R.AFp]},{provide:R.FYo,useExisting:Je},{provide:Ae,useExisting:je},{provide:je,useClass:je,deps:[w.K0]},{provide:R.dDg,useClass:R.dDg,deps:[R.R0b]},{provide:Ke,useClass:Ke,deps:[Pe,R.R0b]},{provide:w.JF,useClass:ke,deps:[]}];let gr=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:R.AFp,useValue:t.appId},{provide:ge,useExisting:R.AFp},Y]}}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(n,12))},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({providers:An,imports:[w.ez,R.hGG]}),n})(),Gn=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(w.K0))},n.\u0275prov=R.Yz7({token:n,factory:function(t){let s=null;return s=t?new t:function Bn(){return new Gn((0,R.LFG)(w.K0))}(),s},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var pt=P(549);const Jt=function(){return["/hr","gross-net-conversion"]},Xt=[{path:"",pathMatch:"full",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=R.Xpm({type:n,selectors:[["app-dashboard"]],decls:60,vars:2,consts:[[1,"container"],[1,"slice","py-7"],[1,"row","row-grid","align-items-center"],[1,"col-12","col-md-5","col-lg-6","order-md-2","text-center"],[1,"w-100"],["alt","Image placeholder","src","https://preview.webpixels.io/quick-free-bootstrap-theme/assets/img/svg/illustrations/illustration-3.svg",1,"img-fluid","mw-md-120"],[1,"col-12","col-md-7","col-lg-6","order-md-1","pr-md-5"],[1,"display-4","text-center","text-md-left","mb-3"],[1,"text-primary"],[1,"lead","text-center","text-md-left","text-muted"],[1,"text-center","text-md-left","mt-5"],["href","https://webpixels.io/themes/quick-free-bootstrap-theme","target","_blank",1,"btn","btn-primary","btn-icon","mr-2"],[1,"btn-inner--text"],[1,"btn-inner--icon"],["data-feather","chevron-right"],["href","https://webpixels.io/illustrations","target","_blank",1,"btn","btn-neutral","btn-icon","d-none","d-lg-inline-block"],[1,"slice","slice-lg","pt-lg-6","pb-0","pb-lg-6","bg-section-secondary"],[1,"row","mb-5","justify-content-center","text-center"],[1,"col-lg-6"],[1,"mt-4"],[1,"mt-2"],[1,"lead","lh-180"],[1,"row","mt-5"],[1,"col-md-4"],[3,"routerLink"],[1,"card"],[1,"card-body","pb-5"],[1,"pt-4","pb-5"],["src","https://preview.webpixels.io/quick-free-bootstrap-theme/assets/img/svg/illustrations/illustration-5.svg","alt","Illustration",1,"img-fluid","img-center",2,"height","150px"],[1,"h4","lh-130","mb-3"],[1,"text-muted","mb-0"],["src","https://preview.webpixels.io/quick-free-bootstrap-theme/assets/img/svg/illustrations/illustration-6.svg","alt","Illustration",1,"img-fluid","img-center",2,"height","150px"],["src","https://preview.webpixels.io/quick-free-bootstrap-theme/assets/img/svg/illustrations/illustration-7.svg","alt","Illustration",1,"img-fluid","img-center",2,"height","150px"]],template:function(t,s){1&t&&(R.TgZ(0,"div",0)(1,"section",1)(2,"div",0)(3,"div",2)(4,"div",3)(5,"figure",4),R._UZ(6,"img",5),R.qZA()(),R.TgZ(7,"div",6)(8,"h1",7),R._uU(9," 1Tools "),R.TgZ(10,"strong",8),R._uU(11,"Ti\u1ec7n \xedch online"),R.qZA()(),R.TgZ(12,"p",9),R._uU(13," Cung c\u1ea5p c\xf4ng c\u1ee5 gi\xfap b\u1ea1n gi\u1ea3i quy\u1ebft c\xe1c v\u1ea5n \u0111\u1ec1 trong c\xe1ch l\u0129nh v\u1ef1c kh\xe1c nhau qua b\u1ed9 c\xf4ng c\u1ee5 ti\u1ec7n t\xedch "),R.qZA(),R.TgZ(14,"div",10)(15,"a",11)(16,"span",12),R._uU(17,"Kh\xe1m ph\xe1"),R.qZA(),R.TgZ(18,"span",13),R._UZ(19,"i",14),R.qZA()(),R.TgZ(20,"a",15),R._uU(21,"About"),R.qZA()()()()()(),R.TgZ(22,"section",16)(23,"div",0)(24,"div",17)(25,"div",18)(26,"h2",19),R._uU(27,"Top ti\u1ec7n \xedch"),R.qZA(),R.TgZ(28,"div",20)(29,"p",21),R._uU(30,"Danh s\xe1ch c\xe1c c\xf4ng c\u1ee5 ti\u1ec7n \xedch trong h\u1ec7 th\u1ed1ng c\xf3 th\u1ec3 gi\xfap b\u1ea1n"),R.qZA()()()(),R.TgZ(31,"div",22)(32,"div",23)(33,"a",24)(34,"div",25)(35,"div",26)(36,"div",27),R._UZ(37,"img",28),R.qZA(),R.TgZ(38,"h5",29),R._uU(39,"T\xednh l\u01b0\u01a1ng"),R.qZA(),R.TgZ(40,"p",30),R._uU(41,"Ti\u1ec7n \xedch gi\xfap b\u1ea1n nhanh ch\xf3ng t\xednh \u0111\u01b0\u1ee3c m\u1ee9c l\u01b0\u01a1ng th\xf4ng qua b\u1ed9 chuy\u1ec3n \u0111\u1ed5i Gross - NET"),R.qZA()()()()(),R.TgZ(42,"div",23)(43,"div",25)(44,"div",26)(45,"div",27),R._UZ(46,"img",31),R.qZA(),R.TgZ(47,"h5",29),R._uU(48,"To be defined"),R.qZA(),R.TgZ(49,"p",30),R._uU(50,"..."),R.qZA()()()(),R.TgZ(51,"div",23)(52,"div",25)(53,"div",26)(54,"div",27),R._UZ(55,"img",32),R.qZA(),R.TgZ(56,"h5",29),R._uU(57,"To be defined"),R.qZA(),R.TgZ(58,"p",30),R._uU(59,"..."),R.qZA()()()()()()()()),2&t&&(R.xp6(33),R.Q6J("routerLink",R.DdM(1,Jt)))},directives:[pt.yS],styles:[""]}),n})()},{path:"hr",loadChildren:()=>Promise.resolve().then(P.bind(P,2595)).then(n=>n.HrModule)}];let gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({imports:[[pt.Bz.forRoot(Xt)],pt.Bz]}),n})();var Ht=P(4986),fn=P(8306),Dn=P(8996),jn=P(9646),_t=P(880),Rr=P(8675),ei=P(4482),bn=P(5403);function Ai(){return(0,ei.e)((n,e)=>{let t,s=!1;n.subscribe((0,bn.x)(e,a=>{const d=t;t=a,s&&e.next([d,a]),s=!0}))})}var mn=P(4004),K=P(5026),ye=P(4671);function Ue(n,e=ye.y){return n=null!=n?n:gt,(0,ei.e)((t,s)=>{let a,d=!0;t.subscribe((0,bn.x)(s,p=>{const I=e(p);(d||!n(a,I))&&(d=!1,a=I,s.next(p))}))})}function gt(n,e){return n===e}var ot,dn=P(9300),xt=P(2011),Gt=(P(4087),P(3942)),be=P(5861),On=P(9681),Vt=P(4859),ti=P(1877),qt=P(2090),Ns="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lr={},di=di||{},Ft=Ns||self;function Kr(){}function yn(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ns(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Tr="closure_uid_"+(1e9*Math.random()>>>0),qn=0;function $i(n,e,t){return n.call.apply(n.bind,arguments)}function Hi(n,e,t){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Jn(n,e,t){return(Jn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$i:Hi).apply(null,arguments)}function Nr(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function zn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(s,a,d){for(var p=Array(arguments.length-2),I=2;I<arguments.length;I++)p[I-2]=arguments[I];return e.prototype[a].apply(s,p)}}function Ii(){this.s=this.s,this.o=this.o}var Xn={};Ii.prototype.s=!1,Ii.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Li(n){return Object.prototype.hasOwnProperty.call(n,Tr)&&n[Tr]||(n[Tr]=++qn)}(this);delete Xn[n]}},Ii.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ks=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},vo=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const s=n.length,a="string"==typeof n?n.split(""):n;for(let d=0;d<s;d++)d in a&&e.call(t,a[d],d,n)};function Ps(n){return Array.prototype.concat.apply([],arguments)}function Ds(n){const e=n.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=n[s];return t}return[]}function ks(n){return/^[\s\xa0]*$/.test(n)}var Or,rs=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ni(n,e){return-1!=n.indexOf(e)}function _o(n,e){return n<e?-1:n>e?1:0}e:{var Eo=Ft.navigator;if(Eo){var bs=Eo.userAgent;if(bs){Or=bs;break e}}Or=""}function Si(n,e,t){for(const s in n)e.call(t,n[s],s,n)}function ta(n){const e={};for(const t in n)e[t]=n[t];return e}var qs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gi(n,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)n[t]=s[t];for(let d=0;d<qs.length;d++)t=qs[d],Object.prototype.hasOwnProperty.call(s,t)&&(n[t]=s[t])}}function Io(n){return Io[" "](n),n}Io[" "]=Kr;var ri,n,is=ni(Or,"Opera"),Cr=ni(Or,"Trident")||ni(Or,"MSIE"),zi=ni(Or,"Edge"),Di=zi||Cr,Ts=ni(Or,"Gecko")&&!(ni(Or.toLowerCase(),"webkit")&&!ni(Or,"Edge"))&&!(ni(Or,"Trident")||ni(Or,"MSIE"))&&!ni(Or,"Edge"),Zs=ni(Or.toLowerCase(),"webkit")&&!ni(Or,"Edge");function Do(){var n=Ft.document;return n?n.documentMode:void 0}e:{var Wi="",Ki=(n=Or,Ts?/rv:([^\);]+)(\)|;)/.exec(n):zi?/Edge\/([\d\.]+)/.exec(n):Cr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Zs?/WebKit\/(\S+)/.exec(n):is?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Ki&&(Wi=Ki?Ki[1]:""),Cr){var qi=Do();if(null!=qi&&qi>parseFloat(Wi)){ri=String(qi);break e}}ri=Wi}var Ys={};var Zi=Ft.document&&Cr&&(Do()||parseInt(ri,10))||void 0,na=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",Kr,e),Ft.removeEventListener("test",Kr,e)}catch(t){}return n}();function dr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ii(n,e){if(dr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ts){e:{try{Io(e.nodeName);var a=!0;break e}catch(d){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Qs[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ii.Z.h.call(this)}}dr.prototype.h=function(){this.defaultPrevented=!0},zn(ii,dr);var Qs={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bi="closure_listenable_"+(1e6*Math.random()|0),Fs=0;function wn(n,e,t,s,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ia=a,this.key=++Fs,this.ca=this.fa=!1}function A(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function F(n){this.src=n,this.g={},this.h=0}function C(n,e){var t=e.type;if(t in n.g){var d,s=n.g[t],a=Ks(s,e);(d=0<=a)&&Array.prototype.splice.call(s,a,1),d&&(A(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function U(n,e,t,s){for(var a=0;a<n.length;++a){var d=n[a];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==s)return a}return-1}F.prototype.add=function(n,e,t,s,a){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var p=U(n,e,s,a);return-1<p?(e=n[p],t||(e.fa=!1)):((e=new wn(e,this.src,d,!!s,a)).fa=t,n.push(e)),e};var ee="closure_lm_"+(1e6*Math.random()|0),xe={};function qe(n,e,t,s,a){if(s&&s.once)return B(n,e,t,s,a);if(Array.isArray(e)){for(var d=0;d<e.length;d++)qe(n,e[d],t,s,a);return null}return t=xn(t),n&&n[bi]?n.N(e,t,ns(s)?!!s.capture:!!s,a):At(n,e,t,!1,s,a)}function At(n,e,t,s,a,d){if(!e)throw Error("Invalid event type");var p=ns(a)?!!a.capture:!!a,I=It(n);if(I||(n[ee]=I=new F(n)),(t=I.add(e,t,s,p,d)).proxy)return t;if(s=function V(){var e=Xe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=s,s.src=n,s.listener=t,n.addEventListener)na||(a=p),void 0===a&&(a=!1),n.addEventListener(e.toString(),s,a);else if(n.attachEvent)n.attachEvent(We(e.toString()),s);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(s)}return t}function B(n,e,t,s,a){if(Array.isArray(e)){for(var d=0;d<e.length;d++)B(n,e[d],t,s,a);return null}return t=xn(t),n&&n[bi]?n.O(e,t,ns(s)?!!s.capture:!!s,a):At(n,e,t,!0,s,a)}function Q(n,e,t,s,a){if(Array.isArray(e))for(var d=0;d<e.length;d++)Q(n,e[d],t,s,a);else s=ns(s)?!!s.capture:!!s,t=xn(t),n&&n[bi]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=U(d=n.g[e],t,s,a))&&(A(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=It(n))&&(e=n.g[e.toString()],n=-1,e&&(n=U(e,t,s,a)),(t=-1<n?e[n]:null)&&de(t))}function de(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[bi])C(e.i,n);else{var t=n.type,s=n.proxy;e.removeEventListener?e.removeEventListener(t,s,n.capture):e.detachEvent?e.detachEvent(We(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=It(e))?(C(t,n),0==t.h&&(t.src=null,e[ee]=null)):A(n)}}}function We(n){return n in xe?xe[n]:xe[n]="on"+n}function Xe(n,e){if(n.ca)n=!0;else{e=new ii(e,this);var t=n.listener,s=n.ia||n.src;n.fa&&de(n),n=t.call(s,e)}return n}function It(n){return(n=n[ee])instanceof F?n:null}var Pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(n){return"function"==typeof n?n:(n[Pn]||(n[Pn]=function(e){return n.handleEvent(e)}),n[Pn])}function nt(){Ii.call(this),this.i=new F(this),this.P=this,this.I=null}function Bt(n,e){var t,s=n.I;if(s)for(t=[];s;s=s.I)t.push(s);if(n=n.P,s=e.type||e,"string"==typeof e)e=new dr(e,n);else if(e instanceof dr)e.target=e.target||n;else{var a=e;Gi(e=new dr(s,n),a)}if(a=!0,t)for(var d=t.length-1;0<=d;d--){var p=e.g=t[d];a=zt(p,s,!0,e)&&a}if(a=zt(p=e.g=n,s,!0,e)&&a,a=zt(p,s,!1,e)&&a,t)for(d=0;d<t.length;d++)a=zt(p=e.g=t[d],s,!1,e)&&a}function zt(n,e,t,s){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.ca&&p.capture==t){var I=p.listener,S=p.ia||p.src;p.fa&&C(n.i,p),a=!1!==I.call(S,s)&&a}}return a&&!s.defaultPrevented}zn(nt,Ii),nt.prototype[bi]=!0,nt.prototype.removeEventListener=function(n,e,t,s){Q(this,n,e,t,s)},nt.prototype.M=function(){if(nt.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],s=0;s<t.length;s++)A(t[s]);delete n.g[e],n.h--}}this.I=null},nt.prototype.N=function(n,e,t,s){return this.i.add(String(n),e,!1,t,s)},nt.prototype.O=function(n,e,t,s){return this.i.add(String(n),e,!0,t,s)};var qr=Ft.JSON.stringify;function hi(){var n=ra;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Js,Ls=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bo,n=>n.reset());class bo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ze(n){Ft.setTimeout(()=>{throw n},0)}function sn(n,e){Js||function Vr(){var n=Ft.Promise.resolve(void 0);Js=function(){n.then(Ui)}}(),Xs||(Js(),Xs=!0),ra.add(n,e)}var Xs=!1,ra=new class ss{constructor(){this.h=this.g=null}add(e,t){const s=Ls.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Ui(){for(var n;n=hi();){try{n.h.call(n.g)}catch(t){Ze(t)}var e=Ls;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Xs=!1}function Us(n,e){nt.call(this),this.h=n||1,this.g=e||Ft,this.j=Jn(this.kb,this),this.l=Date.now()}function Ma(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function cu(n,e,t){if("function"==typeof n)t&&(n=Jn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function Ra(n){n.g=cu(()=>{n.g=null,n.i&&(n.i=!1,Ra(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zn(Us,nt),(ot=Us.prototype).da=!1,ot.S=null,ot.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Bt(this,"tick"),this.da&&(Ma(this),this.start()))}},ot.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ot.M=function(){Us.Z.M.call(this),Ma(this),delete this.g};class lu extends Ii{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ra(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(n){Ii.call(this),this.h=n,this.g={}}zn(xi,Ii);var fi=[];function Yi(n,e,t,s){Array.isArray(t)||(t&&(fi[0]=t.toString()),t=fi);for(var a=0;a<t.length;a++){var d=qe(e,t[a],s||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function To(n){Si(n.g,function(e,t){this.g.hasOwnProperty(t)&&de(e)},n),n.g={}}function os(){this.g=!0}function Co(n,e,t,s){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bd(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var s=t[n];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var d=a[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<a.length;p++)a[p]=""}}}return qr(t)}catch(I){return e}}(n,t)+(s?" "+s:"")})}xi.prototype.M=function(){xi.Z.M.call(this),To(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},os.prototype.Aa=function(){this.g=!1},os.prototype.info=function(){};var as={},du=null;function Ao(){return du=du||new nt}function Na(n){dr.call(this,as.Ma,n)}function Oa(n){const e=Ao();Bt(e,new Na(e,n))}function hu(n,e){dr.call(this,as.STAT_EVENT,n),this.stat=e}function Pr(n){const e=Ao();Bt(e,new hu(e,n))}function Yu(n,e){dr.call(this,as.Na,n),this.size=e}function us(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}as.Ma="serverreachability",zn(Na,dr),as.STAT_EVENT="statevent",zn(hu,dr),as.Na="timingevent",zn(Yu,dr);var So={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qc={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function xo(){}function Ju(){}xo.prototype.h=null;var Zc,kr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Bs(){dr.call(this,"d")}function hr(){dr.call(this,"c")}function Xu(){}function Pa(n,e,t,s){this.l=n,this.j=e,this.m=t,this.X=s||1,this.V=new xi(this),this.P=Yc,this.W=new Us(n=Di?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Td}function Td(){this.i=null,this.g="",this.h=!1}zn(Bs,dr),zn(hr,dr),zn(Xu,xo),Xu.prototype.g=function(){return new XMLHttpRequest},Xu.prototype.i=function(){return{}},Zc=new Xu;var Yc=45e3,ka={},Vi={};function eo(n,e,t){n.K=1,n.v=As(Ni(e)),n.s=t,n.U=!0,Mo(n,null)}function Mo(n,e){n.F=Date.now(),Mi(n),n.A=Ni(n.v);var t=n.A,s=n.X;Array.isArray(s)||(s=[String(s)]),mu(t.h,"t",s),n.C=0,t=n.l.H,n.h=new Td,n.g=ha(n.l,t?e:null,!n.s),0<n.O&&(n.L=new lu(Jn(n.Ia,n,n.g),n.O)),Yi(n.V,n.g,"readystatechange",n.gb),e=n.H?ta(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Oa(1),function Vs(n,e,t,s,a,d){n.info(function(){if(n.g)if(d)for(var p="",I=d.split("&"),S=0;S<I.length;S++){var O=I[S].split("=");if(1<O.length){var W=O[0];O=O[1];var X=W.split("_");p=2<=X.length&&"type"==X[1]?p+(W+"=")+O+"&":p+(W+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+p})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Fa(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function ec(n,e,t){let a,s=!0;for(;!n.I&&n.C<t.length;){if(a=Cd(n,t),a==Vi){4==e&&(n.o=4,Pr(14),s=!1),Co(n.j,n.m,null,"[Incomplete Response]");break}if(a==ka){n.o=4,Pr(15),Co(n.j,n.m,t,"[Invalid Chunk]"),s=!1;break}Co(n.j,n.m,a,null),Zr(n,a)}Fa(n)&&a!=Vi&&a!=ka&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Pr(16),s=!1),n.i=n.i&&s,s?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Rd(e),e.L=!0,Pr(11))):(Co(n.j,n.m,t,"[Invalid Chunked Response]"),Qi(n),no(n))}function Cd(n,e){var t=n.C,s=e.indexOf("\n",t);return-1==s?Vi:(t=Number(e.substring(t,s)),isNaN(t)?ka:(s+=1)+t>e.length?Vi:(e=e.substr(s,t),n.C=s+t,e))}function Mi(n){n.Y=Date.now()+n.P,to(n,n.P)}function to(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=us(Jn(n.eb,n),e)}function La(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function no(n){0==n.l.G||n.I||Hh(n.l,n)}function Qi(n){La(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ma(n.W),To(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Zr(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Z(t.i,n)))if(t.I=n.N,!n.J&&Z(t.i,n)&&3==t.G){try{var s=t.Ca.g.parse(e)}catch(O){s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=us(Jn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;vu(t),tl(t)}ic(t),Pr(18)}if(1>=L(t.i)&&t.ka){try{t.ka()}catch(O){}t.ka=void 0}}else ko(t,11)}else if((n.J||t.g==n)&&vu(t),!ks(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let O=a[e];if(t.U=O[0],O=O[1],2==t.G)if("c"==O[0]){t.J=O[1],t.la=O[2];const W=O[3];null!=W&&(t.ma=W,t.h.info("VER="+t.ma));const X=O[4];null!=X&&(t.za=X,t.h.info("SVER="+t.za));const pe=O[5];null!=pe&&"number"==typeof pe&&0<pe&&(t.K=s=1.5*pe,t.h.info("backChannelRequestTimeoutMs_="+s)),s=t;const Ne=n.g;if(Ne){const Be=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Be){var d=s.i;!d.g&&(ni(Be,"spdy")||ni(Be,"quic")||ni(Be,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(te(d,d.h),d.h=null))}if(s.D){const it=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;it&&(s.sa=it,Mn(s.F,s.D,it))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var p=n;if((s=t).oa=Nd(s,s.H?s.la:null,s.W),p.J){Oe(s.i,p);var I=p,S=s.K;S&&I.setTimeout(S),I.B&&(La(I),Mi(I)),s.g=p}else Md(s);0<t.l.length&&$a(t)}else"stop"!=O[0]&&"close"!=O[0]||ko(t,7);else 3==t.G&&("stop"==O[0]||"close"==O[0]?"stop"==O[0]?ko(t,7):rc(t):"noop"!=O[0]&&t.j&&t.j.wa(O),t.A=0)}Oa(4)}catch(O){}}function fu(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yn(n)||"string"==typeof n)vo(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(yn(n)||"string"==typeof n){t=[];for(var s=n.length,a=0;a<s;a++)t.push(a)}else for(a in t=[],s=0,n)t[s++]=a;s=function Ad(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(yn(n)){for(var e=[],t=n.length,s=0;s<t;s++)e.push(n[s]);return e}for(s in e=[],t=0,n)e[t++]=n[s];return e}(n),a=s.length;for(var d=0;d<a;d++)e.call(void 0,s[d],t&&t[d],n)}}function ia(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var s=0;s<t;s+=2)this.set(arguments[s],arguments[s+1])}else if(n)if(n instanceof ia)for(t=n.T(),s=0;s<t.length;s++)this.set(t[s],n.get(t[s]));else for(s in n)this.set(s,n[s])}function ro(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var s=n.g[e];Ri(n.h,s)&&(n.g[t++]=s),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Ri(a,s=n.g[e])||(n.g[t++]=s,a[s]=1),e++;n.g.length=t}}function Ri(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ot=Pa.prototype).setTimeout=function(n){this.P=n},ot.gb=function(n){n=n.target;const e=this.L;e&&3==Ar(n)?e.l():this.Ia(n)},ot.Ia=function(n){try{if(n==this.g)e:{const W=Ar(this.g);var e=this.g.Da();const X=this.g.ba();if(!(3>W)&&(3!=W||Di||this.g&&(this.h.h||this.g.ga()||ds(this.g)))){this.I||4!=W||7==e||Oa(8==e||0>=X?3:2),La(this);var t=this.g.ba();this.N=t;t:if(Fa(this)){var s=ds(this.g);n="";var a=s.length,d=4==Ar(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qi(this),no(this);var p="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(s[e],{stream:d&&e==a-1});s.splice(0,a),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ga();if(this.i=200==t,function qu(n,e,t,s,a,d,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.X,W,t),this.i){if(this.$&&!this.J){t:{if(this.g){var I,S=this.g;if((I=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ks(I)){var O=I;break t}}O=null}if(!(t=O)){this.i=!1,this.o=3,Pr(12),Qi(this),no(this);break e}Co(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zr(this,t)}this.U?(ec(this,W,p),Di&&this.i&&3==W&&(Yi(this.V,this.W,"tick",this.fb),this.W.start())):(Co(this.j,this.m,p,null),Zr(this,p)),4==W&&Qi(this),this.i&&!this.I&&(4==W?Hh(this.l,this):(this.i=!1,Mi(this)))}else 400==t&&0<p.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Qi(this),no(this)}}}catch(W){}},ot.fb=function(){if(this.g){var n=Ar(this.g),e=this.g.ga();this.C<e.length&&(La(this),ec(this,n,e),this.i&&4!=n&&Mi(this))}},ot.cancel=function(){this.I=!0,Qi(this)},ot.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Zu(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Oa(3),Pr(17)),Qi(this),this.o=2,no(this)):to(this,this.Y-n)},(ot=ia.prototype).R=function(){ro(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ot.T=function(){return ro(this),this.g.concat()},ot.get=function(n,e){return Ri(this.h,n)?this.h[n]:e},ot.set=function(n,e){Ri(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ot.forEach=function(n,e){for(var t=this.T(),s=0;s<t.length;s++){var a=t[s],d=this.get(a);n.call(e,d,a,this)}};var Cs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof cs){this.g=void 0!==e?e:n.g,sa(this,n.j),this.s=n.s,Wn(this,n.i),oa(this,n.m),this.l=n.l,e=n.h;var t=new oo;t.i=e.i,e.g&&(t.g=new ia(e.g),t.h=e.h),io(this,t),this.o=n.o}else n&&(t=String(n).match(Cs))?(this.g=!!e,sa(this,t[1]||"",!0),this.s=Ro(t[2]||""),Wn(this,t[3]||"",!0),oa(this,t[4]),this.l=Ro(t[5]||"",!0),io(this,t[6]||"",!0),this.o=Ro(t[7]||"")):(this.g=!!e,this.h=new oo(null,this.g))}function Ni(n){return new cs(n)}function sa(n,e,t){n.j=t?Ro(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Wn(n,e,t){n.i=t?Ro(e,!0):e}function oa(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function io(n,e,t){e instanceof oo?(n.h=e,function D(n,e){e&&!n.j&&(ls(n),n.i=null,n.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(nc(this,s),mu(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Ua(e,gu)),n.h=new oo(e,n.g))}function Mn(n,e,t){n.h.set(e,t)}function As(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ro(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ua(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pu),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pu(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ua(e,No,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ua(e,No,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ua(t,"/"==t.charAt(0)?aa:so,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ua(t,ua)),n.join("")};var No=/[#\/\?@]/g,so=/[#\?:]/g,aa=/[#\?]/g,gu=/[#\?@]/g,ua=/#/g;function oo(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ls(n){n.g||(n.g=new ia,n.h=0,n.i&&function tc(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var s=n[t].indexOf("="),a=null;if(0<=s){var d=n[t].substring(0,s);a=n[t].substring(s+1)}else d=n[t];e(d,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nc(n,e){ls(n),e=Va(n,e),Ri(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ri((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ro(n)))}function ca(n,e){return ls(n),e=Va(n,e),Ri(n.g.h,e)}function mu(n,e,t){nc(n,e),0<t.length&&(n.i=null,n.g.set(Va(n,e),Ds(t)),n.h+=t.length)}function Va(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function y(n){this.l=n||T,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ot=oo.prototype).add=function(n,e){ls(this),this.i=null,n=Va(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ot.forEach=function(n,e){ls(this),this.g.forEach(function(t,s){vo(t,function(a){n.call(e,a,s,this)},this)},this)},ot.T=function(){ls(this);for(var n=this.g.R(),e=this.g.T(),t=[],s=0;s<e.length;s++)for(var a=n[s],d=0;d<a.length;d++)t.push(e[s]);return t},ot.R=function(n){ls(this);var e=[];if("string"==typeof n)ca(this,n)&&(e=Ps(e,this.g.get(Va(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Ps(e,n[t])}return e},ot.set=function(n,e){return ls(this),this.i=null,ca(this,n=Va(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ot.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var s=e[t],a=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var p=a;""!==s[d]&&(p+="="+encodeURIComponent(String(s[d]))),n.push(p)}}return this.i=n.join("&")};var T=10;function x(n){return!!n.h||!!n.g&&n.g.size>=n.j}function L(n){return n.h?1:n.g?n.g.size:0}function Z(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function te(n,e){n.g?n.g.add(e):n.h=e}function Oe(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function wt(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ds(n.i)}function en(){}function Ot(){this.g=new en}function pn(n,e,t){const s=t||"";try{fu(n,function(a,d){let p=a;ns(a)&&(p=qr(a)),e.push(s+d+"="+encodeURIComponent(p))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ti(n,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch(d){}}function pi(n){this.l=n.$b||null,this.j=n.ib||!1}function Oo(n,e){nt.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}y.prototype.cancel=function(){if(this.i=wt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},en.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},en.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},zn(pi,xo),pi.prototype.g=function(){return new Oo(this.l,this.j)},pi.prototype.i=function(n){return function(){return n}}({}),zn(Oo,nt);var yu=0;function tr(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Ba(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jc(n)}function Jc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ot=Oo.prototype).open=function(n,e){if(this.readyState!=yu)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jc(this)},ot.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ot.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ba(this)),this.readyState=yu},ot.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tr(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ot.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ba(this):Jc(this),3==this.readyState&&tr(this)}},ot.Ua=function(n){this.g&&(this.response=this.responseText=n,Ba(this))},ot.Ta=function(n){this.g&&(this.response=n,Ba(this))},ot.ha=function(){this.g&&Ba(this)},ot.setRequestHeader=function(n,e){this.v.append(n,e)},ot.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var My=Ft.JSON.parse;function Yr(n){nt.call(this),this.headers=new ia,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$p,this.K=this.L=!1}zn(Yr,nt);var $p="",Ry=/^https?$/i,Ny=["POST","PUT"];function Oy(n){return"content-type"==n.toLowerCase()}function Fr(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xc(n),Sd(n)}function Xc(n){n.D||(n.D=!0,Bt(n,"complete"),Bt(n,"error"))}function la(n){if(n.h&&void 0!==di&&(!n.C[1]||4!=Ar(n)||2!=n.ba()))if(n.v&&4==Ar(n))cu(n.Fa,0,n);else if(Bt(n,"readystatechange"),4==Ar(n)){n.h=!1;try{const I=n.ba();e:switch(I){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===I){var a=String(n.H).match(Cs)[1]||null;if(!a&&Ft.self&&Ft.self.location){var d=Ft.self.location.protocol;a=d.substr(0,d.length-1)}s=!Ry.test(a?a.toLowerCase():"")}t=s}if(t)Bt(n,"complete"),Bt(n,"success");else{n.m=6;try{var p=2<Ar(n)?n.g.statusText:""}catch(S){p=""}n.j=p+" ["+n.ba()+"]",Xc(n)}}finally{Sd(n)}}}function Sd(n,e){if(n.g){el(n);const t=n.g,s=n.C[0]?Kr:null;n.g=null,n.C=null,e||Bt(n,"ready");try{t.onreadystatechange=s}catch(a){}}}function el(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function Ar(n){return n.g?n.g.readyState:0}function ds(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $p:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function da(n,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=function jh(n){let e="";return Si(n,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function hs(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Po(n){this.za=0,this.l=[],this.h=new os,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=hs("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=hs("baseRetryDelayMs",5e3,n),this.$a=hs("retryDelaySeedMs",1e4,n),this.Ya=hs("forwardChannelMaxRetries",2,n),this.ra=hs("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new y(n&&n.concurrentRequestLimit),this.Ca=new Ot,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function rc(n){if(Hp(n),3==n.G){var e=n.V++,t=Ni(n.F);Mn(t,"SID",n.J),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),ao(n,t),(e=new Pa(n,n.h,e,void 0)).K=2,e.v=As(Ni(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=ha(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Mi(e)}sc(n)}function tl(n){n.g&&(Rd(n),n.g.cancel(),n.g=null)}function Hp(n){tl(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),vu(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function $h(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&$a(n)}function $a(n){x(n.i)||n.m||(n.m=!0,sn(n.Ha,n),n.C=0)}function nl(n,e){var t;t=e?e.m:n.V++;const s=Ni(n.F);Mn(s,"SID",n.J),Mn(s,"RID",t),Mn(s,"AID",n.U),ao(n,s),n.o&&n.s&&da(s,n.o,n.s),t=new Pa(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=xd(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),te(n.i,t),eo(t,s,e)}function ao(n,e){n.j&&fu({},function(t,s){Mn(e,s,t)})}function xd(n,e,t){t=Math.min(n.l.length,t);var s=n.j?Jn(n.j.Oa,n.j,n):null;e:{var a=n.l;let d=-1;for(;;){const p=["count="+t];-1==d?0<t?(d=a[0].h,p.push("ofs="+d)):d=0:p.push("ofs="+d);let I=!0;for(let S=0;S<t;S++){let O=a[S].h;const W=a[S].g;if(O-=d,0>O)d=Math.max(0,a[S].h-100),I=!1;else try{pn(W,p,"req"+O+"_")}catch(X){s&&s(W)}}if(I){s=p.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,s}function Md(n){n.g||n.u||(n.Y=1,sn(n.Ga,n),n.A=0)}function ic(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=us(Jn(n.Ga,n),_u(n,n.A)),n.A++,0))}function Rd(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function rl(n){n.g=new Pa(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ni(n.oa);Mn(e,"RID","rpc"),Mn(e,"SID",n.J),Mn(e,"CI",n.N?"0":"1"),Mn(e,"AID",n.U),ao(n,e),Mn(e,"TYPE","xmlhttp"),n.o&&n.s&&da(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=As(Ni(e)),t.s=null,t.U=!0,Mo(t,n)}function vu(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function Hh(n,e){var t=null;if(n.g==e){vu(n),Rd(n),n.g=null;var s=2}else{if(!Z(n.i,e))return;t=e.D,Oe(n.i,e),s=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;Bt(s=Ao(),new Yu(s,t,e,a)),$a(n)}else Md(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==s&&function Ji(n,e){return!(L(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=us(Jn(n.Ha,n,e),_u(n,n.C)),n.C++,0)))}(n,e)||2==s&&ic(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:ko(n,5);break;case 4:ko(n,10);break;case 3:ko(n,6);break;default:ko(n,2)}}function _u(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ko(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var s=Jn(n.jb,n);t||(t=new cs("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||sa(t,"https"),As(t)),function kn(n,e){const t=new os;if(Ft.Image){const s=new Image;s.onload=Nr(Ti,t,s,"TestLoadImage: loaded",!0,e),s.onerror=Nr(Ti,t,s,"TestLoadImage: error",!1,e),s.onabort=Nr(Ti,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=Nr(Ti,t,s,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else e(!1)}(t.toString(),s)}else Pr(2);n.G=0,n.j&&n.j.va(e),sc(n),Hp(n)}function sc(n){n.G=0,n.I=-1,n.j&&((0!=wt(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ds(n.l),n.l.length=0),n.j.ua())}function Nd(n,e,t){let s=function Bh(n){return n instanceof cs?Ni(n):new cs(n,void 0)}(t);if(""!=s.i)e&&Wn(s,e+"."+s.i),oa(s,s.m);else{const a=Ft.location;s=function Qc(n,e,t,s){var a=new cs(null,void 0);return n&&sa(a,n),e&&Wn(a,e),t&&oa(a,t),s&&(a.l=s),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&Si(n.aa,function(a,d){Mn(s,d,a)}),t=n.sa,(e=n.D)&&t&&Mn(s,e,t),Mn(s,"VER",n.ma),ao(n,s),s}function ha(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(t&&n.Ba&&!n.qa?new pi({ib:!0}):n.qa)).L=n.H,e}function Eu(){}function Ha(){if(Cr&&!(10<=Number(Zi)))throw Error("Environmental error: no available transport.")}function Xi(n,e){nt.call(this),this.g=new Po(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ks(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ks(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ga(this)}function Od(n){Bs.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Gh(){hr.call(this),this.status=1}function Ga(n){this.g=n}(ot=Yr.prototype).ea=function(n,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Zc.g(),this.C=function Qu(n){return n.h||(n.h=n.i())}(this.u?this.u:Zc),this.g.onreadystatechange=Jn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void Fr(this,d)}n=t||"";const a=new ia(this.headers);s&&fu(s,function(d,p){a.set(p,d)}),s=function wi(n){e:{var e=Oy;const t=n.length,s="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in s&&e.call(void 0,s[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=Ks(Ny,e))||s||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(d,p){this.g.setRequestHeader(p,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{el(this),0<this.B&&((this.K=function ja(n){return Cr&&function vr(){return function wo(n){var e=Ys;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=rs(String(ri)).split("."),t=rs("9").split("."),s=Math.max(e.length,t.length);for(let p=0;0==n&&p<s;p++){var a=e[p]||"",d=t[p]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==a[0].length&&0==d[0].length)break;n=_o(0==a[1].length?0:parseInt(a[1],10),0==d[1].length?0:parseInt(d[1],10))||_o(0==a[2].length,0==d[2].length)||_o(a[2],d[2]),a=a[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jn(this.pa,this)):this.A=cu(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){Fr(this,d)}},ot.pa=function(){void 0!==di&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Bt(this,"timeout"),this.abort(8))},ot.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Bt(this,"complete"),Bt(this,"abort"),Sd(this))},ot.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sd(this,!0)),Yr.Z.M.call(this)},ot.Fa=function(){this.s||(this.F||this.v||this.l?la(this):this.cb())},ot.cb=function(){la(this)},ot.ba=function(){try{return 2<Ar(this)?this.g.status:-1}catch(n){return-1}},ot.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ot.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),My(e)}},ot.Da=function(){return this.m},ot.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ot=Po.prototype).ma=8,ot.G=1,ot.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ot.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Pa(this,this.h,n,void 0);let d=this.s;if(this.P&&(d?(d=ta(d),Gi(d,this.P)):d=this.P),null===this.o&&(a.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var s=this.l[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xd(this,a,e),Mn(t=Ni(this.F),"RID",n),Mn(t,"CVER",22),this.D&&Mn(t,"X-HTTP-Session-Id",this.D),ao(this,t),this.o&&d&&da(t,this.o,d),te(this.i,a),this.Ra&&Mn(t,"TYPE","init"),this.ja?(Mn(t,"$req",e),Mn(t,"SID","null"),a.$=!0,eo(a,t,null)):eo(a,t,e),this.G=2}}else 3==this.G&&(n?nl(this,n):0==this.l.length||x(this.i)||nl(this))},ot.Ga=function(){if(this.u=null,rl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=us(Jn(this.bb,this),n)}},ot.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),tl(this),rl(this))},ot.ab=function(){null!=this.v&&(this.v=null,tl(this),ic(this),Pr(19))},ot.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(ot=Eu.prototype).xa=function(){},ot.wa=function(){},ot.va=function(){},ot.ua=function(){},ot.Oa=function(){},Ha.prototype.g=function(n,e){return new Xi(n,e)},zn(Xi,nt),Xi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),sn(Jn(n.hb,n,e))),Pr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Nd(n,null,n.W),$a(n)},Xi.prototype.close=function(){rc(this.g)},Xi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,$h(this.g,e)}else this.v?((e={}).__data__=qr(n),$h(this.g,e)):$h(this.g,n)},Xi.prototype.M=function(){this.g.j=null,delete this.j,rc(this.g),delete this.g,Xi.Z.M.call(this)},zn(Od,Bs),zn(Gh,hr),zn(Ga,Eu),Ga.prototype.xa=function(){Bt(this.g,"a")},Ga.prototype.wa=function(n){Bt(this.g,new Od(n))},Ga.prototype.va=function(n){Bt(this.g,new Gh(n))},Ga.prototype.ua=function(){Bt(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,Xi.prototype.send=Xi.prototype.u,Xi.prototype.open=Xi.prototype.m,Xi.prototype.close=Xi.prototype.close,So.NO_ERROR=0,So.TIMEOUT=8,So.HTTP_ERROR=6,qc.COMPLETE="complete",Ju.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",nt.prototype.listen=nt.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var Pd=lr.createWebChannelTransport=function(){return new Ha},oc=lr.getStatEventTarget=function(){return Ao()},il=lr.ErrorCode=So,kd=lr.EventType=qc,gi=lr.Event=as,Fd=lr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ld=lr.FetchXmlHttpFactory=pi,Iu=lr.WebChannel=Ju,za=lr.XhrIo=Yr;const ac="@firebase/firestore";class si{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}si.UNAUTHENTICATED=new si(null),si.GOOGLE_CREDENTIALS=new si("google-credentials-uid"),si.FIRST_PARTY=new si("first-party-uid"),si.MOCK_USER=new si("mock-user");let Wa="9.6.10";const fs=new ti.Yd("@firebase/firestore");function Ka(){return fs.logLevel}function rt(n,...e){if(fs.logLevel<=ti.in.DEBUG){const t=e.map(Du);fs.debug(`Firestore (${Wa}): ${n}`,...t)}}function Br(n,...e){if(fs.logLevel<=ti.in.ERROR){const t=e.map(Du);fs.error(`Firestore (${Wa}): ${n}`,...t)}}function wu(n,...e){if(fs.logLevel<=ti.in.WARN){const t=e.map(Du);fs.warn(`Firestore (${Wa}): ${n}`,...t)}}function Du(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Mt(n="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+n;throw Br(e),new Error(e)}function tn(n,e){n||Mt()}function Et(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ye extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Wh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(si.UNAUTHENTICATED))}shutdown(){}}class sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Py{constructor(e){this.t=e,this.currentUser=si.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const d=O=>this.i!==a?(a=this.i,t(O)):Promise.resolve();let p=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new mi,e.enqueueRetryable(()=>d(this.currentUser))};const I=()=>{const O=p;e.enqueueRetryable((0,be.Z)(function*(){yield O.promise,yield d(s.currentUser)}))},S=O=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=O,this.auth.addAuthTokenListener(this.o),I()};this.t.onInit(O=>S(O)),setTimeout(()=>{if(!this.auth){const O=this.t.getImmediate({optional:!0});O?S(O):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new mi)}},0),I()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(tn("string"==typeof s.accessToken),new zh(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tn(null===e||"string"==typeof e),new si(e)}}class zp{constructor(e,t,s){this.type="FirstParty",this.user=si.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const a=e.auth.getAuthHeaderValueForFirstParty([]);a&&this.headers.set("Authorization",a),s&&this.headers.set("X-Goog-Iam-Authorization-Token",s)}}class Wp{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new zp(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(si.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kh{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ol{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const s=d=>{null!=d.error&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.p;return this.p=d.token,rt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const a=d=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>a(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?a(d):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tn("string"==typeof t.token),this.p=t.token,new Kh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class yi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.I(s),this.T=s=>t.writeSequenceNumber(s))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Kp(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}yi.A=-1;class al{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Kp(40);for(let d=0;d<a.length;++d)s.length<20&&a[d]<t&&(s+=e.charAt(a[d]%e.length))}return s}}function _n(n,e){return n<e?-1:n>e?1:0}function Fo(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}function ul(n){return n+"\0"}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Lr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_n(this.nanoseconds,e.nanoseconds):_n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Lr(0,0))}static max(){return new Wt(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function cl(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Zh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class uc{constructor(e,t,s){void 0===t?t=0:t>e.length&&Mt(),void 0===s?s=e.length-t:s>e.length-t&&Mt(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===uc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof uc?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const d=e.get(a),p=t.get(a);if(d<p)return-1;if(d>p)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Rn extends uc{construct(e,t,s){return new Rn(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ye(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new Rn(t)}static emptyPath(){return new Rn([])}}const Vd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vi extends uc{construct(e,t,s){return new vi(e,t,s)}static isValidIdentifier(e){return Vd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new vi(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const d=()=>{if(0===s.length)throw new Ye(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let p=!1;for(;a<e.length;){const I=e[a];if("\\"===I){if(a+1===e.length)throw new Ye(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const S=e[a+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new Ye(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=S,a+=2}else"`"===I?(p=!p,a++):"."!==I||p?(s+=I,a++):(d(),a++)}if(d(),p)throw new Ye(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vi(t)}static emptyPath(){return new vi([])}}class Bi{constructor(e){this.fields=e,e.sort(vi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class Qr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Qr(t)}static fromUint8Array(e){const t=function(s){let a="";for(let d=0;d<s.length;++d)a+=String.fromCharCode(s[d]);return a}(e);return new Qr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qr.EMPTY_BYTE_STRING=new Qr("");const ky=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lo(n){if(tn(!!n),"string"==typeof n){let e=0;const t=ky.exec(n);if(tn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jr(n.seconds),nanos:jr(n.nanos)}}function jr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qa(n){return"string"==typeof n?Qr.fromBase64String(n):Qr.fromUint8Array(n)}function Bd(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jd(n){const e=n.mapValue.fields.__previous_value__;return Bd(e)?jd(e):e}function lc(n){const e=Lo(n.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class qp{constructor(e,t,s,a,d,p,I,S){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=I,this.useFetchStreams=S}}class pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof pa&&e.projectId===this.projectId&&e.database===this.database}}function ps(n){return null==n}function ll(n){return 0===n&&1/n==-1/0}function Yh(n){return"number"==typeof n&&Number.isInteger(n)&&!ll(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Rn.fromString(e))}static fromName(e){return new ut(Rn.fromString(e).popFirst(5))}static empty(){return new ut(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Rn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Rn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Rn(e.slice()))}}const $d={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},gs={nullValue:"NULL_VALUE"};function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Bd(n)?4:Xh(n)?9:10:Mt()}function $s(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return lc(n).isEqual(lc(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const d=Lo(s.timestampValue),p=Lo(a.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,qa(n.bytesValue).isEqual(qa(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return jr(s.geoPointValue.latitude)===jr(a.geoPointValue.latitude)&&jr(s.geoPointValue.longitude)===jr(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return jr(s.integerValue)===jr(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const d=jr(s.doubleValue),p=jr(a.doubleValue);return d===p?ll(d)===ll(p):isNaN(d)&&isNaN(p)}return!1}(n,e);case 9:return Fo(n.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:return function(s,a){const d=s.mapValue.fields||{},p=a.mapValue.fields||{};if(cl(d)!==cl(p))return!1;for(const I in d)if(d.hasOwnProperty(I)&&(void 0===p[I]||!$s(d[I],p[I])))return!1;return!0}(n,e);default:return Mt()}var a}function ga(n,e){return void 0!==(n.values||[]).find(t=>$s(t,e))}function Uo(n,e){if(n===e)return 0;const t=js(n),s=js(e);if(t!==s)return _n(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return _n(n.booleanValue,e.booleanValue);case 2:return function(a,d){const p=jr(a.integerValue||a.doubleValue),I=jr(d.integerValue||d.doubleValue);return p<I?-1:p>I?1:p===I?0:isNaN(p)?isNaN(I)?0:-1:1}(n,e);case 3:return Zp(n.timestampValue,e.timestampValue);case 4:return Zp(lc(n),lc(e));case 5:return _n(n.stringValue,e.stringValue);case 6:return function(a,d){const p=qa(a),I=qa(d);return p.compareTo(I)}(n.bytesValue,e.bytesValue);case 7:return function(a,d){const p=a.split("/"),I=d.split("/");for(let S=0;S<p.length&&S<I.length;S++){const O=_n(p[S],I[S]);if(0!==O)return O}return _n(p.length,I.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,d){const p=_n(jr(a.latitude),jr(d.latitude));return 0!==p?p:_n(jr(a.longitude),jr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,d){const p=a.values||[],I=d.values||[];for(let S=0;S<p.length&&S<I.length;++S){const O=Uo(p[S],I[S]);if(O)return O}return _n(p.length,I.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,d){const p=a.fields||{},I=Object.keys(p),S=d.fields||{},O=Object.keys(S);I.sort(),O.sort();for(let W=0;W<I.length&&W<O.length;++W){const X=_n(I[W],O[W]);if(0!==X)return X;const pe=Uo(p[I[W]],S[O[W]]);if(0!==pe)return pe}return _n(I.length,O.length)}(n.mapValue,e.mapValue);default:throw Mt()}}function Zp(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _n(n,e);const t=Lo(n),s=Lo(e),a=_n(t.seconds,s.seconds);return 0!==a?a:_n(t.nanos,s.nanos)}function Za(n){return Qh(n)}function Qh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(s){const a=Lo(s);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qa(n.bytesValue).toBase64():"referenceValue"in n?ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(s){let a="[",d=!0;for(const p of s.values||[])d?d=!1:a+=",",a+=Qh(p);return a+"]"}(n.arrayValue):"mapValue"in n?function(s){const a=Object.keys(s.fields||{}).sort();let d="{",p=!0;for(const I of a)p?p=!1:d+=",",d+=`${I}:${Qh(s.fields[I])}`;return d+"}"}(n.mapValue):Mt();var e}function ma(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dc(n){return!!n&&"integerValue"in n}function Ya(n){return!!n&&"arrayValue"in n}function Yp(n){return!!n&&"nullValue"in n}function Jh(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Qa(n){return!!n&&"mapValue"in n}function hc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fa(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=hc(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Xh(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dl(n,e){return void 0===n?e:void 0===e||Uo(n,e)>0?n:e}function hl(n,e){return void 0===n?e:void 0===e||Uo(n,e)<0?n:e}class Ci{constructor(e){this.value=e}static empty(){return new Ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Qa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hc(t)}setAll(e){let t=vi.emptyPath(),s={},a=[];e.forEach((p,I)=>{if(!t.isImmediateParentOf(I)){const S=this.getFieldsMap(t);this.applyChanges(S,s,a),s={},a=[],t=I.popLast()}p?s[I.lastSegment()]=hc(p):a.push(I.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,a)}delete(e){const t=this.field(e.popLast());Qa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Qa(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){fa(t,(a,d)=>e[a]=d);for(const a of s)delete e[a]}clone(){return new Ci(hc(this.value))}}function fc(n){const e=[];return fa(n.fields,(t,s)=>{const a=new vi([t]);if(Qa(s)){const d=fc(s.mapValue).fields;if(0===d.length)e.push(a);else for(const p of d)e.push(a.child(p))}else e.push(a)}),new Bi(e)}class nr{constructor(e,t,s,a,d,p){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.data=d,this.documentState=p}static newInvalidDocument(e){return new nr(e,0,Wt.min(),Wt.min(),Ci.empty(),0)}static newFoundDocument(e,t,s){return new nr(e,1,t,Wt.min(),s,0)}static newNoDocument(e,t){return new nr(e,2,t,Wt.min(),Ci.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Wt.min(),Ci.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bu{constructor(e,t,s,a){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=a}}function Hd(n){return n.fields.find(e=>2===e.kind)}function fr(n){return n.fields.filter(e=>2!==e.kind)}bu.UNKNOWN_ID=-1;class pc{constructor(e,t){this.fieldPath=e,this.kind=t}}class gc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gc(0,Vo.min())}}function fl(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Wt.fromTimestamp(1e9===s?new Lr(t+1,0):new Lr(t,s));return new Vo(a,ut.empty(),e)}function ef(n){return new Vo(n.readTime,n.key,-1)}class Vo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Vo(Wt.min(),ut.empty(),-1)}static max(){return new Vo(Wt.max(),ut.empty(),-1)}}function pl(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ut.comparator(n.documentKey,e.documentKey),0!==t?t:_n(n.largestBatchId,e.largestBatchId))}class Qp{constructor(e,t=null,s=[],a=[],d=null,p=null,I=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=d,this.startAt=p,this.endAt=I,this.P=null}}function Gd(n,e=null,t=[],s=[],a=null,d=null,p=null){return new Qp(n,e,t,s,a,d,p)}function Ja(n){const e=Et(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(a=s).field.canonicalString()+a.op.toString()+Za(a.value);var a}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ps(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Za(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Za(s)).join(",")),e.P=t}return e.P}function gl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!qd(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(s=e.filters[a]).op||!t.field.isEqual(s.field)||!$s(t.value,s.value))return!1;var t,s;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Yd(n.startAt,e.startAt)&&Yd(n.endAt,e.endAt)}function ya(n){return ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function oi(n,e){return n.filters.filter(t=>t instanceof $r&&t.field.isEqual(e))}class $r extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,s):new ml(e,t,s):"array-contains"===t?new Wd(e,s):"in"===t?new ms(e,s):"not-in"===t?new mc(e,s):"array-contains-any"===t?new Kd(e,s):new $r(e,t,s)}static V(e,t,s){return"in"===t?new zd(e,s):new Oi(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Uo(t,this.value)):null!==t&&js(this.value)===js(t)&&this.v(Uo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ml extends $r{constructor(e,t,s){super(e,t,s),this.key=ut.fromName(s.referenceValue)}matches(e){const t=ut.comparator(e.key,this.key);return this.v(t)}}class zd extends $r{constructor(e,t){super(e,"in",t),this.keys=va(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Oi extends $r{constructor(e,t){super(e,"not-in",t),this.keys=va(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function va(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>ut.fromName(s.referenceValue))}class Wd extends $r{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ya(t)&&ga(t.arrayValue,this.value)}}class ms extends $r{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ga(this.value.arrayValue,t)}}class mc extends $r{constructor(e,t){super(e,"not-in",t)}matches(e){if(ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ga(this.value.arrayValue,t)}}class Kd extends $r{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ya(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ga(this.value.arrayValue,s))}}class _a{constructor(e,t){this.position=e,this.inclusive=t}}class Bo{constructor(e,t="asc"){this.field=e,this.dir=t}}function qd(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Zd(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const d=e[a],p=n.position[a];if(s=d.field.isKeyField()?ut.comparator(ut.fromName(p.referenceValue),t.key):Uo(p,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Yd(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$s(n.position[t],e.position[t]))return!1;return!0}class jo{constructor(e,t=null,s=[],a=[],d=null,p="F",I=null,S=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=d,this.limitType=p,this.startAt=I,this.endAt=S,this.D=null,this.C=null}}function Hs(n,e,t,s,a,d,p,I){return new jo(n,e,t,s,a,d,p,I)}function Xa(n){return new jo(n)}function yl(n){return!ps(n.limit)&&"F"===n.limitType}function Tu(n){return!ps(n.limit)&&"L"===n.limitType}function Qd(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vl(n){for(const e of n.filters)if(e.S())return e.field;return null}function ai(n){return null!==n.collectionGroup}function Ea(n){const e=Et(n);if(null===e.D){e.D=[];const t=vl(e),s=Qd(e);if(null!==t&&null===s)t.isKeyField()||e.D.push(new Bo(t)),e.D.push(new Bo(vi.keyField(),"asc"));else{let a=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(a=!0);if(!a){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Bo(vi.keyField(),d))}}}return e.D}function es(n){const e=Et(n);if(!e.C)if("F"===e.limitType)e.C=Gd(e.path,e.collectionGroup,Ea(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Ea(e))t.push(new Bo(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new _a(e.endAt.position,!e.endAt.inclusive):null,a=e.startAt?new _a(e.startAt.position,!e.startAt.inclusive):null;e.C=Gd(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e.C}function tf(n,e,t){return new jo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ys(n,e){return gl(es(n),es(e))&&n.limitType===e.limitType}function Cu(n){return`${Ja(es(n))}|lt:${n.limitType}`}function yc(n){return`Query(target=${function Fy(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${Za(s.value)}`;var s}).join(", ")}]`),ps(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Za(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Za(t)).join(",")),`Target(${e})`}(es(n))}; limitType=${n.limitType})`}function _l(n,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):ut.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,s){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(n,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(n,e)&&(s=e,!((t=n).startAt&&!function(a,d,p){const I=Zd(a,d,p);return a.inclusive?I<=0:I<0}(t.startAt,Ea(t),s)||t.endAt&&!function(a,d,p){const I=Zd(a,d,p);return a.inclusive?I>=0:I>0}(t.endAt,Ea(t),s)));var t,s}function nf(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function El(n){return(e,t)=>{let s=!1;for(const a of Ea(n)){const d=Jp(a,e,t);if(0!==d)return d;s=s||a.field.isKeyField()}return 0}}function Jp(n,e,t){const s=n.field.isKeyField()?ut.comparator(e.key,t.key):function(a,d,p){const I=d.data.field(a),S=p.data.field(a);return null!==I&&null!==S?Uo(I,S):Mt()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Mt()}}function rf(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ll(e)?"-0":e}}function sf(n){return{integerValue:""+n}}function of(n,e){return Yh(e)?sf(e):rf(n,e)}class g{constructor(){this._=void 0}}function l(n,e,t){return n instanceof M?function(s,a){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&(d.fields.__previous_value__=a),{mapValue:d}}(t,e):n instanceof j?se(n,e):n instanceof De?dt(n,e):function(s,a){const d=_(s,a),p=jt(d)+jt(s.k);return dc(d)&&dc(s.k)?sf(p):rf(s.M,p)}(n,e)}function f(n,e,t){return n instanceof j?se(n,e):n instanceof De?dt(n,e):t}function _(n,e){return n instanceof St?dc(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class M extends g{}class j extends g{constructor(e){super(),this.elements=e}}function se(n,e){const t=Lt(e);for(const s of n.elements)t.some(a=>$s(a,s))||t.push(s);return{arrayValue:{values:t}}}class De extends g{constructor(e){super(),this.elements=e}}function dt(n,e){let t=Lt(e);for(const s of n.elements)t=t.filter(a=>!$s(a,s));return{arrayValue:{values:t}}}class St extends g{constructor(e,t){super(),this.M=e,this.k=t}}function jt(n){return jr(n.integerValue||n.doubleValue)}function Lt(n){return Ya(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class sr{constructor(e,t){this.field=e,this.transform=t}}class vc{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ia(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Au{}function Xp(n,e,t){n instanceof wa?function(s,a,d){const p=s.value.clone(),I=af(s.fieldTransforms,a,d.transformResults);p.setAll(I),a.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):n instanceof eu?function(s,a,d){if(!Ia(s.precondition,a))return void a.convertToUnknownDocument(d.version);const p=af(s.fieldTransforms,a,d.transformResults),I=a.data;I.setAll(bl(s)),I.setAll(p),a.convertToFoundDocument(d.version,I).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function uo(n,e,t){var a;n instanceof wa?function(s,a,d){if(!Ia(s.precondition,a))return;const p=s.value.clone(),I=Ly(s.fieldTransforms,d,a);p.setAll(I),a.convertToFoundDocument(Dl(a),p).setHasLocalMutations()}(n,e,t):n instanceof eu?function(s,a,d){if(!Ia(s.precondition,a))return;const p=Ly(s.fieldTransforms,d,a),I=a.data;I.setAll(bl(s)),I.setAll(p),a.convertToFoundDocument(Dl(a),I).setHasLocalMutations()}(n,e,t):Ia(n.precondition,a=e)&&a.convertToNoDocument(Wt.min())}function Il(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),d=_(s.transform,a||null);null!=d&&(null==t&&(t=Ci.empty()),t.set(s.field,d))}return t||null}function wl(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===s||t&&s&&Fo(t,s,(a,d)=>function Ss(n,e){return n.field.isEqual(e.field)&&(s=e.transform,(t=n.transform)instanceof j&&s instanceof j||t instanceof De&&s instanceof De?Fo(t.elements,s.elements,$s):t instanceof St&&s instanceof St?$s(t.k,s.k):t instanceof M&&s instanceof M);var t,s}(a,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,s}function Dl(n){return n.isFoundDocument()?n.version:Wt.min()}class wa extends Au{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}}class eu extends Au{constructor(e,t,s,a,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=d,this.type=1}}function bl(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function af(n,e,t){const s=new Map;tn(n.length===t.length);for(let a=0;a<t.length;a++){const d=n[a],p=d.transform,I=e.data.field(d.field);s.set(d.field,f(p,I,t[a]))}return s}function Ly(n,e,t){const s=new Map;for(const a of n){const d=a.transform,p=t.data.field(a.field);s.set(a.field,l(d,p,e))}return s}class Jd extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class eg extends Au{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Uy{constructor(e){this.count=e}}var Jr,Fn;function uf(n){switch(n){default:return Mt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function Vy(n){if(void 0===n)return Br("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Jr.OK:return Te.OK;case Jr.CANCELLED:return Te.CANCELLED;case Jr.UNKNOWN:return Te.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Te.INTERNAL;case Jr.UNAVAILABLE:return Te.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Te.NOT_FOUND;case Jr.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Jr.ABORTED:return Te.ABORTED;case Jr.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Jr.DATA_LOSS:return Te.DATA_LOSS;default:return Mt()}}(Fn=Jr||(Jr={}))[Fn.OK=0]="OK",Fn[Fn.CANCELLED=1]="CANCELLED",Fn[Fn.UNKNOWN=2]="UNKNOWN",Fn[Fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fn[Fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fn[Fn.NOT_FOUND=5]="NOT_FOUND",Fn[Fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fn[Fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fn[Fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fn[Fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fn[Fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fn[Fn.ABORTED=10]="ABORTED",Fn[Fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fn[Fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fn[Fn.INTERNAL=13]="INTERNAL",Fn[Fn.UNAVAILABLE=14]="UNAVAILABLE",Fn[Fn.DATA_LOSS=15]="DATA_LOSS";class Su{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,d]of s)if(this.equalsFn(a,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<a.length;d++)if(this.equalsFn(a[d][0],e))return void(a[d]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,s)=>{for(const[a,d]of s)e(a,d)})}isEmpty(){return Zh(this.inner)}size(){return this.innerSize}}class Xr{constructor(e,t){this.comparator=e,this.root=t||Hr.EMPTY}insert(e,t){return new Xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hr.BLACK,null,null))}remove(e){return new Xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xd(this.root,e,this.comparator,!0)}}class Xd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&a&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hr{constructor(e,t,s,a,d){this.key=e,this.value=t,this.color=null!=s?s:Hr.RED,this.left=null!=a?a:Hr.EMPTY,this.right=null!=d?d:Hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,d){return new Hr(null!=e?e:this.key,null!=t?t:this.value,null!=s?s:this.color,null!=a?a:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const d=s(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===d?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return Hr.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const e=this.left.check();if(e!==this.right.check())throw Mt();return e+(this.isRed()?0:1)}}Hr.EMPTY=null,Hr.RED=!0,Hr.BLACK=!1,Hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(n,e,t,s,a){return this}insert(n,e,t){return new Hr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _r{constructor(e){this.comparator=e,this.data=new Xr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tg(this.data.getIterator())}getIteratorFrom(e){return new tg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof _r)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new _r(this.comparator);return t.data=e,t}}class tg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tl(n){return n.hasNext()?n.getNext():void 0}const cf=new Xr(ut.comparator);function co(){return cf}const By=new Xr(ut.comparator);function lf(){return By}function Cl(){return new Su(n=>n.toString(),(n,e)=>n.isEqual(e))}const ng=new Xr(ut.comparator),jy=new _r(ut.comparator);function $n(...n){let e=jy;for(const t of n)e=e.add(t);return e}const df=new _r(_n);function eh(){return df}class _c{constructor(e,t,s,a,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const s=new Map;return s.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,t)),new _c(Wt.min(),s,eh(),co(),$n())}}class Al{constructor(e,t,s,a,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Al(Qr.EMPTY_BYTE_STRING,t,$n(),$n(),$n())}}class Sl{constructor(e,t,s,a){this.O=e,this.removedTargetIds=t,this.key=s,this.F=a}}class xl{constructor(e,t){this.targetId=e,this.$=t}}class $y{constructor(e,t,s=Qr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class rg{constructor(){this.B=0,this.L=ig(),this.U=Qr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=$n(),t=$n(),s=$n();return this.L.forEach((a,d)=>{switch(d){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Mt()}}),new Al(this.U,this.q,e,t,s)}J(){this.G=!1,this.L=ig()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class k0{constructor(e){this.nt=e,this.st=new Map,this.it=co(),this.rt=Hy(),this.ot=new _r(_n)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const s=this.lt(t);switch(e.state){case 0:this.ft(t)&&s.W(e.resumeToken);break;case 1:s.tt(),s.K||s.J(),s.W(e.resumeToken);break;case 2:s.tt(),s.K||this.removeTarget(t);break;case 3:this.ft(t)&&(s.et(),s.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),s.W(e.resumeToken));break;default:Mt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((s,a)=>{this.ft(a)&&t(a)})}_t(e){const t=e.targetId,s=e.$.count,a=this.wt(t);if(a){const d=a.target;if(ya(d))if(0===s){const p=new ut(d.path);this.ct(t,p,nr.newNoDocument(p,Wt.min()))}else tn(1===s);else this.gt(t)!==s&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((d,p)=>{const I=this.wt(p);if(I){if(d.current&&ya(I.target)){const S=new ut(I.target.path);null!==this.it.get(S)||this.It(p,S)||this.ct(p,S,nr.newNoDocument(S,e))}d.j&&(t.set(p,d.H()),d.J())}});let s=$n();this.rt.forEach((d,p)=>{let I=!0;p.forEachWhile(S=>{const O=this.wt(S);return!O||2===O.purpose||(I=!1,!1)}),I&&(s=s.add(d))}),this.it.forEach((d,p)=>p.setReadTime(e));const a=new _c(e,t,this.ot,this.it,s);return this.it=co(),this.rt=Hy(),this.ot=new _r(_n),a}at(e,t){if(!this.ft(e))return;const s=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,s),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,s){if(!this.ft(e))return;const a=this.lt(e);this.It(e,t)?a.Y(t,1):a.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),s&&(this.it=this.it.insert(t,s))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new rg,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new _r(_n),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||rt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new rg),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Hy(){return new Xr(ut.comparator)}function ig(){return new Xr(ut.comparator)}const sg={asc:"ASCENDING",desc:"DESCENDING"},Gy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cw{constructor(e,t){this.databaseId=e,this.N=t}}function Ml(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zy(n,e){return n.N?e.toBase64():e.toUint8Array()}function Wy(n,e){return Ml(n,e.toTimestamp())}function Pi(n){return tn(!!n),Wt.fromTimestamp(function(e){const t=Lo(e);return new Lr(t.seconds,t.nanos)}(n))}function og(n,e){return(t=n,new Rn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function lo(n){const e=Rn.fromString(n);return tn(U0(e)),e}function th(n,e){return og(n.databaseId,e.path)}function $o(n,e){const t=lo(e);if(t.get(1)!==n.databaseId.projectId)throw new Ye(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ye(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ut(qy(t))}function ag(n,e){return og(n.databaseId,e)}function Ky(n){const e=lo(n);return 4===e.length?Rn.emptyPath():qy(e)}function nh(n){return new Rn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qy(n){return tn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ug(n,e,t){return{name:th(n,e),fields:t.value.mapValue.fields}}function Zy(n,e,t){const s=$o(n,e.name),a=Pi(e.updateTime),d=new Ci({mapValue:{fields:e.fields}}),p=nr.newFoundDocument(s,a,d);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function on(n,e){let t;if(e instanceof wa)t={update:ug(n,e.key,e.value)};else if(e instanceof Jd)t={delete:th(n,e.key)};else if(e instanceof eu)t={update:ug(n,e.key,e.data),updateMask:Xy(e.fieldMask)};else{if(!(e instanceof eg))return Mt();t={verify:th(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,d){const p=d.transform;if(p instanceof M)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof j)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof De)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof St)return{fieldPath:d.field.canonicalString(),increment:p.k};throw Mt()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Wy(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:Mt()),t;var a}function hf(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?Sr.updateTime(Pi(a.updateTime)):void 0!==a.exists?Sr.exists(a.exists):Sr.none():Sr.none(),s=e.updateTransforms?e.updateTransforms.map(a=>function(d,p){let I=null;"setToServerValue"in p?(tn("REQUEST_TIME"===p.setToServerValue),I=new M):"appendMissingElements"in p?I=new j(p.appendMissingElements.values||[]):"removeAllFromArray"in p?I=new De(p.removeAllFromArray.values||[]):"increment"in p?I=new St(d,p.increment):Mt();const S=vi.fromServerFormat(p.fieldPath);return new sr(S,I)}(n,a)):[];var a;if(e.update){const a=$o(n,e.update.name),d=new Ci({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new Bi((e.updateMask.fieldPaths||[]).map(O=>vi.fromServerFormat(O)));return new eu(a,d,p,t,s)}return new wa(a,d,t,s)}if(e.delete){const a=$o(n,e.delete);return new Jd(a,t)}if(e.verify){const a=$o(n,e.verify);return new eg(a,t)}return Mt()}function cg(n,e){return{documents:[ag(n,e.path)]}}function rh(n,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=ag(n,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ag(n,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(S){if(0===S.length)return;const O=S.map(W=>function(X){if("=="===X.op){if(Jh(X.value))return{unaryFilter:{field:xu(X.field),op:"IS_NAN"}};if(Yp(X.value))return{unaryFilter:{field:xu(X.field),op:"IS_NULL"}}}else if("!="===X.op){if(Jh(X.value))return{unaryFilter:{field:xu(X.field),op:"IS_NOT_NAN"}};if(Yp(X.value))return{unaryFilter:{field:xu(X.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xu(X.field),op:tu(X.op),value:X.value}}}(W));return 1===O.length?O[0]:{compositeFilter:{op:"AND",filters:O}}}(e.filters);a&&(t.structuredQuery.where=a);const d=function(S){if(0!==S.length)return S.map(O=>{return{field:xu((W=O).field),direction:lg(W.dir)};var W})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const p=(O=e.limit,n.N||ps(O)?O:{value:O});var O,I,S;return null!==p&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt={before:(I=e.startAt).inclusive,values:I.position}),e.endAt&&(t.structuredQuery.endAt={before:!(S=e.endAt).inclusive,values:S.position}),t}function ho(n){let e=Ky(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){tn(1===s);const W=t.from[0];W.allDescendants?a=W.collectionId:e=e.child(W.collectionId)}let d=[];t.where&&(d=Jy(t.where));let p=[];t.orderBy&&(p=t.orderBy.map(W=>{return new Bo(Ec((X=W).field),function(pe){switch(pe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction));var X}));let I=null;t.limit&&(I=function(W){let X;return X="object"==typeof W?W.value:W,ps(X)?null:X}(t.limit));let S=null;var W;t.startAt&&(S=new _a((W=t.startAt).values||[],!!W.before));let O=null;return t.endAt&&(O=function(W){return new _a(W.values||[],!W.before)}(t.endAt)),Hs(e,a,p,d,I,"F",S,O)}function Jy(n){return n?void 0!==n.unaryFilter?[Aw(n)]:void 0!==n.fieldFilter?[dg(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Jy(e)).reduce((e,t)=>e.concat(t)):Mt():[]}function lg(n){return sg[n]}function tu(n){return Gy[n]}function xu(n){return{fieldPath:n.canonicalString()}}function Ec(n){return vi.fromServerFormat(n.fieldPath)}function dg(n){return $r.create(Ec(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Aw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ec(n.unaryFilter.field);return $r.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ec(n.unaryFilter.field);return $r.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ec(n.unaryFilter.field);return $r.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ec(n.unaryFilter.field);return $r.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}}function Xy(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function U0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ui(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=pf(e)),e=ff(n.get(t),e);return pf(e)}function ff(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const d=n.charAt(a);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function pf(n){return n+"\x01\x01"}function Gs(n){const e=n.length;if(tn(e>=2),2===e)return tn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Rn.emptyPath();const t=e-2,s=[];let a="";for(let d=0;d<e;){const p=n.indexOf("\x01",d);switch((p<0||p>t)&&Mt(),n.charAt(p+1)){case"\x01":const I=n.substring(d,p);let S;0===a.length?S=I:(a+=I,S=a,a=""),s.push(S);break;case"\x10":a+=n.substring(d,p),a+="\0";break;case"\x11":a+=n.substring(d,p+1);break;default:Mt()}d=p+2}return new Rn(s)}const gf=["userId","batchId"];function hg(n,e){return[n,ui(e)]}function ev(n,e,t){return[n,ui(e),t]}const V0={},B0=["prefixPath","collectionGroup","readTime","documentId"],j0=["prefixPath","collectionGroup","documentId"],tv=["collectionGroup","readTime","prefixPath","documentId"],Sw=["canonicalId","targetId"],$0=["targetId","path"],xw=["path","targetId"],nv=["collectionId","parent"],rv=["indexId","uid"],H0=["uid","sequenceNumber"],fg=["indexId","uid","arrayValue","directionalValue","documentKey"],Mw=["indexId","uid","documentKey"],Rw=["userId","collectionPath","documentId"],Nw=["userId","collectionPath","largestBatchId"],Ow=["userId","collectionGroup","largestBatchId"],G0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pw=[...G0,"documentOverlays"],z0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kw=[...z0,"indexConfiguration","indexState","indexEntries"],W0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Re((s,a)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,a)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Re?t:Re.resolve(t)}catch(t){return Re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Re.reject(t)}static resolve(e){return new Re((t,s)=>{t(e)})}static reject(e){return new Re((t,s)=>{s(e)})}static waitFor(e){return new Re((t,s)=>{let a=0,d=0,p=!1;e.forEach(I=>{++a,I.next(()=>{++d,p&&d===a&&t()},S=>s(S))}),p=!0,d===a&&t()})}static or(e){let t=Re.resolve(!1);for(const s of e)t=t.next(a=>a?Re.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,d)=>{s.push(t.call(this,a,d))}),this.waitFor(s)}}class Rl{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new mi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ic(e,t.error)):this.At.resolve()},this.transaction.onerror=s=>{const a=mf(s.target.error);this.At.reject(new Ic(e,a))}}static open(e,t,s,a){try{return new Rl(t,e.transaction(a,s))}catch(d){throw new Ic(t,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(rt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new pg(t)}}class Ho{constructor(e,t,s){this.name=e,this.version=t,this.Pt=s,12.2===Ho.Vt((0,qt.z$)())&&Br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return rt("SimpleDb","Removing database:",e),wc(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,qt.hl)())return!1;if(Ho.St())return!0;const e=(0,qt.z$)(),t=Ho.Vt(e),s=0<t&&t<10,a=Ho.Dt(e),d=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Nt(e){var t=this;return(0,be.Z)(function*(){return t.db||(rt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,a)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{a(new Ic(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const I=p.target.error;a("VersionError"===I.name?new Ye(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===I.name?new Ye(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+I):new Ic(e,I))},d.onupgradeneeded=p=>{rt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',p.oldVersion),t.Pt.kt(p.target.result,d.transaction,p.oldVersion,t.version).next(()=>{rt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=s=>t.Mt(s)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,a){var d=this;return(0,be.Z)(function*(){const p="readonly"===t;let I=0;for(;;){++I;try{d.db=yield d.Nt(e);const S=Rl.open(d.db,e,p?"readonly":"readwrite",s),O=a(S).next(W=>(S.bt(),W)).catch(W=>(S.abort(W),Re.reject(W))).toPromise();return O.catch(()=>{}),yield S.Rt,O}catch(S){const O="FirebaseError"!==S.name&&I<3;if(rt("SimpleDb","Transaction failed with error:",S.message,"Retrying:",O),d.close(),!O)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class iv{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return wc(this.Ft.delete())}}class Ic extends Ye{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mu(n){return"IndexedDbTransactionError"===n.name}class pg{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(rt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(rt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),wc(s)}add(e){return rt("SimpleDb","ADD",this.store.name,e,e),wc(this.store.add(e))}get(e){return wc(this.store.get(e)).next(t=>(void 0===t&&(t=null),rt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return rt("SimpleDb","DELETE",this.store.name,e),wc(this.store.delete(e))}count(){return rt("SimpleDb","COUNT",this.store.name),wc(this.store.count())}qt(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const a=this.cursor(s),d=[];return this.Gt(a,(p,I)=>{d.push(I)}).next(()=>d)}{const a=this.store.getAll(s.range);return new Re((d,p)=>{a.onerror=I=>{p(I.target.error)},a.onsuccess=I=>{d(I.target.result)}})}}Kt(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new Re((a,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{a(p.target.result)}})}Qt(e,t){rt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.jt=!1;const a=this.cursor(s);return this.Gt(a,(d,p,I)=>I.delete())}Wt(e,t){let s;t?s=e:(s={},t=e);const a=this.cursor(s);return this.Gt(a,t)}zt(e){const t=this.cursor({});return new Re((s,a)=>{t.onerror=d=>{const p=mf(d.target.error);a(p)},t.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(I=>{I?p.continue():s()}):s()}})}Gt(e,t){const s=[];return new Re((a,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const I=p.target.result;if(!I)return void a();const S=new iv(I),O=t(I.primaryKey,I.value,S);if(O instanceof Re){const W=O.catch(X=>(S.done(),Re.reject(X)));s.push(W)}S.isDone?a():null===S.Lt?I.continue():I.continue(S.Lt)}}).next(()=>Re.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.jt?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function wc(n){return new Re((e,t)=>{n.onsuccess=s=>{e(s.target.result)},n.onerror=s=>{const a=mf(s.target.error);t(a)}})}let nu=!1;function mf(n){const e=Ho.Vt((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const s=new Ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nu||(nu=!0,setTimeout(()=>{throw s},0)),s}}return n}class sv extends K0{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function _i(n,e){const t=Et(n);return Ho.xt(t.Ht,e)}class gg{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const d=this.mutations[a];d.key.isEqual(e.key)&&Xp(d,e,s[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&uo(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&uo(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const s=e.get(t.key),a=s;this.applyToLocalView(a),s.isValidDocument()||a.convertToNoDocument(Wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$n())}isEqual(e){return this.batchId===e.batchId&&Fo(this.mutations,e.mutations,(t,s)=>wl(t,s))&&Fo(this.baseMutations,e.baseMutations,(t,s)=>wl(t,s))}}class yf{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){tn(e.mutations.length===s.length);let a=ng;const d=e.mutations;for(let p=0;p<d.length;p++)a=a.insert(d[p].key,s[p].version);return new yf(e,t,s,a)}}class mg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ru{constructor(e,t,s,a,d=Wt.min(),p=Wt.min(),I=Qr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=I}withSequenceNumber(e){return new Ru(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ru(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Nl{constructor(e){this.Jt=e}}function vf(n,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ru(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:th(a=n.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ml(a,d.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:Go(e.version)};else{if(!e.isUnknownDocument())return Mt();s.unknownDocument={path:t.path.toArray(),version:Go(e.version)}}var a,d;return s}function ru(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Go(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fo(n){const e=new Lr(n.seconds,n.nanoseconds);return Wt.fromTimestamp(e)}function Pl(n,e){const t=(e.baseMutations||[]).map(d=>hf(n.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const p=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(p.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>hf(n.Jt,d)),a=Lr.fromMillis(e.localWriteTimeMs);return new gg(e.batchId,a,t,s)}function kl(n){const e=fo(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?fo(n.lastLimboFreeSnapshotVersion):Wt.min();let s;var a;return void 0!==n.query.documents?(tn(1===(a=n.query).documents.length),s=es(Xa(Ky(a.documents[0])))):s=es(ho(n.query)),new Ru(s,n.targetId,0,n.lastListenSequenceNumber,e,t,Qr.fromBase64String(n.resumeToken))}function yg(n,e){const t=Go(e.snapshotVersion),s=Go(e.lastLimboFreeSnapshotVersion);let a;a=ya(e.target)?cg(n.Jt,e.target):rh(n.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ja(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:a}}function ih(n){const e=ho({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tf(e,e.limit,"L"):e}function sh(n,e){return new mg(e.largestBatchId,hf(n.Jt,e.overlayMutation))}function vg(n,e){const t=e.path.lastSegment();return[n,ui(e.path.popLast()),t]}class _f{getBundleMetadata(e,t){return ov(e).get(t).next(s=>{if(s)return{id:(a=s).bundleId,createTime:fo(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return ov(e).put({bundleId:(s=t).id,createTime:Go(Pi(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return _g(e).get(t).next(s=>{if(s)return{name:(a=s).name,query:ih(a.bundledQuery),readTime:fo(a.readTime)};var a})}saveNamedQuery(e,t){return _g(e).put({name:(s=t).name,readTime:Go(Pi(s.readTime)),bundledQuery:s.bundledQuery});var s}}function ov(n){return _i(n,"bundles")}function _g(n){return _i(n,"namedQueries")}class av{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new av(e,t.uid||"")}getOverlay(e,t){return Fl(e).get(vg(this.userId,t)).next(s=>s?sh(this.M,s):null)}saveOverlays(e,t,s){const a=[];return s.forEach((d,p)=>{const I=new mg(t,p);a.push(this.Xt(e,I))}),Re.waitFor(a)}removeOverlaysForBatchId(e,t,s){const a=new Set;t.forEach(p=>a.add(ui(p.getCollectionPath())));const d=[];return a.forEach(p=>{const I=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Fl(e).Qt("collectionPathOverlayIndex",I))}),Re.waitFor(d)}getOverlaysForCollection(e,t,s){const a=Cl(),d=ui(t),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Fl(e).qt("collectionPathOverlayIndex",p).next(I=>{for(const S of I){const O=sh(this.M,S);a.set(O.getKey(),O)}return a})}getOverlaysForCollectionGroup(e,t,s,a){const d=Cl();let p;const I=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fl(e).Wt({index:"collectionGroupOverlayIndex",range:I},(S,O,W)=>{const X=sh(this.M,O);d.size()<a||X.largestBatchId===p?(d.set(X.getKey(),X),p=X.largestBatchId):W.done()}).next(()=>d)}Xt(e,t){return Fl(e).put(function(s,a,d){const[p,I,S]=vg(a,d.mutation.key);return{userId:a,collectionPath:I,documentId:S,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:on(s.Jt,d.mutation)}}(this.M,this.userId,t))}}function Fl(n){return _i(n,"documentOverlays")}class Dc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(jr(e.integerValue));else if("doubleValue"in e){const s=jr(e.doubleValue);isNaN(s)?this.ne(t,13):(this.ne(t,15),ll(s)?t.se(0):t.se(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ne(t,20),"string"==typeof s?t.ie(s):(t.ie(`${s.seconds||""}`),t.se(s.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qa(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ne(t,45),t.se(s.latitude||0),t.se(s.longitude||0)}else"mapValue"in e?Xh(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Mt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const s=e.fields||{};this.ne(t,55);for(const a of Object.keys(s))this.re(a,t),this.te(s[a],t)}he(e,t){const s=e.values||[];this.ne(t,50);for(const a of s)this.te(a,t)}ae(e,t){this.ne(t,37),ut.fromName(e).path.forEach(s=>{this.ne(t,60),this.le(s,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function q0(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Eg(n){const e=64-function(t){let s=0;for(let a=0;a<8;++a){const d=q0(255&t[a]);if(s+=d,8!==d)break}return s}(n);return Math.ceil(e/8)}Dc.fe=new Dc;class Z0{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this._e(s.value),s=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.ge(s.value),s=t.next();this.ye()}pe(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this._e(s);else if(s<2048)this._e(960|s>>>6),this._e(128|63&s);else if(t<"\ud800"||"\udbff"<t)this._e(480|s>>>12),this._e(128|63&s>>>6),this._e(128|63&s);else{const a=t.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}this.we()}Ie(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.ge(s);else if(s<2048)this.ge(960|s>>>6),this.ge(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.ge(480|s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s);else{const a=t.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}this.ye()}Te(e){const t=this.Ee(e),s=Eg(t);this.Ae(1+s),this.buffer[this.position++]=255&s;for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=255&t[a]}Re(e){const t=this.Ee(e),s=Eg(t);this.Ae(1+s),this.buffer[this.position++]=~(255&s);for(let a=t.length-s;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(a){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,a,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let a=1;a<t.length;++a)t[a]^=s?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const a=new Uint8Array(s);a.set(this.buffer),this.buffer=a}}class Y0{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class zs{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Ef{constructor(){this.De=new Z0,this.Ce=new Y0(this.De),this.xe=new zs(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Nu{constructor(e,t,s,a){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=a}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Nu(this.indexId,this.documentKey,this.arrayValue,s)}}function Ll(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Q0(n.arrayValue,e.arrayValue),0!==t?t:(t=Q0(n.directionalValue,e.directionalValue),0!==t?t:ut.comparator(n.documentKey,e.documentKey)))}function Q0(n,e){for(let t=0;t<n.length&&t<e.length;++t){const s=n[t]-e[t];if(0!==s)return s}return n.length-e.length}class uv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const s=t;s.S()?this.Fe=s:this.Oe.push(s)}}$e(e){const t=Hd(e);if(void 0!==t&&!this.Be(t))return!1;const s=fr(e);let a=0,d=0;for(;a<s.length&&this.Be(s[a]);++a);if(a===s.length)return!0;if(void 0!==this.Fe){const p=s[a];if(!this.Le(this.Fe,p)||!this.Ue(this.Me[d++],p))return!1;++a}for(;a<s.length;++a){const p=s[a];if(d>=this.Me.length||!this.Ue(this.Me[d++],p))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Fw{constructor(){this.qe=new Ig}addToCollectionParentIndex(e,t){return this.qe.add(t),Re.resolve()}getCollectionParents(e,t){return Re.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Re.resolve()}deleteFieldIndex(e,t){return Re.resolve()}getDocumentsMatchingTarget(e,t){return Re.resolve(null)}getFieldIndex(e,t){return Re.resolve(null)}getFieldIndexes(e,t){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}updateCollectionGroup(e,t,s){return Re.resolve()}updateIndexEntries(e,t){return Re.resolve()}}class Ig{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new _r(Rn.comparator),d=!a.has(s);return this.index[t]=a.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new _r(Rn.comparator)).toArray()}}const Ul=new Uint8Array(0);class cv{constructor(e){this.user=e,this.Ge=new Ig,this.Ke=new Su(t=>Ja(t),(t,s)=>gl(t,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const s=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const d={collectionId:s,parent:ui(a)};return lv(e).put(d)}return Re.resolve()}getCollectionParents(e,t){const s=[],a=IDBKeyRange.bound([t,""],[ul(t),""],!1,!0);return lv(e).qt(a).next(d=>{for(const p of d){if(p.collectionId!==t)break;s.push(Gs(p.parent))}return s})}addFieldIndex(e,t){const s=If(e),a={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var d;return delete a.indexId,s.add(a).next()}deleteFieldIndex(e,t){const s=If(e),a=ah(e),d=oh(e);return s.delete(t.indexId).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=oh(e);let a=!0;const d=new Map;return Re.forEach(this.Qe(t),p=>this.getFieldIndex(e,p).next(I=>{a&&(a=!!I),d.set(p,I)})).next(()=>{if(a){let p=$n();return Re.forEach(d,(I,S)=>{var O;rt("IndexedDbIndexManager",`Using index ${O=I,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(nn=>`${nn.fieldPath}:${nn.kind}`).join(",")}`} to execute ${Ja(t)}`);const W=function(nn,Ur){const cn=Hd(Ur);if(void 0===cn)return null;for(const Nn of oi(nn,cn.fieldPath))switch(Nn.op){case"array-contains-any":return Nn.value.arrayValue.values||[];case"array-contains":return[Nn.value]}return null}(S,I),X=function(nn,Ur){const cn=new Map;for(const Nn of fr(Ur))for(const En of oi(nn,Nn.fieldPath))switch(En.op){case"==":case"in":cn.set(Nn.fieldPath.canonicalString(),En.value);break;case"not-in":case"!=":return cn.set(Nn.fieldPath.canonicalString(),En.value),Array.from(cn.values())}return null}(S,I),pe=function(nn,Ur){const cn=[];let Nn=!0;for(const Sa of fr(Ur)){let Rs,Ku=!0;for(const Ei of oi(nn,Sa.fieldPath)){let Gr,Dd=!0;switch(Ei.op){case"<":case"<=":Gr="nullValue"in(En=Ei.value)?gs:"booleanValue"in En?{booleanValue:!1}:"integerValue"in En||"doubleValue"in En?{doubleValue:NaN}:"timestampValue"in En?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in En?{stringValue:""}:"bytesValue"in En?{bytesValue:""}:"referenceValue"in En?ma(pa.empty(),ut.empty()):"geoPointValue"in En?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in En?{arrayValue:{}}:"mapValue"in En?{mapValue:{}}:Mt();break;case"==":case"in":case">=":Gr=Ei.value;break;case">":Gr=Ei.value,Dd=!1;break;case"!=":case"not-in":Gr=gs}dl(Rs,Gr)===Gr&&(Rs=Gr,Ku=Dd)}if(null!==nn.startAt)for(let Ei=0;Ei<nn.orderBy.length;++Ei)if(nn.orderBy[Ei].field.isEqual(Sa.fieldPath)){const Gr=nn.startAt.position[Ei];dl(Rs,Gr)===Gr&&(Rs=Gr,Ku=nn.startAt.inclusive);break}if(void 0===Rs)return null;cn.push(Rs),Nn&&(Nn=Ku)}var En;return new _a(cn,Nn)}(S,I),Ne=function(nn,Ur){const cn=[];let Nn=!0;for(const Sa of fr(Ur)){let Rs,Ku=!0;for(const Ei of oi(nn,Sa.fieldPath)){let Gr,Dd=!0;switch(Ei.op){case">=":case">":Gr="nullValue"in(En=Ei.value)?{booleanValue:!1}:"booleanValue"in En?{doubleValue:NaN}:"integerValue"in En||"doubleValue"in En?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in En?{stringValue:""}:"stringValue"in En?{bytesValue:""}:"bytesValue"in En?ma(pa.empty(),ut.empty()):"referenceValue"in En?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in En?{arrayValue:{}}:"arrayValue"in En?{mapValue:{}}:"mapValue"in En?$d:Mt(),Dd=!1;break;case"==":case"in":case"<=":Gr=Ei.value;break;case"<":Gr=Ei.value,Dd=!1;break;case"!=":case"not-in":Gr=$d}hl(Rs,Gr)===Gr&&(Rs=Gr,Ku=Dd)}if(null!==nn.endAt)for(let Ei=0;Ei<nn.orderBy.length;++Ei)if(nn.orderBy[Ei].field.isEqual(Sa.fieldPath)){const Gr=nn.endAt.position[Ei];hl(Rs,Gr)===Gr&&(Rs=Gr,Ku=nn.endAt.inclusive);break}if(void 0===Rs)return null;cn.push(Rs),Nn&&(Nn=Ku)}var En;return new _a(cn,Nn)}(S,I),Be=this.je(I,S,pe),it=this.je(I,S,Ne),Rt=this.We(I,S,X),Un=this.ze(I.indexId,W,Be,!!pe&&pe.inclusive,it,!!Ne&&Ne.inclusive,Rt);return Re.forEach(Un,nn=>s.Kt(nn,t.limit).next(Ur=>{Ur.forEach(cn=>{p=p.add(new ut(Gs(cn.documentKey)))})}))}).next(()=>p)}return Re.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,s,a,d,p,I){const S=(null!=t?t.length:1)*Math.max(null!=s?s.length:1,null!=d?d.length:1),O=S/(null!=t?t.length:1),W=[];for(let X=0;X<S;++X){const pe=t?this.He(t[X/O]):Ul,Ne=s?this.Je(e,pe,s[X%O],a):this.Ye(e),Be=d?this.Xe(e,pe,d[X%O],p):this.Ye(e+1);W.push(...this.createRange(Ne,Be,I.map(it=>this.Je(e,pe,it,!0))))}return W}Je(e,t,s,a){const d=new Nu(e,ut.empty(),t,s);return a?d:d.ke()}Xe(e,t,s,a){const d=new Nu(e,ut.empty(),t,s);return a?d.ke():d}Ye(e){return new Nu(e,ut.empty(),Ul,Ul)}getFieldIndex(e,t){const s=new uv(t),a=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next(d=>{const p=d.filter(I=>s.$e(I));return p.sort((I,S)=>S.fields.length-I.fields.length),p.length>0?p[0]:null})}Ze(e,t){const s=new Ef;for(const a of fr(e)){const d=t.data.field(a.fieldPath);if(null==d)return null;const p=s.Ne(a.kind);Dc.fe.Zt(d,p)}return s.Se()}He(e){const t=new Ef;return Dc.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,s){if(null===s)return[];let a=[];a.push(new Ef);let d=0;for(const p of fr(e)){const I=s[d++];for(const S of a)if(this.tn(t,p.fieldPath)&&Ya(I))a=this.en(a,p,I);else{const O=S.Ne(p.kind);Dc.fe.Zt(I,O)}}return this.nn(a)}je(e,t,s){return null==s?null:this.We(e,t,s.position)}nn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].Se();return t}en(e,t,s){const a=[...e],d=[];for(const p of s.arrayValue.values||[])for(const I of a){const S=new Ef;S.seed(I.Se()),Dc.fe.Zt(p,S.Ne(t.kind)),d.push(S)}return d}tn(e,t){return!!e.filters.find(s=>s instanceof $r&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=If(e),a=ah(e);return(t?s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.qt()).next(d=>{const p=[];return Re.forEach(d,I=>a.get([I.indexId,this.uid]).next(S=>{p.push(function(O,W){const X=W?new gc(W.sequenceNumber,new Vo(fo(W.readTime),new ut(Gs(W.documentKey)),W.largestBatchId)):gc.empty(),pe=O.fields.map(([Ne,Be])=>new pc(vi.fromServerFormat(Ne),Be));return new bu(O.indexId,O.collectionGroup,pe,X)}(I,S))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,a)=>{const d=s.indexState.sequenceNumber-a.indexState.sequenceNumber;return 0!==d?d:_n(s.collectionGroup,a.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const a=If(e),d=ah(e);return this.sn(e).next(p=>a.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(I=>Re.forEach(I,S=>{return d.put({indexId:S.indexId,uid:this.user.uid||"",sequenceNumber:p,readTime:Go((pe=s).readTime),documentKey:ui(pe.documentKey.path),largestBatchId:pe.largestBatchId});var pe})))}updateIndexEntries(e,t){const s=new Map;return Re.forEach(t,(a,d)=>{const p=s.get(a.collectionGroup);return(p?Re.resolve(p):this.getFieldIndexes(e,a.collectionGroup)).next(I=>(s.set(a.collectionGroup,I),Re.forEach(I,S=>this.rn(e,a,S).next(O=>{const W=this.on(d,S);return O.isEqual(W)?Re.resolve():this.un(e,d,O,W)}))))})}an(e,t,s){return oh(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,documentKey:ui(t.key.path)})}cn(e,t,s){return oh(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,ui(t.key.path)])}rn(e,t,s){const a=oh(e);let d=new _r(Ll);return a.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,ui(t.path)])},(p,I)=>{d=d.add(new Nu(s.indexId,t,I.arrayValue,I.directionalValue))}).next(()=>d)}on(e,t){let s=new _r(Ll);const a=this.Ze(t,e);if(null==a)return s;const d=Hd(t);if(null!=d){const p=e.data.field(d.fieldPath);if(Ya(p))for(const I of p.arrayValue.values||[])s=s.add(new Nu(t.indexId,e.key,this.He(I),a))}else s=s.add(new Nu(t.indexId,e.key,Ul,a));return s}un(e,t,s,a){rt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(p,I,S,O,W){const X=p.getIterator(),pe=I.getIterator();let Ne=Tl(X),Be=Tl(pe);for(;Ne||Be;){let it=!1,Rt=!1;if(Ne&&Be){const Un=S(Ne,Be);Un<0?Rt=!0:Un>0&&(it=!0)}else null!=Ne?Rt=!0:it=!0;it?(O(Be),Be=Tl(pe)):Rt?(W(Ne),Ne=Tl(X)):(Ne=Tl(X),Be=Tl(pe))}}(s,a,Ll,p=>{d.push(this.an(e,t,p))},p=>{d.push(this.cn(e,t,p))}),Re.waitFor(d)}sn(e){let t=1;return ah(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,a,d)=>{d.done(),t=a.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((p,I)=>Ll(p,I)).filter((p,I,S)=>!I||0!==Ll(p,S[I-1]));const a=[];a.push(e);for(const p of s){const I=Ll(p,e),S=Ll(p,t);if(0===I)a[0]=e.ke();else if(I>0&&S<0)a.push(p),a.push(p.ke());else if(S>0)break}a.push(t);const d=[];for(let p=0;p<a.length;p+=2)d.push(IDBKeyRange.bound([a[p].indexId,this.uid,a[p].arrayValue,a[p].directionalValue,""],[a[p+1].indexId,this.uid,a[p+1].arrayValue,a[p+1].directionalValue,""]));return d}}function lv(n){return _i(n,"collectionParents")}function oh(n){return _i(n,"indexEntries")}function If(n){return _i(n,"indexConfiguration")}function ah(n){return _i(n,"indexState")}const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function hv(n,e,t){const s=n.store("mutations"),a=n.store("documentMutations"),d=[],p=IDBKeyRange.only(t.batchId);let I=0;const S=s.Wt({range:p},(W,X,pe)=>(I++,pe.delete()));d.push(S.next(()=>{tn(1===I)}));const O=[];for(const W of t.mutations){const X=ev(e,W.key.path,t.batchId);d.push(a.delete(X)),O.push(W.key)}return Re.waitFor(d).next(()=>O)}function wf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Mt();e=n.noDocument}return JSON.stringify(e).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class Df{constructor(e,t,s,a){this.userId=e,this.M=t,this.indexManager=s,this.referenceDelegate=a,this.hn={}}static Yt(e,t,s,a){tn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Df(d,t,s,a)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ou(e).Wt({index:"userMutationsIndex",range:s},(a,d,p)=>{t=!1,p.done()}).next(()=>t)}addMutationBatch(e,t,s,a){const d=_s(e),p=Ou(e);return p.add({}).next(I=>{tn("number"==typeof I);const S=new gg(I,t,s,a),O=function(pe,Ne,Be){const it=Be.baseMutations.map(Un=>on(pe.Jt,Un)),Rt=Be.mutations.map(Un=>on(pe.Jt,Un));return{userId:Ne,batchId:Be.batchId,localWriteTimeMs:Be.localWriteTime.toMillis(),baseMutations:it,mutations:Rt}}(this.M,this.userId,S),W=[];let X=new _r((pe,Ne)=>_n(pe.canonicalString(),Ne.canonicalString()));for(const pe of a){const Ne=ev(this.userId,pe.key.path,I);X=X.add(pe.key.path.popLast()),W.push(p.put(O)),W.push(d.put(Ne,V0))}return X.forEach(pe=>{W.push(this.indexManager.addToCollectionParentIndex(e,pe))}),e.addOnCommittedListener(()=>{this.hn[I]=S.keys()}),Re.waitFor(W).next(()=>S)})}lookupMutationBatch(e,t){return Ou(e).get(t).next(s=>s?(tn(s.userId===this.userId),Pl(this.M,s)):null)}ln(e,t){return this.hn[t]?Re.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const a=s.keys();return this.hn[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return Ou(e).Wt({index:"userMutationsIndex",range:a},(p,I,S)=>{I.userId===this.userId&&(tn(I.batchId>=s),d=Pl(this.M,I)),S.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Ou(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(a,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ou(e).qt("userMutationsIndex",t).next(s=>s.map(a=>Pl(this.M,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=hg(this.userId,t.path),a=IDBKeyRange.lowerBound(s),d=[];return _s(e).Wt({range:a},(p,I,S)=>{const[O,W,X]=p,pe=Gs(W);if(O===this.userId&&t.path.isEqual(pe))return Ou(e).get(X).next(Ne=>{if(!Ne)throw Mt();tn(Ne.userId===this.userId),d.push(Pl(this.M,Ne))});S.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _r(_n);const a=[];return t.forEach(d=>{const p=hg(this.userId,d.path),I=IDBKeyRange.lowerBound(p),S=_s(e).Wt({range:I},(O,W,X)=>{const[pe,Ne,Be]=O,it=Gs(Ne);pe===this.userId&&d.path.isEqual(it)?s=s.add(Be):X.done()});a.push(S)}),Re.waitFor(a).next(()=>this.fn(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1,d=hg(this.userId,s),p=IDBKeyRange.lowerBound(d);let I=new _r(_n);return _s(e).Wt({range:p},(S,O,W)=>{const[X,pe,Ne]=S,Be=Gs(pe);X===this.userId&&s.isPrefixOf(Be)?Be.length===a&&(I=I.add(Ne)):W.done()}).next(()=>this.fn(e,I))}fn(e,t){const s=[],a=[];return t.forEach(d=>{a.push(Ou(e).get(d).next(p=>{if(null===p)throw Mt();tn(p.userId===this.userId),s.push(Pl(this.M,p))}))}),Re.waitFor(a).next(()=>s)}removeMutationBatch(e,t){return hv(e.Ht,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),Re.forEach(s,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Re.resolve();const s=IDBKeyRange.lowerBound([this.userId]),a=[];return _s(e).Wt({range:s},(d,p,I)=>{if(d[0]===this.userId){const S=Gs(d[1]);a.push(S)}else I.done()}).next(()=>{tn(0===a.length)})})}containsKey(e,t){return wg(e,this.userId,t)}_n(e){return bf(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function wg(n,e,t){const s=hg(e,t.path),a=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return _s(n).Wt({range:d,jt:!0},(I,S,O)=>{const[W,X,pe]=I;W===e&&X===a&&(p=!0),O.done()}).next(()=>p)}function Ou(n){return _i(n,"mutations")}function _s(n){return _i(n,"documentMutations")}function bf(n){return _i(n,"mutationQueues")}class bc{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new bc(0)}static gn(){return new bc(-1)}}class J0{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const s=new bc(t.highestTargetId);return t.highestTargetId=s.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Wt.fromTimestamp(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.yn(e).next(a=>(a.highestListenSequenceNumber=t,s&&(a.lastRemoteSnapshotVersion=s.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.pn(e,a)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(s=>(s.targetCount+=1,this.Tn(t,s),this.pn(e,s))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>uh(e).delete(t.targetId)).next(()=>this.yn(e)).next(s=>(tn(s.targetCount>0),s.targetCount-=1,this.pn(e,s)))}removeTargets(e,t,s){let a=0;const d=[];return uh(e).Wt((p,I)=>{const S=kl(I);S.sequenceNumber<=t&&null===s.get(S.targetId)&&(a++,d.push(this.removeTargetData(e,S)))}).next(()=>Re.waitFor(d)).next(()=>a)}forEachTarget(e,t){return uh(e).Wt((s,a)=>{const d=kl(a);t(d)})}yn(e){return Dg(e).get("targetGlobalKey").next(t=>(tn(null!==t),t))}pn(e,t){return Dg(e).put("targetGlobalKey",t)}In(e,t){return uh(e).put(yg(this.M,t))}Tn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Ja(t),a=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return uh(e).Wt({range:a,index:"queryTargetsIndex"},(p,I,S)=>{const O=kl(I);gl(t,O.target)&&(d=O,S.done())}).next(()=>d)}addMatchingKeys(e,t,s){const a=[],d=Pu(e);return t.forEach(p=>{const I=ui(p.path);a.push(d.put({targetId:s,path:I})),a.push(this.referenceDelegate.addReference(e,s,p))}),Re.waitFor(a)}removeMatchingKeys(e,t,s){const a=Pu(e);return Re.forEach(t,d=>{const p=ui(d.path);return Re.waitFor([a.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=Pu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(a)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),a=Pu(e);let d=$n();return a.Wt({range:s,jt:!0},(p,I,S)=>{const O=Gs(p[1]),W=new ut(O);d=d.add(W)}).next(()=>d)}containsKey(e,t){const s=ui(t.path),a=IDBKeyRange.bound([s],[ul(s)],!1,!0);let d=0;return Pu(e).Wt({index:"documentTargetsIndex",jt:!0,range:a},([p,I],S,O)=>{0!==p&&(d++,O.done())}).next(()=>d>0)}Et(e,t){return uh(e).get(t).next(s=>s?kl(s):null)}}function uh(n){return _i(n,"targets")}function Dg(n){return _i(n,"targetGlobal")}function Pu(n){return _i(n,"targetDocuments")}function Tc(n){return bg.apply(this,arguments)}function bg(){return bg=(0,be.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==W0)throw n;rt("LocalStore","Unexpectedly lost primary lease")}),bg.apply(this,arguments)}function Tf([n,e],[t,s]){const a=_n(n,t);return 0===a?_n(e,s):a}class X0{constructor(e){this.En=e,this.buffer=new _r(Tf),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Tf(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class eE{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const s=this.Pn?3e5:6e4;rt("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,be.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){Mu(a)?rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield Tc(a)}yield t.vn(e)}))}}class Cf{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return Re.resolve(yi.A);const s=new X0(t);return this.Sn.forEachTarget(e,a=>s.bn(a.sequenceNumber)).next(()=>this.Sn.Cn(e,a=>s.bn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Sn.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Re.resolve(dv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let s,a,d,p,I,S,O;const W=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(X=>(X>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${X}`),a=this.params.maximumSequenceNumbersToCollect):a=X,p=Date.now(),this.nthSequenceNumber(e,a))).next(X=>(s=X,I=Date.now(),this.removeTargets(e,s,t))).next(X=>(d=X,S=Date.now(),this.removeOrphanedDocuments(e,s))).next(X=>(O=Date.now(),Ka()<=ti.in.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-W}ms\n\tDetermined least recently used ${a} in `+(I-p)+`ms\n\tRemoved ${d} targets in `+(S-I)+`ms\n\tRemoved ${X} documents in `+(O-S)+`ms\nTotal Duration: ${O-W}ms`),Re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:d,documentsRemoved:X})))}}class Tg{constructor(e,t){this.db=e,this.garbageCollector=new Cf(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}Nn(e){let t=0;return this.Cn(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(s,a)=>t(a))}addReference(e,t,s){return Af(e,s)}removeReference(e,t,s){return Af(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Af(e,t)}Mn(e,t){return function(s,a){let d=!1;return bf(s).zt(p=>wg(s,p,a).next(I=>(I&&(d=!0),Re.resolve(!I)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let d=0;return this.kn(e,(p,I)=>{if(I<=t){const S=this.Mn(e,p).next(O=>{if(!O)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,Wt.min()),Pu(e).delete([0,ui(p.path)])))});a.push(S)}}).next(()=>Re.waitFor(a)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Af(e,t)}kn(e,t){const s=Pu(e);let a,d=yi.A;return s.Wt({index:"documentTargetsIndex"},([p,I],{path:S,sequenceNumber:O})=>{0===p?(d!==yi.A&&t(new ut(Gs(a)),d),d=O,a=S):d=yi.A}).next(()=>{d!==yi.A&&t(new ut(Gs(a)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Af(n,e){return Pu(n).put((s=n.currentSequenceNumber,{targetId:0,path:ui(e.path),sequenceNumber:s}));var s}class Sf{constructor(){this.changes=new Su(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Re.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Cg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return Cc(e).put(s)}removeEntry(e,t,s){return Cc(e).delete(function(a,d){const p=a.path.toArray();return[p.slice(0,p.length-2),p[p.length-2],ru(d),p[p.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.On(e,s)))}getEntry(e,t){let s=nr.newInvalidDocument(t);return Cc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ac(t))},(a,d)=>{s=this.Fn(t,d)}).next(()=>s)}$n(e,t){let s={size:0,document:nr.newInvalidDocument(t)};return Cc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ac(t))},(a,d)=>{s={document:this.Fn(t,d),size:wf(d)}}).next(()=>s)}getEntries(e,t){let s=co();return this.Bn(e,t,(a,d)=>{const p=this.Fn(a,d);s=s.insert(a,p)}).next(()=>s)}Ln(e,t){let s=co(),a=new Xr(ut.comparator);return this.Bn(e,t,(d,p)=>{const I=this.Fn(d,p);s=s.insert(d,I),a=a.insert(d,wf(p))}).next(()=>({documents:s,Un:a}))}Bn(e,t,s){if(t.isEmpty())return Re.resolve();let a=new _r(gv);t.forEach(S=>a=a.add(S));const d=IDBKeyRange.bound(Ac(a.first()),Ac(a.last())),p=a.getIterator();let I=p.getNext();return Cc(e).Wt({index:"documentKeyIndex",range:d},(S,O,W)=>{const X=ut.fromSegments([...O.prefixPath,O.collectionGroup,O.documentId]);for(;I&&gv(I,X)<0;)s(I,null),I=p.getNext();I&&I.isEqual(X)&&(s(I,O),I=p.hasNext()?p.getNext():null),I?W.Ut(Ac(I)):W.done()}).next(()=>{for(;I;)s(I,null),I=p.hasNext()?p.getNext():null})}getAllFromCollection(e,t,s){const a=[t.popLast().toArray(),t.lastSegment(),ru(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cc(e).qt(IDBKeyRange.bound(a,d,!0)).next(p=>{let I=co();for(const S of p){const O=this.Fn(ut.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);I=I.insert(O.key,O)}return I})}getAllFromCollectionGroup(e,t,s,a){let d=co();const p=tE(t,s),I=tE(t,Vo.max());return Cc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,I,!0)},(S,O,W)=>{const X=this.Fn(ut.fromSegments(O.prefixPath.concat(O.collectionGroup,O.documentId)),O);d=d.insert(X.key,X),d.size===a&&W.done()}).next(()=>d)}newChangeBuffer(e){return new fv(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pv(e).get("remoteDocumentGlobalKey").next(t=>(tn(!!t),t))}On(e,t){return pv(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const s=function Ol(n,e){let t;if(e.document)t=Zy(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ut.fromSegments(e.noDocument.path),a=fo(e.noDocument.readTime);t=nr.newNoDocument(s,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Mt();{const s=ut.fromSegments(e.unknownDocument.path),a=fo(e.unknownDocument.version);t=nr.newUnknownDocument(s,a)}}return e.readTime&&t.setReadTime(function(s){const a=new Lr(s[0],s[1]);return Wt.fromTimestamp(a)}(e.readTime)),t}(this.M,t);if(!s.isNoDocument()||!s.version.isEqual(Wt.min()))return s}return nr.newInvalidDocument(e)}}class fv extends Sf{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Su(s=>s.toString(),(s,a)=>s.isEqual(a))}applyChanges(e){const t=[];let s=0,a=new _r((d,p)=>_n(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const I=this.Gn.get(d);if(t.push(this.qn.removeEntry(e,d,I.readTime)),p.isValidDocument()){const S=vf(this.qn.M,p);a=a.add(d.path.popLast()),s+=wf(S)-I.size,t.push(this.qn.addEntry(e,d,S))}else if(s-=I.size,this.trackRemovals){const S=vf(this.qn.M,p.convertToNoDocument(Wt.min()));t.push(this.qn.addEntry(e,d,S))}}),a.forEach(d=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.qn.updateMetadata(e,s)),Re.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(s=>(this.Gn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:s,Un:a})=>(a.forEach((d,p)=>{this.Gn.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function pv(n){return _i(n,"remoteDocumentGlobal")}function Cc(n){return _i(n,"remoteDocumentsV14")}function Ac(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tE(n,e){const t=e.documentKey.path.toArray();return[n,ru(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gv(n,e){const t=n.path.length-e.path.length;return 0!==t?t:ut.comparator(n,e)}class mv{constructor(e){this.M=e}kt(e,t,s,a){const d=new Rl("createOrUpgrade",t);var I;s<1&&a>=1&&(e.createObjectStore("owner"),(I=e).createObjectStore("mutationQueues",{keyPath:"userId"}),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gf,{unique:!0}),I.createObjectStore("documentMutations"),Ag(e),function(I){I.createObjectStore("remoteDocuments")}(e));let p=Re.resolve();return s<3&&a>=3&&(0!==s&&(function(I){I.deleteObjectStore("targetDocuments"),I.deleteObjectStore("targets"),I.deleteObjectStore("targetGlobal")}(e),Ag(e)),p=p.next(()=>function(I){const S=I.store("targetGlobal"),O={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return S.put("targetGlobalKey",O)}(d))),s<4&&a>=4&&(0!==s&&(p=p.next(()=>function(I,S){return S.store("mutations").qt().next(O=>{I.deleteObjectStore("mutations"),I.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gf,{unique:!0});const W=S.store("mutations"),X=O.map(pe=>W.put(pe));return Re.waitFor(X)})}(e,d))),p=p.next(()=>{!function(I){I.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&a>=5&&(p=p.next(()=>this.Kn(d))),s<6&&a>=6&&(p=p.next(()=>(function(I){I.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(d)))),s<7&&a>=7&&(p=p.next(()=>this.jn(d))),s<8&&a>=8&&(p=p.next(()=>this.Wn(e,d))),s<9&&a>=9&&(p=p.next(()=>{!function(I){I.objectStoreNames.contains("remoteDocumentChanges")&&I.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&a>=10&&(p=p.next(()=>this.zn(d))),s<11&&a>=11&&(p=p.next(()=>{(function(I){I.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(I){I.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&a>=12&&(p=p.next(()=>{!function(I){const S=I.createObjectStore("documentOverlays",{keyPath:Rw});S.createIndex("collectionPathOverlayIndex",Nw,{unique:!1}),S.createIndex("collectionGroupOverlayIndex",Ow,{unique:!1})}(e)})),s<13&&a>=13&&(p=p.next(()=>function(I){const S=I.createObjectStore("remoteDocumentsV14",{keyPath:B0});S.createIndex("documentKeyIndex",j0),S.createIndex("collectionGroupIndex",tv)}(e)).next(()=>this.Hn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&a>=14&&(p=p.next(()=>{!function(I){I.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),I.createObjectStore("indexState",{keyPath:rv}).createIndex("sequenceNumberIndex",H0,{unique:!1}),I.createObjectStore("indexEntries",{keyPath:fg}).createIndex("documentKeyIndex",Mw,{unique:!1})}(e)})),p}Qn(e){let t=0;return e.store("remoteDocuments").Wt((s,a)=>{t+=wf(a)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Kn(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.qt().next(a=>Re.forEach(a,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.qt("userMutationsIndex",p).next(I=>Re.forEach(I,S=>{tn(S.userId===d.userId);const O=Pl(this.M,S);return hv(e,d.userId,O).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(a=>{const d=[];return s.Wt((p,I)=>{const S=new Rn(p),O=[0,ui(S)];d.push(t.get(O).next(W=>W?Re.resolve():t.put({targetId:0,path:ui(S),sequenceNumber:a.highestListenSequenceNumber})))}).next(()=>Re.waitFor(d))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:nv});const s=t.store("collectionParents"),a=new Ig,d=p=>{if(a.add(p)){const I=p.lastSegment(),S=p.popLast();return s.put({collectionId:I,parent:ui(S)})}};return t.store("remoteDocuments").Wt({jt:!0},(p,I)=>{const S=new Rn(p);return d(S.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([p,I,S],O)=>{const W=Gs(I);return d(W.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((s,a)=>{const d=kl(a),p=yg(this.M,d);return t.put(p)})}Hn(e,t){const s=t.store("remoteDocuments"),a=[];return s.Wt((d,p)=>{const I=t.store("remoteDocumentsV14"),S=(O=p,O.document?new ut(Rn.fromString(O.document.name).popFirst(5)):O.noDocument?ut.fromSegments(O.noDocument.path):O.unknownDocument?ut.fromSegments(O.unknownDocument.path):Mt()).path.toArray();var O;const W={prefixPath:S.slice(0,S.length-2),collectionGroup:S[S.length-2],documentId:S[S.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};a.push(I.put(W))}).next(()=>Re.waitFor(a))}}function Ag(n){n.createObjectStore("targetDocuments",{keyPath:$0}).createIndex("documentTargetsIndex",xw,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sw,{unique:!0}),n.createObjectStore("targetGlobal")}const xf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mf{constructor(e,t,s,a,d,p,I,S,O,W,X=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Jn=d,this.window=p,this.document=I,this.Yn=O,this.Xn=W,this.Zn=X,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=pe=>Promise.resolve(),!Mf.vt())throw new Ye(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Tg(this,a),this.cs=t+"main",this.M=new Nl(S),this.hs=new Ho(this.cs,this.Zn,new mv(this.M)),this.ls=new J0(this.referenceDelegate,this.M),this.fs=new Cg(this.M),this.ds=new _f,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===W&&Br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ye(Te.FAILED_PRECONDITION,xf);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new yi(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var s=(0,be.Z)(function*(a){if(t.started)return e(a)});return function(a){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,be.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>po(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Mu(e))return rt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Vl(e).get("owner").next(t=>Re.resolve(this.bs(t)))}Ps(e){return po(e).delete(this.clientId)}Vs(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=_i(s,"clientMetadata");return a.qt().next(d=>{const p=e.Ss(d,18e5),I=d.filter(S=>-1===p.indexOf(S));return Re.forEach(I,S=>a.delete(S.clientId)).next(()=>I)})}).catch(()=>[]);if(e._s)for(const s of t)e._s.removeItem(e.Ds(s.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?Re.resolve(!0):Vl(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ye(Te.FAILED_PRECONDITION,xf);return!1}}return!(!this.networkEnabled||!this.inForeground)||po(e).qt().next(s=>void 0===this.Ss(s,5e3).find(a=>{if(this.clientId!==a.clientId){const p=!this.inForeground&&a.inForeground,I=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||p&&I)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&rt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new sv(t,yi.A);return e.As(s).next(()=>e.Ps(s))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(s=>this.vs(s.updateTimeMs,t)&&!this.Cs(s.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>po(e).qt().next(t=>this.Ss(t,18e5).map(s=>s.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Df.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new cv(e)}getDocumentOverlayCache(e){return av.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,s){rt("IndexedDbPersistence","Starting transaction:",e);const a="readonly"===t?"readonly":"readwrite",d=14===(p=this.Zn)?kw:13===p?z0:12===p?Pw:11===p?G0:void Mt();var p;let I;return this.hs.runTransaction(e,a,d,S=>(I=new sv(S,this.ts?this.ts.next():yi.A),"readwrite-primary"===t?this.Ts(I).next(O=>!!O||this.Es(I)).next(O=>{if(!O)throw Br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ye(Te.FAILED_PRECONDITION,W0);return s(I)}).next(O=>this.Rs(I).next(()=>O)):this.Fs(I).next(()=>s(I)))).then(S=>(I.raiseOnCommittedEvent(),S))}Fs(e){return Vl(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ye(Te.FAILED_PRECONDITION,xf)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vl(e).put("owner",t)}static vt(){return Ho.vt()}As(e){const t=Vl(e);return t.get("owner").next(s=>this.bs(s)?(rt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Re.resolve())}vs(e,t){const s=Date.now();return!(e<s-t||e>s&&(Br(`Detected an update time that is in the future: ${e} > ${s}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const s=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return rt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Br("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Br("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Vl(n){return _i(n,"owner")}function po(n){return _i(n,"clientMetadata")}function Bl(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nE{constructor(e,t,s){this.fs=e,this.$s=t,this.indexManager=s}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(s=>this.Ls(e,t,s))}Ls(e,t,s){return this.fs.getEntry(e,t).next(a=>{for(const d of s)d.applyToLocalView(a);return a})}Us(e,t){e.forEach((s,a)=>{for(const d of t)d.applyToLocalView(a)})}qs(e,t){return this.fs.getEntries(e,t).next(s=>this.Gs(e,s).next(()=>s))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>this.Us(t,s))}Ks(e,t,s){return ut.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Qs(e,t.path):ai(t)?this.js(e,t,s):this.Ws(e,t,s);var a}Qs(e,t){return this.Bs(e,new ut(t)).next(s=>{let a=lf();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}js(e,t,s){const a=t.collectionGroup;let d=lf();return this.indexManager.getCollectionParents(e,a).next(p=>Re.forEach(p,I=>{const S=(O=t,W=I.child(a),new jo(W,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt));var O,W;return this.Ws(e,S,s).next(O=>{O.forEach((W,X)=>{d=d.insert(W,X)})})}).next(()=>d))}Ws(e,t,s){let a;return this.fs.getAllFromCollection(e,t.path,s).next(d=>(a=d,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(d=>{for(const p of d)for(const I of p.mutations){const S=I.key;let O=a.get(S);null==O&&(O=nr.newInvalidDocument(S),a=a.insert(S,O)),uo(I,O,p.localWriteTime),O.isFoundDocument()||(a=a.remove(S))}}).next(()=>(a.forEach((d,p)=>{_l(t,p)||(a=a.remove(d))}),a))}}class Sg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.zs=s,this.Hs=a}static Js(e,t){let s=$n(),a=$n();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:a=a.add(d.doc.key)}return new Sg(e,t.fromCache,s,a)}}class rE{Ys(e){this.Xs=e}Ks(e,t,s,a){return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(Wt.min())?this.Zs(e,t):this.Xs.qs(e,a).next(d=>{const p=this.ti(t,d);return(yl(t)||Tu(t))&&this.ei(t.limitType,p,a,s)?this.Zs(e,t):(Ka()<=ti.in.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yc(t)),this.Xs.Ks(e,t,fl(s,-1)).next(I=>(p.forEach(S=>{I=I.insert(S.key,S)}),I)))});var d}ti(e,t){let s=new _r(El(e));return t.forEach((a,d)=>{_l(e,d)&&(s=s.add(d))}),s}ei(e,t,s,a){if(s.size!==t.size)return!0;const d="F"===e?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(a)>0)}Zs(e,t){return Ka()<=ti.in.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",yc(t)),this.Xs.Ks(e,t,Vo.min())}}class xg{constructor(e,t,s,a){this.persistence=e,this.ni=t,this.M=a,this.si=new Xr(_n),this.ii=new Su(d=>Ja(d),gl),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(s)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new nE(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Mg(n,e,t,s){return new xg(n,e,t,s)}function Rf(n,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,be.Z)(function*(n,e){const t=Et(n);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.$s.getAllMutationBatches(s).next(d=>(a=d,t.ui(e),t.$s.getAllMutationBatches(s))).next(d=>{const p=[],I=[];let S=$n();for(const O of a){p.push(O.batchId);for(const W of O.mutations)S=S.add(W.key)}for(const O of d){I.push(O.batchId);for(const W of O.mutations)S=S.add(W.key)}return t.ai.qs(s,S).next(O=>({ci:O,removedBatchIds:p,addedBatchIds:I}))})})}),Sc.apply(this,arguments)}function iE(n,e){const t=Et(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),d=t.oi.newChangeBuffer({trackRemovals:!0});return function(p,I,S,O){const W=S.batch,X=W.keys();let pe=Re.resolve();return X.forEach(Ne=>{pe=pe.next(()=>O.getEntry(I,Ne)).next(Be=>{const it=S.docVersions.get(Ne);tn(null!==it),Be.version.compareTo(it)<0&&(W.applyToRemoteDocument(Be,S),Be.isValidDocument()&&(Be.setReadTime(S.commitVersion),O.addEntry(Be)))})}),pe.next(()=>p.$s.removeMutationBatch(I,W))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.$s.performConsistencyCheck(s)).next(()=>t.ai.qs(s,a))})}function Nf(n){const e=Et(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function yv(n,e){const t=Et(n),s=e.snapshotVersion;let a=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=t.oi.newChangeBuffer({trackRemovals:!0});a=t.si;const I=[];e.targetChanges.forEach((O,W)=>{const X=a.get(W);if(!X)return;I.push(t.ls.removeMatchingKeys(d,O.removedDocuments,W).next(()=>t.ls.addMatchingKeys(d,O.addedDocuments,W)));let pe=X.withSequenceNumber(d.currentSequenceNumber);var Ne,Be,it;e.targetMismatches.has(W)?pe=pe.withResumeToken(Qr.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):O.resumeToken.approximateByteSize()>0&&(pe=pe.withResumeToken(O.resumeToken,s)),a=a.insert(W,pe),Be=pe,it=O,(0===(Ne=X).resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-Ne.snapshotVersion.toMicroseconds()>=3e8||it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0)&&I.push(t.ls.updateTargetData(d,pe))});let S=co();if(e.documentUpdates.forEach(O=>{e.resolvedLimboDocuments.has(O)&&I.push(t.persistence.referenceDelegate.updateLimboDocument(d,O))}),I.push(Rg(d,p,e.documentUpdates).next(O=>{S=O})),!s.isEqual(Wt.min())){const O=t.ls.getLastRemoteSnapshotVersion(d).next(W=>t.ls.setTargetsMetadata(d,d.currentSequenceNumber,s));I.push(O)}return Re.waitFor(I).next(()=>p.apply(d)).next(()=>t.ai.Gs(d,S)).next(()=>S)}).then(d=>(t.si=a,d))}function Rg(n,e,t){let s=$n();return t.forEach(a=>s=s.add(a)),e.getEntries(n,s).next(a=>{let d=co();return t.forEach((p,I)=>{const S=a.get(p);I.isNoDocument()&&I.version.isEqual(Wt.min())?(e.removeEntry(p,I.readTime),d=d.insert(p,I)):!S.isValidDocument()||I.version.compareTo(S.version)>0||0===I.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(I),d=d.insert(p,I)):rt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",S.version," Watch version:",I.version)}),d})}function vv(n,e){const t=Et(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(s,e)))}function jl(n,e){const t=Et(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.ls.getTargetData(s,e).next(d=>d?(a=d,Re.resolve(a)):t.ls.allocateTargetId(s).next(p=>(a=new Ru(e,p,0,s.currentSequenceNumber),t.ls.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.si.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.si=t.si.insert(s.targetId,s),t.ii.set(e,s.targetId)),s})}function ku(n,e,t){return Ng.apply(this,arguments)}function Ng(){return Ng=(0,be.Z)(function*(n,e,t){const s=Et(n),a=s.si.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,a)))}catch(p){if(!Mu(p))throw p;rt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.si=s.si.remove(e),s.ii.delete(a.target)}),Ng.apply(this,arguments)}function Of(n,e,t){const s=Et(n);let a=Wt.min(),d=$n();return s.persistence.runTransaction("Execute query","readonly",p=>function(I,S,O){const W=Et(I),X=W.ii.get(O);return void 0!==X?Re.resolve(W.si.get(X)):W.ls.getTargetData(S,O)}(s,p,es(e)).next(I=>{if(I)return a=I.lastLimboFreeSnapshotVersion,s.ls.getMatchingKeysForTargetId(p,I.targetId).next(S=>{d=S})}).next(()=>s.ni.Ks(p,e,t?a:Wt.min(),t?d:$n())).next(I=>(Pg(s,nf(e),I),{documents:I,hi:d})))}function Og(n,e){const t=Et(n),s=Et(t.ls),a=t.si.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,e).next(p=>p?p.target:null))}function xc(n,e){const t=Et(n),s=t.ri.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",a=>t.oi.getAllFromCollectionGroup(a,e,fl(s,-1),Number.MAX_SAFE_INTEGER)).then(a=>(Pg(t,e,a),a))}function Pg(n,e,t){let s=Wt.min();t.forEach((a,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),n.ri.set(e,s)}function kg(){return kg=(0,be.Z)(function*(n,e,t,s){const a=Et(n);let d=$n(),p=co();for(const O of t){const W=e.li(O.metadata.name);O.document&&(d=d.add(W));const X=e.fi(O);X.setReadTime(e.di(O.metadata.readTime)),p=p.insert(W,X)}const I=a.oi.newChangeBuffer({trackRemovals:!0}),S=yield jl(a,(O=s,es(Xa(Rn.fromString(`__bundle__/docs/${O}`)))));var O;return a.persistence.runTransaction("Apply bundle documents","readwrite",O=>Rg(O,I,p).next(W=>(I.apply(O),W)).next(W=>a.ls.removeMatchingKeysForTargetId(O,S.targetId).next(()=>a.ls.addMatchingKeys(O,d,S.targetId)).next(()=>a.ai.Gs(O,W)).next(()=>W)))}),kg.apply(this,arguments)}function $l(n,e){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,be.Z)(function*(n,e,t=$n()){const s=yield jl(n,es(ih(e.bundledQuery))),a=Et(n);return a.persistence.runTransaction("Save named query","readwrite",d=>{const p=Pi(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return a.ds.saveNamedQuery(d,e);const I=s.withResumeToken(Qr.EMPTY_BYTE_STRING,p);return a.si=a.si.insert(I.targetId,I),a.ls.updateTargetData(d,I).next(()=>a.ls.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>a.ls.addMatchingKeys(d,t,s.targetId)).next(()=>a.ds.saveNamedQuery(d,e))})}),Fg.apply(this,arguments)}class oE{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return Re.resolve(this._i.get(t))}saveBundleMetadata(e,t){var s;return this._i.set(t.id,{id:(s=t).id,version:s.version,createTime:Pi(s.createTime)}),Re.resolve()}getNamedQuery(e,t){return Re.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(s=t).name,query:ih(s.bundledQuery),readTime:Pi(s.readTime)}),Re.resolve();var s}}class aE{constructor(){this.overlays=new Xr(ut.comparator),this.mi=new Map}getOverlay(e,t){return Re.resolve(this.overlays.get(t))}saveOverlays(e,t,s){return s.forEach((a,d)=>{this.Xt(e,t,d)}),Re.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.mi.get(s);return void 0!==a&&(a.forEach(d=>this.overlays=this.overlays.remove(d)),this.mi.delete(s)),Re.resolve()}getOverlaysForCollection(e,t,s){const a=Cl(),d=t.length+1,p=new ut(t.child("")),I=this.overlays.getIteratorFrom(p);for(;I.hasNext();){const S=I.getNext().value,O=S.getKey();if(!t.isPrefixOf(O.path))break;O.path.length===d&&S.largestBatchId>s&&a.set(S.getKey(),S)}return Re.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let d=new Xr((O,W)=>O-W);const p=this.overlays.getIterator();for(;p.hasNext();){const O=p.getNext().value;if(O.getKey().getCollectionGroup()===t&&O.largestBatchId>s){let W=d.get(O.largestBatchId);null===W&&(W=Cl(),d=d.insert(O.largestBatchId,W)),W.set(O.getKey(),O)}}const I=Cl(),S=d.getIterator();for(;S.hasNext()&&(S.getNext().value.forEach((O,W)=>I.set(O,W)),!(I.size()>=a)););return Re.resolve(I)}Xt(e,t,s){if(null===s)return;const a=this.overlays.get(s.key);if(null!==a){const p=this.mi.get(a.largestBatchId).delete(s.key);this.mi.set(a.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new mg(t,s));let d=this.mi.get(t);void 0===d&&(d=$n(),this.mi.set(t,d)),this.mi.set(t,d.add(s.key))}}class Lg{constructor(){this.gi=new _r(or.yi),this.pi=new _r(or.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const s=new or(e,t);this.gi=this.gi.add(s),this.pi=this.pi.add(s)}Ti(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Ei(new or(e,t))}Ai(e,t){e.forEach(s=>this.removeReference(s,t))}Ri(e){const t=new ut(new Rn([])),s=new or(t,e),a=new or(t,e+1),d=[];return this.pi.forEachInRange([s,a],p=>{this.Ei(p),d.push(p.key)}),d}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new ut(new Rn([])),s=new or(t,e),a=new or(t,e+1);let d=$n();return this.pi.forEachInRange([s,a],p=>{d=d.add(p.key)}),d}containsKey(e){const t=new or(e,0),s=this.gi.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class or{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return ut.comparator(e.key,t.key)||_n(e.Vi,t.Vi)}static Ii(e,t){return _n(e.Vi,t.Vi)||ut.comparator(e.key,t.key)}}class Ug{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new _r(or.yi)}checkEmpty(e){return Re.resolve(0===this.$s.length)}addMutationBatch(e,t,s,a){const d=this.vi;this.vi++;const p=new gg(d,t,s,a);this.$s.push(p);for(const I of a)this.Si=this.Si.add(new or(I.key,d)),this.indexManager.addToCollectionParentIndex(e,I.key.path.popLast());return Re.resolve(p)}lookupMutationBatch(e,t){return Re.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.Ci(t+1),d=a<0?0:a;return Re.resolve(this.$s.length>d?this.$s[d]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return Re.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new or(t,0),a=new or(t,Number.POSITIVE_INFINITY),d=[];return this.Si.forEachInRange([s,a],p=>{const I=this.Di(p.Vi);d.push(I)}),Re.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new _r(_n);return t.forEach(a=>{const d=new or(a,0),p=new or(a,Number.POSITIVE_INFINITY);this.Si.forEachInRange([d,p],I=>{s=s.add(I.Vi)})}),Re.resolve(this.xi(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let d=s;ut.isDocumentKey(d)||(d=d.child(""));const p=new or(new ut(d),0);let I=new _r(_n);return this.Si.forEachWhile(S=>{const O=S.key.path;return!!s.isPrefixOf(O)&&(O.length===a&&(I=I.add(S.Vi)),!0)},p),Re.resolve(this.xi(I))}xi(e){const t=[];return e.forEach(s=>{const a=this.Di(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){tn(0===this.Ni(t.batchId,"removed")),this.$s.shift();let s=this.Si;return Re.forEach(t.mutations,a=>{const d=new or(a.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Si=s})}dn(e){}containsKey(e,t){const s=new or(t,0),a=this.Si.firstAfterOrEqual(s);return Re.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Re.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class _v{constructor(e){this.ki=e,this.docs=new Xr(ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),d=a?a.size:0,p=this.ki(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Re.resolve(s?s.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let s=co();return t.forEach(a=>{const d=this.docs.get(a);s=s.insert(a,d?d.document.mutableCopy():nr.newInvalidDocument(a))}),Re.resolve(s)}getAllFromCollection(e,t,s){let a=co();const d=new ut(t.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:I,value:{document:S}}=p.getNext();if(!t.isPrefixOf(I.path))break;I.path.length>t.length+1||pl(ef(S),s)<=0||(a=a.insert(S.key,S.mutableCopy()))}return Re.resolve(a)}getAllFromCollectionGroup(e,t,s,a){Mt()}Mi(e,t){return Re.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ev(this)}getSize(e){return Re.resolve(this.size)}}class Ev extends Sf{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.qn.addEntry(e,a)):this.qn.removeEntry(s)}),Re.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Iv{constructor(e){this.persistence=e,this.Oi=new Su(t=>Ja(t),gl),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Lg,this.targetCount=0,this.Bi=bc.mn()}forEachTarget(e,t){return this.Oi.forEach((s,a)=>t(a)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Fi&&(this.Fi=t),Re.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new bc(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,Re.resolve()}updateTargetData(e,t){return this.In(t),Re.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,t,s){let a=0;const d=[];return this.Oi.forEach((p,I)=>{I.sequenceNumber<=t&&null===s.get(I.targetId)&&(this.Oi.delete(p),d.push(this.removeMatchingKeysForTargetId(e,I.targetId)),a++)}),Re.waitFor(d).next(()=>a)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,t){const s=this.Oi.get(t)||null;return Re.resolve(s)}addMatchingKeys(e,t,s){return this.$i.Ti(t,s),Re.resolve()}removeMatchingKeys(e,t,s){this.$i.Ai(t,s);const a=this.persistence.referenceDelegate,d=[];return a&&t.forEach(p=>{d.push(a.markPotentiallyOrphaned(e,p))}),Re.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),Re.resolve()}getMatchingKeysForTargetId(e,t){const s=this.$i.Pi(t);return Re.resolve(s)}containsKey(e,t){return Re.resolve(this.$i.containsKey(t))}}class wv{constructor(e,t){this.Li={},this.overlays={},this.ts=new yi(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Iv(this),this.indexManager=new Fw,this.fs=new _v(s=>this.referenceDelegate.Ui(s)),this.M=new Nl(t),this.ds=new oE(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new aE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Li[e.toKey()];return s||(s=new Ug(t,this.referenceDelegate),this.Li[e.toKey()]=s),s}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,s){rt("MemoryPersistence","Starting transaction:",e);const a=new uE(this.ts.next());return this.referenceDelegate.qi(),s(a).next(d=>this.referenceDelegate.Gi(a).next(()=>d)).toPromise().then(d=>(a.raiseOnCommittedEvent(),d))}Ki(e,t){return Re.or(Object.values(this.Li).map(s=>()=>s.containsKey(e,t)))}}class uE extends K0{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Qi=new Lg,this.ji=null}static Wi(e){return new Vg(e)}get zi(){if(this.ji)return this.ji;throw Mt()}addReference(e,t,s){return this.Qi.addReference(s,t),this.zi.delete(s.toString()),Re.resolve()}removeReference(e,t,s){return this.Qi.removeReference(s,t),this.zi.add(s.toString()),Re.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),Re.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(a=>this.zi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(d=>this.zi.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.zi,s=>{const a=ut.fromPath(s);return this.Hi(e,a).next(d=>{d||t.removeEntry(a,Wt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(s=>{s?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return Re.or([()=>Re.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Dv(n,e){return`firestore_clients_${n}_${e}`}function bv(n,e,t){let s=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Pf(n,e){return`firestore_targets_${n}_${e}`}class Bg{constructor(e,t,s,a){this.user=e,this.batchId=t,this.state=s,this.error=a}static Ji(e,t,s){const a=JSON.parse(s);let d,p="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return p&&a.error&&(p="string"==typeof a.error.message&&"string"==typeof a.error.code,p&&(d=new Ye(a.error.code,a.error.message))),p?new Bg(e,t,a.state,d):(Br("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Hl{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Ji(e,t){const s=JSON.parse(t);let a,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(a=new Ye(s.error.code,s.error.message))),d?new Hl(e,s.state,a):(Br("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kf{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const s=JSON.parse(t);let a="object"==typeof s&&s.activeTargetIds instanceof Array,d=eh();for(let p=0;a&&p<s.activeTargetIds.length;++p)a=Yh(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return a?new kf(e,d):(Br("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jg{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jg(t.clientId,t.onlineState):(Br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Tv{constructor(){this.activeTargetIds=eh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cv{constructor(e,t,s,a,d){this.window=e,this.Jn=t,this.persistenceKey=s,this.tr=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Xr(_n),this.started=!1,this.ir=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.rr=Dv(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Tv),this.ar=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(I){return`firestore_bundle_loaded_v2_${I}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.Os();for(const a of t){if(a===e.tr)continue;const d=e.getItem(Dv(e.persistenceKey,a));if(d){const p=kf.Ji(a,d);p&&(e.sr=e.sr.insert(p.clientId,p))}}e._r();const s=e.storage.getItem(e.lr);if(s){const a=e.wr(s);a&&e.mr(a)}for(const a of e.ir)e.nr(a);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((s,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,s){this.yr(e,t,s),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Pf(this.persistenceKey,e));if(s){const a=Hl.Ji(e,s);a&&(t=a.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pf(this.persistenceKey,e))}updateQueryState(e,t,s){this.Tr(e,t,s)}handleUserChange(e,t,s){t.forEach(a=>{this.pr(a)}),this.currentUser=e,s.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return rt("SharedClientState","READ",e,t),t}setItem(e,t){rt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){rt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(rt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.rr)return void Br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==s.key)if(t.ar.test(s.key)){if(null==s.newValue){const a=t.Rr(s.key);return t.br(a,null)}{const a=t.Pr(s.key,s.newValue);if(a)return t.br(a.clientId,a)}}else if(t.cr.test(s.key)){if(null!==s.newValue){const a=t.Vr(s.key,s.newValue);if(a)return t.vr(a)}}else if(t.hr.test(s.key)){if(null!==s.newValue){const a=t.Sr(s.key,s.newValue);if(a)return t.Dr(a)}}else if(s.key===t.lr){if(null!==s.newValue){const a=t.wr(s.newValue);if(a)return t.mr(a)}}else if(s.key===t.ur){const a=function(d){let p=yi.A;if(null!=d)try{const I=JSON.parse(d);tn("number"==typeof I),p=I}catch(I){Br("SharedClientState","Failed to read sequence number from WebStorage",I)}return p}(s.newValue);a!==yi.A&&t.sequenceNumberHandler(a)}else if(s.key===t.dr){const a=t.Cr(s.newValue);yield Promise.all(a.map(d=>t.syncEngine.Nr(d)))}}else t.ir.push(s)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,s){const a=new Bg(this.currentUser,e,t,s),d=bv(this.persistenceKey,this.currentUser,e);this.setItem(d,a.Yi())}pr(e){const t=bv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,s){const a=Pf(this.persistenceKey,e),d=new Hl(e,t,s);this.setItem(a,d.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const s=this.Rr(e);return kf.Ji(s,t)}Vr(e,t){const s=this.cr.exec(e),a=Number(s[1]);return Bg.Ji(new si(void 0!==s[2]?s[2]:null),a,t)}Sr(e,t){const s=this.hr.exec(e),a=Number(s[1]);return Hl.Ji(a,t)}wr(e){return jg.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);rt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const s=t?this.sr.insert(e,t):this.sr.remove(e),a=this.gr(this.sr),d=this.gr(s),p=[],I=[];return d.forEach(S=>{a.has(S)||p.push(S)}),a.forEach(S=>{d.has(S)||I.push(S)}),this.syncEngine.Or(p,I).then(()=>{this.sr=s})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=eh();return e.forEach((s,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class Ff{constructor(){this.Fr=new Tv,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,s){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Tv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cE{Br(e){}shutdown(){}}class $g{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Av={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lw{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class zo extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,s,a,d){const p=this.oo(e,t);rt("RestConnection","Sending: ",p,s);const I={};return this.uo(I,a,d),this.ao(e,p,I,s).then(S=>(rt("RestConnection","Received: ",S),S),S=>{throw wu("RestConnection",`${e} failed with error: `,S,"url: ",p,"request:",s),S})}co(e,t,s,a,d){return this.ro(e,t,s,a,d)}uo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,d)=>e[d]=a),s&&s.headers.forEach((a,d)=>e[d]=a)}oo(e,t){return`${this.so}/v1/${t}:${Av[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,s,a){return new Promise((d,p)=>{const I=new za;I.listenOnce(kd.COMPLETE,()=>{try{switch(I.getLastErrorCode()){case il.NO_ERROR:const O=I.getResponseJson();rt("Connection","XHR received:",JSON.stringify(O)),d(O);break;case il.TIMEOUT:rt("Connection",'RPC "'+e+'" timed out'),p(new Ye(Te.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:const W=I.getStatus();if(rt("Connection",'RPC "'+e+'" failed with status:',W,"response text:",I.getResponseText()),W>0){const X=I.getResponseJson().error;if(X&&X.status&&X.message){const pe=function(Ne){const Be=Ne.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Be)>=0?Be:Te.UNKNOWN}(X.status);p(new Ye(pe,X.message))}else p(new Ye(Te.UNKNOWN,"Server responded with status "+I.getStatus()))}else p(new Ye(Te.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{rt("Connection",'RPC "'+e+'" completed.')}});const S=JSON.stringify(a);I.send(t,"POST",S,s,15)})}ho(e,t,s){const a=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Pd(),p=oc(),I={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(I.xmlHttpFactory=new Ld({})),this.uo(I.initMessageHeaders,t,s),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(I.httpHeadersOverwriteParam="$httpHeaders");const S=a.join("");rt("Connection","Creating WebChannel: "+S,I);const O=d.createWebChannel(S,I);let W=!1,X=!1;const pe=new Lw({jr:Be=>{X?rt("Connection","Not sending because WebChannel is closed:",Be):(W||(rt("Connection","Opening WebChannel transport."),O.open(),W=!0),rt("Connection","WebChannel sending:",Be),O.send(Be))},Wr:()=>O.close()}),Ne=(Be,it,Rt)=>{Be.listen(it,Un=>{try{Rt(Un)}catch(nn){setTimeout(()=>{throw nn},0)}})};return Ne(O,Iu.EventType.OPEN,()=>{X||rt("Connection","WebChannel transport opened.")}),Ne(O,Iu.EventType.CLOSE,()=>{X||(X=!0,rt("Connection","WebChannel transport closed"),pe.eo())}),Ne(O,Iu.EventType.ERROR,Be=>{X||(X=!0,wu("Connection","WebChannel transport errored:",Be),pe.eo(new Ye(Te.UNAVAILABLE,"The operation could not be completed")))}),Ne(O,Iu.EventType.MESSAGE,Be=>{var it;if(!X){const Rt=Be.data[0];tn(!!Rt);const Un=Rt,nn=Un.error||(null===(it=Un[0])||void 0===it?void 0:it.error);if(nn){rt("Connection","WebChannel received error:",nn);const Ur=nn.status;let cn=function(En){const Sa=Jr[En];if(void 0!==Sa)return Vy(Sa)}(Ur),Nn=nn.message;void 0===cn&&(cn=Te.INTERNAL,Nn="Unknown error status: "+Ur+" with message "+nn.message),X=!0,pe.eo(new Ye(cn,Nn)),O.close()}else rt("Connection","WebChannel received:",Rt),pe.no(Rt)}}),Ne(p,gi.STAT_EVENT,Be=>{Be.stat===Fd.PROXY?rt("Connection","Detected buffering proxy"):Be.stat===Fd.NOPROXY&&rt("Connection","Detected no buffering proxy")}),setTimeout(()=>{pe.Zr()},0),pe}}function lE(){return"undefined"!=typeof window?window:null}function Hg(){return"undefined"!=typeof document?document:null}function Gl(n){return new Cw(n,!0)}class Lf{constructor(e,t,s=1e3,a=1.5,d=6e4){this.Jn=e,this.timerId=t,this.lo=s,this.fo=a,this._o=d,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),s=Math.max(0,Date.now()-this.yo),a=Math.max(0,t-s);a>0&&rt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,a,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Gg{constructor(e,t,s,a,d,p,I,S){this.Jn=e,this.Ao=s,this.Ro=a,this.bo=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=I,this.listener=S,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Lf(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,be.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,be.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var s=this;return(0,be.Z)(function*(){s.Fo(),s.$o(),s.So.cancel(),s.Po++,4!==e?s.So.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),s.So.po()):t&&t.code===Te.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Bo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Po===t&&this.Uo(s,a)},s=>{e(()=>{const a=new Ye(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.qo(a)})})}Uo(e,t){const s=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{s(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(a=>{s(()=>this.qo(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}xo(){var e=this;this.state=5,this.So.Io((0,be.Z)(function*(){e.state=0,e.start()}))}qo(e){return rt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dE extends Gg{constructor(e,t,s,a,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,p),this.M=d}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function L0(n,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(S=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===S?1:"REMOVE"===S?2:"CURRENT"===S?3:"RESET"===S?4:Mt(),a=e.targetChange.targetIds||[],d=function(S,O){return S.N?(tn(void 0===O||"string"==typeof O),Qr.fromBase64String(O||"")):(tn(void 0===O||O instanceof Uint8Array),Qr.fromUint8Array(O||new Uint8Array))}(n,e.targetChange.resumeToken),p=e.targetChange.cause,I=p&&function(S){const O=void 0===S.code?Te.UNKNOWN:Vy(S.code);return new Ye(O,S.message||"")}(p);t=new $y(s,a,d,I||null)}else if("documentChange"in e){const s=e.documentChange,a=$o(n,s.document.name),d=Pi(s.document.updateTime),p=new Ci({mapValue:{fields:s.document.fields}}),I=nr.newFoundDocument(a,d,p);t=new Sl(s.targetIds||[],s.removedTargetIds||[],I.key,I)}else if("documentDelete"in e){const s=e.documentDelete,a=$o(n,s.document),d=s.readTime?Pi(s.readTime):Wt.min(),p=nr.newNoDocument(a,d);t=new Sl([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,a=$o(n,s.document);t=new Sl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return Mt();{const s=e.filter,d=new Uy(s.count||0);t=new xl(s.targetId,d)}}var S;return t}(this.M,e),s=function(a){if(!("targetChange"in a))return Wt.min();const d=a.targetChange;return d.targetIds&&d.targetIds.length?Wt.min():d.readTime?Pi(d.readTime):Wt.min()}(e);return this.listener.Ko(t,s)}Qo(e){const t={};t.database=nh(this.M),t.addTarget=function(a,d){let p;const I=d.target;return p=ya(I)?{documents:cg(a,I)}:{query:rh(a,I)},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?p.resumeToken=zy(a,d.resumeToken):d.snapshotVersion.compareTo(Wt.min())>0&&(p.readTime=Ml(a,d.snapshotVersion.toTimestamp())),p}(this.M,e);const s=function Qy(n,e){const t=function(s,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Oo(t)}jo(e){const t={};t.database=nh(this.M),t.removeTarget=e,this.Oo(t)}}class Uw extends Gg{constructor(e,t,s,a,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,p),this.M=d,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Yy(n,e){return n&&n.length>0?(tn(void 0!==e),n.map(t=>function(s,a){let d=Pi(s.updateTime?s.updateTime:a);return d.isEqual(Wt.min())&&(d=Pi(a)),new vc(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.Jo(s,t)}return tn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=nh(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>on(this.M,s))};this.Oo(t)}}class Sv extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=s,this.M=a,this.Zo=!1}tu(){if(this.Zo)throw new Ye(Te.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.bo.ro(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Te.UNKNOWN,a.toString())})}co(e,t,s){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,d])=>this.bo.co(e,t,s,a,d)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ye(Te.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class xv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Br(t),this.su=!1):rt("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class hE{constructor(e,t,s,a,d){var p=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=d,this.du.Br(I=>{s.enqueueAndForget((0,be.Z)(function*(){var S;go(p)&&(rt("RemoteStore","Restarting streams for network reachability change."),yield(S=(0,be.Z)(function*(O){const W=Et(O);W.lu.add(4),yield zl(W),W._u.set("Unknown"),W.lu.delete(4),yield Mc(W)}),function(O){return S.apply(this,arguments)})(p))}))}),this._u=new xv(s,a)}}function Mc(n){return zg.apply(this,arguments)}function zg(){return zg=(0,be.Z)(function*(n){if(go(n))for(const e of n.fu)yield e(!0)}),zg.apply(this,arguments)}function zl(n){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,be.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Wg.apply(this,arguments)}function Uf(n,e){const t=Et(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),qg(t)?Fu(t):Yl(t).Co()&&Kg(t,e))}function ch(n,e){const t=Et(n),s=Yl(t);t.hu.delete(e),s.Co()&&lh(t,e),0===t.hu.size&&(s.Co()?s.ko():go(t)&&t._u.set("Unknown"))}function Kg(n,e){n.wu.Z(e.targetId),Yl(n).Qo(e)}function lh(n,e){n.wu.Z(e),Yl(n).jo(e)}function Fu(n){n.wu=new k0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Yl(n).start(),n._u.iu()}function qg(n){return go(n)&&!Yl(n).Do()&&n.hu.size>0}function go(n){return 0===Et(n).lu.size}function Mv(n){n.wu=void 0}function fE(n){return dh.apply(this,arguments)}function dh(){return dh=(0,be.Z)(function*(n){n.hu.forEach((e,t)=>{Kg(n,e)})}),dh.apply(this,arguments)}function Da(n,e){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,be.Z)(function*(n,e){Mv(n),qg(n)?(n._u.uu(e),Fu(n)):n._u.set("Unknown")}),Rc.apply(this,arguments)}function ts(n,e,t){return iu.apply(this,arguments)}function iu(){return iu=(0,be.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof $y&&2===e.state&&e.cause)try{yield(s=(0,be.Z)(function*(a,d){const p=d.cause;for(const I of d.targetIds)a.hu.has(I)&&(yield a.remoteSyncer.rejectListen(I,p),a.hu.delete(I),a.wu.removeTarget(I))}),function(a,d){return s.apply(this,arguments)})(n,e)}catch(s){rt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Nc(n,s)}else if(e instanceof Sl?n.wu.ut(e):e instanceof xl?n.wu._t(e):n.wu.ht(e),!t.isEqual(Wt.min()))try{const s=yield Nf(n.localStore);t.compareTo(s)>=0&&(yield function(a,d){const p=a.wu.yt(d);return p.targetChanges.forEach((I,S)=>{if(I.resumeToken.approximateByteSize()>0){const O=a.hu.get(S);O&&a.hu.set(S,O.withResumeToken(I.resumeToken,d))}}),p.targetMismatches.forEach(I=>{const S=a.hu.get(I);if(!S)return;a.hu.set(I,S.withResumeToken(Qr.EMPTY_BYTE_STRING,S.snapshotVersion)),lh(a,I);const O=new Ru(S.target,I,1,S.sequenceNumber);Kg(a,O)}),a.remoteSyncer.applyRemoteEvent(p)}(n,t))}catch(s){rt("RemoteStore","Failed to raise snapshot:",s),yield Nc(n,s)}var s}),iu.apply(this,arguments)}function Nc(n,e,t){return xs.apply(this,arguments)}function xs(){return xs=(0,be.Z)(function*(n,e,t){if(!Mu(e))throw e;n.lu.add(1),yield zl(n),n._u.set("Offline"),t||(t=()=>Nf(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){rt("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Mc(n)}))}),xs.apply(this,arguments)}function Vf(n,e){return e().catch(t=>Nc(n,t,e))}function Wo(n){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,be.Z)(function*(n){const e=Et(n),t=Vu(e);let s=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;Wl(e);)try{const a=yield vv(e.localStore,s);if(null===a){0===e.cu.length&&t.ko();break}s=a.batchId,Kl(e,a)}catch(a){yield Nc(e,a)}Oc(e)&&Pc(e)}),Lu.apply(this,arguments)}function Wl(n){return go(n)&&n.cu.length<10}function Kl(n,e){n.cu.push(e);const t=Vu(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function Oc(n){return go(n)&&!Vu(n).Do()&&n.cu.length>0}function Pc(n){Vu(n).start()}function ql(n){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,be.Z)(function*(n){Vu(n).Xo()}),Uu.apply(this,arguments)}function Zl(n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,be.Z)(function*(n){const e=Vu(n);for(const t of n.cu)e.Ho(t.mutations)}),Bf.apply(this,arguments)}function Rv(n,e,t){return jf.apply(this,arguments)}function jf(){return jf=(0,be.Z)(function*(n,e,t){const s=n.cu.shift(),a=yf.from(s,e,t);yield Vf(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Wo(n)}),jf.apply(this,arguments)}function Nv(n,e){return $f.apply(this,arguments)}function $f(){return $f=(0,be.Z)(function*(n,e){var t;e&&Vu(n).zo&&(yield(t=(0,be.Z)(function*(s,a){if(uf(d=a.code)&&d!==Te.ABORTED){const p=s.cu.shift();Vu(s).No(),yield Vf(s,()=>s.remoteSyncer.rejectFailedWrite(p.batchId,a)),yield Wo(s)}var d}),function(s,a){return t.apply(this,arguments)})(n,e)),Oc(n)&&Pc(n)}),$f.apply(this,arguments)}function Zg(n,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,be.Z)(function*(n,e){const t=Et(n);t.asyncQueue.verifyOperationInProgress(),rt("RemoteStore","RemoteStore received new credentials");const s=go(t);t.lu.add(3),yield zl(t),s&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Mc(t)}),Hf.apply(this,arguments)}function Gf(n,e){return zf.apply(this,arguments)}function zf(){return zf=(0,be.Z)(function*(n,e){const t=Et(n);e?(t.lu.delete(2),yield Mc(t)):e||(t.lu.add(2),yield zl(t),t._u.set("Unknown"))}),zf.apply(this,arguments)}function Yl(n){return n.mu||(n.mu=function(e,t,s){const a=Et(e);return a.tu(),new dE(t,a.bo,a.authCredentials,a.appCheckCredentials,a.M,s)}(n.datastore,n.asyncQueue,{zr:fE.bind(null,n),Jr:Da.bind(null,n),Ko:ts.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.mu.No(),qg(n)?Fu(n):n._u.set("Unknown")):(yield n.mu.stop(),Mv(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Vu(n){return n.gu||(n.gu=function(e,t,s){const a=Et(e);return a.tu(),new Uw(t,a.bo,a.authCredentials,a.appCheckCredentials,a.M,s)}(n.datastore,n.asyncQueue,{zr:ql.bind(null,n),Jr:Nv.bind(null,n),Yo:Zl.bind(null,n),Jo:Rv.bind(null,n)}),n.fu.push(function(){var e=(0,be.Z)(function*(t){t?(n.gu.No(),yield Wo(n)):(yield n.gu.stop(),n.cu.length>0&&(rt("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Yg{constructor(e,t,s,a,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=d,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,t,s,a,d){const p=Date.now()+s,I=new Yg(e,t,p,a,d);return I.start(s),I}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ye(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ql(n,e){if(Br("AsyncQueue",`${e}: ${n}`),Mu(n))return new Ye(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class kc{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ut.comparator(t.key,s.key):(t,s)=>ut.comparator(t.key,s.key),this.keyedMap=lf(),this.sortedSet=new Xr(this.comparator)}static emptySet(e){return new kc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof kc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,d=s.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new kc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Ov{constructor(){this.yu=new Xr(ut.comparator)}track(e){const t=e.doc.key,s=this.yu.get(t);s?0!==e.type&&3===s.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==s.type?this.yu=this.yu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.yu=this.yu.remove(t):1===e.type&&2===s.type?this.yu=this.yu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Mt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Jl{constructor(e,t,s,a,d,p,I,S){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=I,this.excludesMetadataChanges=S}static fromInitialDocuments(e,t,s,a){const d=[];return t.forEach(p=>{d.push({type:0,doc:p})}),new Jl(e,t,kc.emptySet(t),d,s,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ys(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class Pv{constructor(){this.Iu=void 0,this.listeners=[]}}class pE{constructor(){this.queries=new Su(e=>Cu(e),ys),this.onlineState="Unknown",this.Tu=new Set}}function Wf(n,e){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,be.Z)(function*(n,e){const t=Et(n),s=e.query;let a=!1,d=t.queries.get(s);if(d||(a=!0,d=new Pv),a)try{d.Iu=yield t.onListen(s)}catch(p){const I=Ql(p,`Initialization of query '${yc(e.query)}' failed`);return void e.onError(I)}t.queries.set(s,d),d.listeners.push(e),e.Eu(t.onlineState),d.Iu&&e.Au(d.Iu)&&hh(t)}),Qg.apply(this,arguments)}function Jg(n,e){return kv.apply(this,arguments)}function kv(){return kv=(0,be.Z)(function*(n,e){const t=Et(n),s=e.query;let a=!1;const d=t.queries.get(s);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),a=0===d.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),kv.apply(this,arguments)}function gE(n,e){const t=Et(n);let s=!1;for(const a of e){const p=t.queries.get(a.query);if(p){for(const I of p.listeners)I.Au(a)&&(s=!0);p.Iu=a}}s&&hh(t)}function Xg(n,e,t){const s=Et(n),a=s.queries.get(e);if(a)for(const d of a.listeners)d.onError(t);s.queries.delete(e)}function hh(n){n.Tu.forEach(e=>{e.next()})}class em{constructor(e,t,s){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=s||{}}Au(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Jl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Vw{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class mE{constructor(e){this.M=e}li(e){return $o(this.M,e)}fi(e){return e.metadata.exists?Zy(this.M,e.document,!1):nr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Pi(e)}}class Bw{constructor(e,t,s){this.xu=e,this.localStore=t,this.M=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Fv(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const s=Rn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,s=new mE(this.M);for(const a of e)if(a.metadata.queries){const d=s.li(a.metadata.name);for(const p of a.metadata.queries){const I=(t.get(p)||$n()).add(d);t.set(p,I)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function sE(n,e,t,s){return kg.apply(this,arguments)}(e.localStore,new mE(e.M),e.documents,e.xu.id),s=e.ku(e.documents);for(const a of e.queries)yield $l(e.localStore,a,s.get(a.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Fv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class tm{constructor(e){this.key=e}}class yE{constructor(e){this.key=e}}class Lv{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=$n(),this.mutatedKeys=$n(),this.Lu=El(e),this.Uu=new kc(this.Lu)}get qu(){return this.Fu}Gu(e,t){const s=t?t.Ku:new Ov,a=t?t.Uu:this.Uu;let d=t?t.mutatedKeys:this.mutatedKeys,p=a,I=!1;const S=yl(this.query)&&a.size===this.query.limit?a.last():null,O=Tu(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((W,X)=>{const pe=a.get(W),Ne=_l(this.query,X)?X:null,Be=!!pe&&this.mutatedKeys.has(pe.key),it=!!Ne&&(Ne.hasLocalMutations||this.mutatedKeys.has(Ne.key)&&Ne.hasCommittedMutations);let Rt=!1;pe&&Ne?pe.data.isEqual(Ne.data)?Be!==it&&(s.track({type:3,doc:Ne}),Rt=!0):this.Qu(pe,Ne)||(s.track({type:2,doc:Ne}),Rt=!0,(S&&this.Lu(Ne,S)>0||O&&this.Lu(Ne,O)<0)&&(I=!0)):!pe&&Ne?(s.track({type:0,doc:Ne}),Rt=!0):pe&&!Ne&&(s.track({type:1,doc:pe}),Rt=!0,(S||O)&&(I=!0)),Rt&&(Ne?(p=p.add(Ne),d=it?d.add(W):d.delete(W)):(p=p.delete(W),d=d.delete(W)))}),yl(this.query)||Tu(this.query))for(;p.size>this.query.limit;){const W=yl(this.query)?p.last():p.first();p=p.delete(W.key),d=d.delete(W.key),s.track({type:1,doc:W})}return{Uu:p,Ku:s,ei:I,mutatedKeys:d}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const d=e.Ku.pu();d.sort((O,W)=>function(X,pe){const Ne=Be=>{switch(Be){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return Ne(X)-Ne(pe)}(O.type,W.type)||this.Lu(O.doc,W.doc)),this.ju(s);const p=t?this.Wu():[],I=0===this.Bu.size&&this.current?1:0,S=I!==this.$u;return this.$u=I,0!==d.length||S?{snapshot:new Jl(this.query,e.Uu,a,d,e.mutatedKeys,0===I,S,!1),zu:p}:{zu:p}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Ov,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=$n(),this.Uu.forEach(s=>{this.Hu(s.key)&&(this.Bu=this.Bu.add(s.key))});const t=[];return e.forEach(s=>{this.Bu.has(s)||t.push(new yE(s))}),this.Bu.forEach(s=>{e.has(s)||t.push(new tm(s))}),t}Ju(e){this.Fu=e.hi,this.Bu=$n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Jl.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class Xl{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class vE{constructor(e){this.key=e,this.Xu=!1}}class Uv{constructor(e,t,s,a,d,p){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Zu={},this.ta=new Su(I=>Cu(I),ys),this.ea=new Map,this.na=new Set,this.sa=new Xr(ut.comparator),this.ia=new Map,this.ra=new Lg,this.oa={},this.ua=new Map,this.aa=bc.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function _E(n,e){return Kf.apply(this,arguments)}function Kf(){return Kf=(0,be.Z)(function*(n,e){const t=yh(n);let s,a;const d=t.ta.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),a=d.view.Yu();else{const p=yield jl(t.localStore,es(e));t.isPrimaryClient&&Uf(t.remoteStore,p);const I=t.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,a=yield ed(t,e,s,"current"===I)}return a}),Kf.apply(this,arguments)}function ed(n,e,t,s){return nm.apply(this,arguments)}function nm(){return nm=(0,be.Z)(function*(n,e,t,s){n.ha=(W,X,pe)=>{return(Ne=(0,be.Z)(function*(Be,it,Rt,Un){let nn=it.view.Gu(Rt);nn.ei&&(nn=yield Of(Be.localStore,it.query,!1).then(({documents:Nn})=>it.view.Gu(Nn,nn)));const Ur=Un&&Un.targetChanges.get(it.targetId),cn=it.view.applyChanges(nn,Be.isPrimaryClient,Ur);return am(Be,it.targetId,cn.zu),cn.snapshot}),function(Be,it,Rt,Un){return Ne.apply(this,arguments)})(n,W,X,pe);var Ne};const a=yield Of(n.localStore,e,!0),d=new Lv(e,a.hi),p=d.Gu(a.documents),I=Al.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==n.onlineState),S=d.applyChanges(p,n.isPrimaryClient,I);am(n,t,S.zu);const O=new Xl(e,t,d);return n.ta.set(e,O),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),S.snapshot}),nm.apply(this,arguments)}function Vv(n,e){return rm.apply(this,arguments)}function rm(){return rm=(0,be.Z)(function*(n,e){const t=Et(n),s=t.ta.get(e),a=t.ea.get(s.targetId);if(a.length>1)return t.ea.set(s.targetId,a.filter(d=>!ys(d,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ku(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),ch(t.remoteStore,s.targetId),Bu(t,s.targetId)}).catch(Tc))):(Bu(t,s.targetId),yield ku(t.localStore,s.targetId,!0))}),rm.apply(this,arguments)}function im(){return im=(0,be.Z)(function*(n,e,t){const s=np(n);try{const a=yield function(d,p){const I=Et(d),S=Lr.now(),O=p.reduce((X,pe)=>X.add(pe.key),$n());let W;return I.persistence.runTransaction("Locally write mutations","readwrite",X=>I.ai.qs(X,O).next(pe=>{W=pe;const Ne=[];for(const Be of p){const it=Il(Be,W.get(Be.key));null!=it&&Ne.push(new eu(Be.key,it,fc(it.value.mapValue),Sr.exists(!0)))}return I.$s.addMutationBatch(X,S,Ne,p)})).then(X=>(X.applyToLocalDocumentSet(W),{batchId:X.batchId,changes:W}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(d,p,I){let S=d.oa[d.currentUser.toKey()];S||(S=new Xr(_n)),S=S.insert(p,I),d.oa[d.currentUser.toKey()]=S}(s,a.batchId,t),yield Ko(s,a.changes),yield Wo(s.remoteStore)}catch(a){const d=Ql(a,"Failed to persist write");t.reject(d)}}),im.apply(this,arguments)}function Bv(n,e){return sm.apply(this,arguments)}function sm(){return sm=(0,be.Z)(function*(n,e){const t=Et(n);try{const s=yield yv(t.localStore,e);e.targetChanges.forEach((a,d)=>{const p=t.ia.get(d);p&&(tn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?p.Xu=!0:a.modifiedDocuments.size>0?tn(p.Xu):a.removedDocuments.size>0&&(tn(p.Xu),p.Xu=!1))}),yield Ko(t,s,e)}catch(s){yield Tc(s)}}),sm.apply(this,arguments)}function om(n,e,t){const s=Et(n);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.ta.forEach((d,p)=>{const I=p.view.Eu(e);I.snapshot&&a.push(I.snapshot)}),function(d,p){const I=Et(d);I.onlineState=p;let S=!1;I.queries.forEach((O,W)=>{for(const X of W.listeners)X.Eu(p)&&(S=!0)}),S&&hh(I)}(s.eventManager,e),a.length&&s.Zu.Ko(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function IE(n,e,t){return qf.apply(this,arguments)}function qf(){return qf=(0,be.Z)(function*(n,e,t){const s=Et(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.ia.get(e),d=a&&a.key;if(d){let p=new Xr(ut.comparator);p=p.insert(d,nr.newNoDocument(d,Wt.min()));const I=$n().add(d),S=new _c(Wt.min(),new Map,new _r(_n),p,I);yield Bv(s,S),s.sa=s.sa.remove(d),s.ia.delete(e),td(s)}else yield ku(s.localStore,e,!1).then(()=>Bu(s,e,t)).catch(Tc)}),qf.apply(this,arguments)}function jv(n,e){return fh.apply(this,arguments)}function fh(){return fh=(0,be.Z)(function*(n,e){const t=Et(n),s=e.batch.batchId;try{const a=yield iE(t.localStore,e);Zf(t,s,null),Fc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Ko(t,a)}catch(a){yield Tc(a)}}),fh.apply(this,arguments)}function jw(n,e,t){return ph.apply(this,arguments)}function ph(){return ph=(0,be.Z)(function*(n,e,t){const s=Et(n);try{const a=yield function(d,p){const I=Et(d);return I.persistence.runTransaction("Reject batch","readwrite-primary",S=>{let O;return I.$s.lookupMutationBatch(S,p).next(W=>(tn(null!==W),O=W.keys(),I.$s.removeMutationBatch(S,W))).next(()=>I.$s.performConsistencyCheck(S)).next(()=>I.ai.qs(S,O))})}(s.localStore,e);Zf(s,e,t),Fc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Ko(s,a)}catch(a){yield Tc(a)}}),ph.apply(this,arguments)}function $v(){return $v=(0,be.Z)(function*(n,e){const t=Et(n);go(t.remoteStore)||rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const p=Et(d);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",I=>p.$s.getHighestUnacknowledgedBatchId(I))}(t.localStore);if(-1===s)return void e.resolve();const a=t.ua.get(s)||[];a.push(e),t.ua.set(s,a)}catch(s){const a=Ql(s,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}}),$v.apply(this,arguments)}function Fc(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Zf(n,e,t){const s=Et(n);let a=s.oa[s.currentUser.toKey()];if(a){const d=a.get(e);d&&(t?d.reject(t):d.resolve(),a=a.remove(e)),s.oa[s.currentUser.toKey()]=a}}function Bu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.ea.get(e))n.ta.delete(s),t&&n.Zu.la(s,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(s=>{n.ra.containsKey(s)||Yf(n,s)})}function Yf(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(ch(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),td(n))}function am(n,e,t){for(const s of t)s instanceof tm?(n.ra.addReference(s.key,e),Qf(n,s)):s instanceof yE?(rt("SyncEngine","Document no longer in limbo: "+s.key),n.ra.removeReference(s.key,e),n.ra.containsKey(s.key)||Yf(n,s.key)):Mt()}function Qf(n,e){const t=e.key,s=t.path.canonicalString();n.sa.get(t)||n.na.has(s)||(rt("SyncEngine","New document in limbo: "+t),n.na.add(s),td(n))}function td(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new ut(Rn.fromString(e)),s=n.aa.next();n.ia.set(s,new vE(t)),n.sa=n.sa.insert(t,s),Uf(n.remoteStore,new Ru(es(Xa(t.path)),s,2,yi.A))}}function Ko(n,e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,be.Z)(function*(n,e,t){const s=Et(n),a=[],d=[],p=[];var I;s.ta.isEmpty()||(s.ta.forEach((I,S)=>{p.push(s.ha(S,e,t).then(O=>{if(O){s.isPrimaryClient&&s.sharedClientState.updateQueryState(S.targetId,O.fromCache?"not-current":"current"),a.push(O);const W=Sg.Js(S.targetId,O);d.push(W)}}))}),yield Promise.all(p),s.Zu.Ko(a),yield(I=(0,be.Z)(function*(S,O){const W=Et(S);try{yield W.persistence.runTransaction("notifyLocalViewChanges","readwrite",X=>Re.forEach(O,pe=>Re.forEach(pe.zs,Ne=>W.persistence.referenceDelegate.addReference(X,pe.targetId,Ne)).next(()=>Re.forEach(pe.Hs,Ne=>W.persistence.referenceDelegate.removeReference(X,pe.targetId,Ne)))))}catch(X){if(!Mu(X))throw X;rt("LocalStore","Failed to update sequence numbers: "+X)}for(const X of O){const pe=X.targetId;if(!X.fromCache){const Ne=W.si.get(pe),it=Ne.withLastLimboFreeSnapshotVersion(Ne.snapshotVersion);W.si=W.si.insert(pe,it)}}}),function(S,O){return I.apply(this,arguments)})(s.localStore,d))}),Hv.apply(this,arguments)}function DE(n,e){return gh.apply(this,arguments)}function gh(){return gh=(0,be.Z)(function*(n,e){const t=Et(n);if(!t.currentUser.isEqual(e)){rt("SyncEngine","User change. New user:",e.toKey());const s=yield Rf(t.localStore,e);t.currentUser=e,(a=t).ua.forEach(p=>{p.forEach(I=>{I.reject(new Ye(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.ua.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Ko(t,s.ci)}var a}),gh.apply(this,arguments)}function um(n,e){const t=Et(n),s=t.ia.get(e);if(s&&s.Xu)return $n().add(s.key);{let a=$n();const d=t.ea.get(e);if(!d)return a;for(const p of d){const I=t.ta.get(p);a=a.unionWith(I.view.qu)}return a}}function Gv(n,e){return cm.apply(this,arguments)}function cm(){return cm=(0,be.Z)(function*(n,e){const t=Et(n),s=yield Of(t.localStore,e.query,!0),a=e.view.Ju(s);return t.isPrimaryClient&&am(t,e.targetId,a.zu),a}),cm.apply(this,arguments)}function lm(n,e){return Jf.apply(this,arguments)}function Jf(){return Jf=(0,be.Z)(function*(n,e){const t=Et(n);return xc(t.localStore,e).then(s=>Ko(t,s))}),Jf.apply(this,arguments)}function zv(n,e,t,s){return mh.apply(this,arguments)}function mh(){return mh=(0,be.Z)(function*(n,e,t,s){const a=Et(n),d=yield function(p,I){const S=Et(p),O=Et(S.$s);return S.persistence.runTransaction("Lookup mutation documents","readonly",W=>O.ln(W,I).next(X=>X?S.ai.qs(W,X):Re.resolve(null)))}(a.localStore,e);var I;null!==d?("pending"===t?yield Wo(a.remoteStore):"acknowledged"===t||"rejected"===t?(Zf(a,e,s||null),Fc(a,e),I=e,Et(Et(a.localStore).$s).dn(I)):Mt(),yield Ko(a,d)):rt("SyncEngine","Cannot apply mutation batch with id: "+e)}),mh.apply(this,arguments)}function dm(){return dm=(0,be.Z)(function*(n,e){const t=Et(n);if(yh(t),np(t),!0===e&&!0!==t.ca){const s=t.sharedClientState.getAllActiveQueryTargets(),a=yield hm(t,s.toArray());t.ca=!0,yield Gf(t.remoteStore,!0);for(const d of a)Uf(t.remoteStore,d)}else if(!1===e&&!1!==t.ca){const s=[];let a=Promise.resolve();t.ea.forEach((d,p)=>{t.sharedClientState.isLocalQueryTarget(p)?s.push(p):a=a.then(()=>(Bu(t,p),ku(t.localStore,p,!0))),ch(t.remoteStore,p)}),yield a,yield hm(t,s),function(d){const p=Et(d);p.ia.forEach((I,S)=>{ch(p.remoteStore,S)}),p.ra.bi(),p.ia=new Map,p.sa=new Xr(ut.comparator)}(t),t.ca=!1,yield Gf(t.remoteStore,!1)}}),dm.apply(this,arguments)}function hm(n,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,be.Z)(function*(n,e,t){const s=Et(n),a=[],d=[];for(const p of e){let I;const S=s.ea.get(p);if(S&&0!==S.length){I=yield jl(s.localStore,es(S[0]));for(const O of S){const W=s.ta.get(O),X=yield Gv(s,W);X.snapshot&&d.push(X.snapshot)}}else{const O=yield Og(s.localStore,p);I=yield jl(s.localStore,O),yield ed(s,ep(O),p,!1)}a.push(I)}return s.Zu.Ko(d),a}),Xf.apply(this,arguments)}function ep(n){return Hs(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bE(n){const e=Et(n);return Et(Et(e.localStore).persistence).Os()}function TE(n,e,t,s){return fm.apply(this,arguments)}function fm(){return fm=(0,be.Z)(function*(n,e,t,s){const a=Et(n);if(a.ca)return void rt("SyncEngine","Ignoring unexpected query state notification.");const d=a.ea.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const p=yield xc(a.localStore,nf(d[0])),I=_c.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Ko(a,p,I);break}case"rejected":yield ku(a.localStore,e,!0),Bu(a,e,s);break;default:Mt()}}),fm.apply(this,arguments)}function CE(n,e,t){return tp.apply(this,arguments)}function tp(){return tp=(0,be.Z)(function*(n,e,t){const s=yh(n);if(s.ca){for(const a of e){if(s.ea.has(a)){rt("SyncEngine","Adding an already active target "+a);continue}const d=yield Og(s.localStore,a),p=yield jl(s.localStore,d);yield ed(s,ep(d),p.targetId,!1),Uf(s.remoteStore,p)}for(const a of t)s.ea.has(a)&&(yield ku(s.localStore,a,!1).then(()=>{ch(s.remoteStore,a),Bu(s,a)}).catch(Tc))}}),tp.apply(this,arguments)}function yh(n){const e=Et(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=um.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IE.bind(null,e),e.Zu.Ko=gE.bind(null,e.eventManager),e.Zu.la=Xg.bind(null,e.eventManager),e}function np(n){const e=Et(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jw.bind(null,e),e}class pm{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.M=Gl(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Mg(this.persistence,new rE,e.initialUser,this.M)}_a(e){return new wv(Vg.Wi,this.M)}da(e){return new Ff}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gm extends pm{constructor(e,t,s){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e),yield s.ga.initialize(s,e),yield np(s.ga.syncEngine),yield Wo(s.ga.remoteStore),yield s.persistence.Is(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}ma(e){return Mg(this.persistence,new rE,e.initialUser,this.M)}wa(e){return new eE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Bl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new Mf(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,lE(),Hg(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new Ff}}class qv extends gm{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,be.Z)(function*(){yield t().call(s,e);const a=s.ga.syncEngine;s.sharedClientState instanceof Cv&&(s.sharedClientState.syncEngine={kr:zv.bind(null,a),Mr:TE.bind(null,a),Or:CE.bind(null,a),Os:bE.bind(null,a),Nr:lm.bind(null,a)},yield s.sharedClientState.start()),yield s.persistence.Is(function(){var d=(0,be.Z)(function*(p){yield function Wv(n,e){return dm.apply(this,arguments)}(s.ga.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):p||s.gcScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}da(e){const t=lE();if(!Cv.vt(t))throw new Ye(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Bl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Cv(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class rp{initialize(e,t){var s=this;return(0,be.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>om(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=DE.bind(null,s.syncEngine),yield Gf(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pE}createDatastore(e){const t=Gl(e.databaseInfo.databaseId),s=new zo(e.databaseInfo);return new Sv(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,d=I=>om(this.syncEngine,I,0),p=$g.vt()?new $g:new cE,new hE(t,s,a,d,p);var t,s,a,d,p}createSyncEngine(e,t){return function(s,a,d,p,I,S,O){const W=new Uv(s,a,d,p,I,S);return O&&(W.ca=!0),W}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const s=Et(t);rt("RemoteStore","RemoteStore shutting down."),s.lu.add(5),yield zl(s),s.du.shutdown(),s._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function mm(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const s={value:n.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $w{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new mi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(s=>{s&&s.Cu()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,be.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const s=e.Ta.decode(t),a=Number(s);isNaN(a)&&e.Ra(`length string (${s}) is not valid number`);const d=yield e.ba(a);return new Vw(JSON.parse(d),t.length+a)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,be.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}ba(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const s=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,be.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class AE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ye(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(a=(0,be.Z)(function*(d,p){const I=Et(d),S=nh(I.M)+"/documents",O={documents:p.map(Ne=>th(I.M,Ne))},W=yield I.co("BatchGetDocuments",S,O),X=new Map;W.forEach(Ne=>{const Be=function F0(n,e){return"found"in e?function(t,s){tn(!!s.found);const a=$o(t,s.found.name),d=Pi(s.found.updateTime),p=new Ci({mapValue:{fields:s.found.fields}});return nr.newFoundDocument(a,d,p)}(n,e):"missing"in e?function(t,s){tn(!!s.missing),tn(!!s.readTime);const a=$o(t,s.missing),d=Pi(s.readTime);return nr.newNoDocument(a,d)}(n,e):Mt()}(I.M,Ne);X.set(Be.key.toString(),Be)});const pe=[];return p.forEach(Ne=>{const Be=X.get(Ne.toString());tn(!!Be),pe.push(Be)}),pe}),function(d,p){return a.apply(this,arguments)})(t.datastore,e);var a;return s.forEach(a=>t.recordVersion(a)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jd(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,a)=>{const d=ut.fromPath(a);e.mutations.push(new eg(d,e.precondition(d)))}),yield(s=(0,be.Z)(function*(a,d){const p=Et(a),I=nh(p.M)+"/documents",S={writes:d.map(O=>on(p.M,O))};yield p.ro("Commit",I,S)}),function(a,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mt();t=Wt.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new Ye(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Sr.updateTime(t):Sr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new Ye(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sr.updateTime(t)}return Sr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class SE{constructor(e,t,s,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=s,this.deferred=a,this.va=5,this.So=new Lf(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,be.Z)(function*(){const t=new AE(e.datastore),s=e.Da(t);s&&s.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(d=>{e.Ca(d)}))}).catch(a=>{e.Ca(a)})}))}Da(e){try{const t=this.updateFunction(e);return!ps(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!uf(t)}return!1}}class Zv{constructor(e,t,s,a){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=si.UNAUTHENTICATED,this.clientId=al.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,be.Z)(function*(I){rt("FirestoreClient","Received user=",I.uid),yield d.authCredentialListener(I),d.user=I});return function(I){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(rt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ye(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Ql(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function Yv(n,e){return ci.apply(this,arguments)}function ci(){return ci=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),rt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,be.Z)(function*(d){s.isEqual(d)||(yield Rf(e.localStore,d),s=d)});return function(d){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ci.apply(this,arguments)}function ym(n,e){return vm.apply(this,arguments)}function vm(){return vm=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _m(n);rt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield n.getConfiguration();yield e.initialize(t,s),n.setCredentialChangeListener(a=>Zg(e.remoteStore,a)),n.setAppCheckTokenChangeListener((a,d)=>Zg(e.remoteStore,d)),n.onlineComponents=e}),vm.apply(this,arguments)}function _m(n){return ip.apply(this,arguments)}function ip(){return ip=(0,be.Z)(function*(n){return n.offlineComponents||(rt("FirestoreClient","Using default OfflineComponentProvider"),yield Yv(n,new pm)),n.offlineComponents}),ip.apply(this,arguments)}function sp(n){return op.apply(this,arguments)}function op(){return op=(0,be.Z)(function*(n){return n.onlineComponents||(rt("FirestoreClient","Using default OnlineComponentProvider"),yield ym(n,new rp)),n.onlineComponents}),op.apply(this,arguments)}function Em(n){return _m(n).then(e=>e.persistence)}function ju(n){return _m(n).then(e=>e.localStore)}function Qv(n){return sp(n).then(e=>e.remoteStore)}function Im(n){return sp(n).then(e=>e.syncEngine)}function Lc(n){return wm.apply(this,arguments)}function wm(){return wm=(0,be.Z)(function*(n){const e=yield sp(n),t=e.eventManager;return t.onListen=_E.bind(null,e.syncEngine),t.onUnlisten=Vv.bind(null,e.syncEngine),t}),wm.apply(this,arguments)}function Dm(n,e,t={}){const s=new mi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,d,p,I,S){const O=new vh({next:X=>{d.enqueueAndForget(()=>Jg(a,W));const pe=X.docs.has(p);!pe&&X.fromCache?S.reject(new Ye(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):pe&&X.fromCache&&I&&"server"===I.source?S.reject(new Ye(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):S.resolve(X)},error:X=>S.reject(X)}),W=new em(Xa(p.path),O,{includeMetadataChanges:!0,Du:!0});return Wf(a,W)}(yield Lc(n),n.asyncQueue,e,t,s)})),s.promise}function e_(n,e,t={}){const s=new mi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(a,d,p,I,S){const O=new vh({next:X=>{d.enqueueAndForget(()=>Jg(a,W)),X.fromCache&&"server"===I.source?S.reject(new Ye(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):S.resolve(X)},error:X=>S.reject(X)}),W=new em(p,O,{includeMetadataChanges:!0,Du:!0});return Wf(a,W)}(yield Lc(n),n.asyncQueue,e,t,s)})),s.promise}const bm=new Map;function ap(n,e,t){if(!t)throw new Ye(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function t_(n,e,t,s){if(!0===e&&!0===s)throw new Ye(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function n_(n){if(!ut.isDocumentKey(n))throw new Ye(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function r_(n){if(ut.isDocumentKey(n))throw new Ye(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function up(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Mt()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ye(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=up(n);throw new Ye(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nd(n,e){if(e<=0)throw new Ye(Te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class i_{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ye(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ye(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,t_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,t,s){this._authCredentials=t,this._appCheckCredentials=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i_({}),this._settingsFrozen=!1,e instanceof pa?this._databaseId=e:(this._app=e,this._databaseId=function(a){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ye(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(a.options.projectId)}(e))}get app(){if(!this._app)throw new Ye(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ye(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i_(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Wh;switch(t.type){case"gapi":const s=t.client;return tn(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new Wp(s,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ye(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=bm.get(e);t&&(rt("ComponentProvider","Removing Datastore"),bm.delete(e),t.terminate())}(this),Promise.resolve()}}class Er{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Er(this.firestore,e,this._key)}}class ji{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ji(this.firestore,e,this._query)}}class Ws extends ji{constructor(e,t,s){super(e,t,Xa(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Er(this.firestore,null,new ut(e))}withConverter(e){return new Ws(this.firestore,e,this._path)}}function s_(n,e,...t){if(n=(0,qt.m9)(n),ap("collection","path",e),n instanceof rd){const s=Rn.fromString(e,...t);return r_(s),new Ws(n,null,s)}{if(!(n instanceof Er||n instanceof Ws))throw new Ye(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Rn.fromString(e,...t));return r_(s),new Ws(n.firestore,null,s)}}function _h(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=al.R()),ap("doc","path",e),n instanceof rd){const s=Rn.fromString(e,...t);return n_(s),new Er(n,null,new ut(s))}{if(!(n instanceof Er||n instanceof Ws))throw new Ye(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Rn.fromString(e,...t));return n_(s),new Er(n.firestore,n instanceof Ws?n.converter:null,new ut(s))}}function Tm(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof Er||n instanceof Ws)&&(e instanceof Er||e instanceof Ws)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function cp(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof ji&&e instanceof ji&&n.firestore===e.firestore&&ys(n._query,e._query)&&n.converter===e.converter}class a_{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Lf(this,"async_queue_retry"),this.Ua=()=>{const t=Hg();t&&rt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Hg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Hg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new mi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,be.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Mu(t))throw t;rt("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(s=>{throw this.Fa=s,this.$a=!1,Br("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(s)),s}).then(s=>(this.$a=!1,s))));return this.Na=t,t}enqueueAfterDelay(e,t,s){this.qa(),this.La.indexOf(e)>-1&&(t=0);const a=Yg.createAndSchedule(this,e,t,s,d=>this.Qa(d));return this.Oa.push(a),a}qa(){this.Fa&&Mt()}verifyOperationInProgress(){}ja(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function lp(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(n)}class u_{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xr extends rd{constructor(e,t,s){super(e,t,s),this.type="firestore",this._queue=new a_,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||l_(this),this._firestoreClient.terminate()}}function li(n){return n._firestoreClient||l_(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function l_(n){var e;const t=n._freezeSettings(),s=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new qp(n._databaseId,d,n._persistenceKey,(I=t).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,I.useFetchStreams));var d,I;n._firestoreClient=new Zv(n._authCredentials,n._appCheckCredentials,n._queue,s)}function d_(n,e,t){const s=new mi;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield Yv(n,t),yield ym(n,e),s.resolve()}catch(a){if(!("FirebaseError"===(d=a).name?d.code===Te.FAILED_PRECONDITION||d.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),s.reject(a)}var d})).then(()=>s.promise)}function h_(n){if(n._initialized||n._terminated)throw new Ye(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class su{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ye(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(Qr.fromBase64String(e))}catch(t){throw new Ye(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ca(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uc{constructor(e){this._methodName=e}}class dp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ye(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ye(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _n(this._lat,e._lat)||_n(this._long,e._long)}}const jE=/^__.*__$/;class f_{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wa(e,this.data,t,this.fieldTransforms)}}class Cm{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new eu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Am(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Eh{constructor(e,t,s,a,d,p){this.settings=e,this.databaseId=t,this.M=s,this.ignoreUndefinedProperties=a,void 0===d&&this.Ja(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new Eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Xa({path:s,tc:!1});return a.ec(e),a}nc(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.Xa({path:s,tc:!1});return a.Ja(),a}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return gp(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(Am(this.Ya)&&jE.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class p_{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=s||Gl(e)}uc(e,t,s,a=!1){return new Eh({Ya:e,methodName:t,oc:s,path:vi.emptyPath(),tc:!1,rc:a},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function $u(n){const e=n._freezeSettings(),t=Gl(n._databaseId);return new p_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ih(n,e,t,s,a,d={}){const p=n.uc(d.merge||d.mergeFields?2:0,e,t,a);fp("Data must be an object, but it was:",p,s);const I=GE(s,p);let S,O;if(d.merge)S=new Bi(p.fieldMask),O=p.fieldTransforms;else if(d.mergeFields){const W=[];for(const X of d.mergeFields){const pe=m_(e,X,t);if(!p.contains(pe))throw new Ye(Te.INVALID_ARGUMENT,`Field '${pe}' is specified in your field mask but missing from your input data.`);y_(W,pe)||W.push(pe)}S=new Bi(W),O=p.fieldTransforms.filter(X=>S.covers(X.field))}else S=null,O=p.fieldTransforms;return new f_(new Ci(I),S,O)}class id extends Uc{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof id}}function Sm(n,e,t){return new Eh({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class hp extends Uc{_toFieldTransform(e){return new sr(e.path,new M)}isEqual(e){return e instanceof hp}}class g_ extends Uc{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Sm(this,e,!0),s=this.ac.map(d=>ou(d,t)),a=new j(s);return new sr(e.path,a)}isEqual(e){return this===e}}class Vc extends Uc{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=Sm(this,e,!0),s=this.ac.map(d=>ou(d,t)),a=new De(s);return new sr(e.path,a)}isEqual(e){return this===e}}class $E extends Uc{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new St(e.M,of(e.M,this.cc));return new sr(e.path,t)}isEqual(e){return this===e}}function xm(n,e,t,s){const a=n.uc(1,e,t);fp("Data must be an object, but it was:",a,s);const d=[],p=Ci.empty();fa(s,(S,O)=>{const W=pp(e,S,t);O=(0,qt.m9)(O);const X=a.nc(W);if(O instanceof id)d.push(W);else{const pe=ou(O,X);null!=pe&&(d.push(W),p.set(W,pe))}});const I=new Bi(d);return new Cm(p,I,a.fieldTransforms)}function Hu(n,e,t,s,a,d){const p=n.uc(1,e,t),I=[m_(e,s,t)],S=[a];if(d.length%2!=0)throw new Ye(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let pe=0;pe<d.length;pe+=2)I.push(m_(e,d[pe])),S.push(d[pe+1]);const O=[],W=Ci.empty();for(let pe=I.length-1;pe>=0;--pe)if(!y_(O,I[pe])){const Ne=I[pe];let Be=S[pe];Be=(0,qt.m9)(Be);const it=p.nc(Ne);if(Be instanceof id)O.push(Ne);else{const Rt=ou(Be,it);null!=Rt&&(O.push(Ne),W.set(Ne,Rt))}}const X=new Bi(O);return new Cm(W,X,p.fieldTransforms)}function HE(n,e,t,s=!1){return ou(t,n.uc(s?4:3,e))}function ou(n,e){if(Mm(n=(0,qt.m9)(n)))return fp("Unsupported field value:",e,n),GE(n,e);if(n instanceof Uc)return function(t,s){if(!Am(s.Ya))throw s.ic(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ic(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,s){const a=[];let d=0;for(const p of t){let I=ou(p,s.sc(d));null==I&&(I={nullValue:"NULL_VALUE"}),a.push(I),d++}return{arrayValue:{values:a}}}(n,e)}return function(t,s){if(null===(t=(0,qt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return of(s.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Lr.fromDate(t);return{timestampValue:Ml(s.M,a)}}if(t instanceof Lr){const a=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ml(s.M,a)}}if(t instanceof dp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ca)return{bytesValue:zy(s.M,t._byteString)};if(t instanceof Er){const a=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(a))throw s.ic(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:og(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ic(`Unsupported field value: ${up(t)}`)}(n,e)}function GE(n,e){const t={};return Zh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(n,(s,a)=>{const d=ou(a,e.Za(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function Mm(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lr||n instanceof dp||n instanceof Ca||n instanceof Er||n instanceof Uc)}function fp(n,e,t){if(!Mm(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=up(t);throw e.ic("an object"===s?n+" a custom object":n+" "+s)}var s}function m_(n,e,t){if((e=(0,qt.m9)(e))instanceof su)return e._internalPath;if("string"==typeof e)return pp(n,e);throw gp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Zt=new RegExp("[~\\*/\\[\\]]");function pp(n,e,t){if(e.search(Zt)>=0)throw gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new su(...e.split("."))._internalPath}catch(s){throw gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gp(n,e,t,s,a){const d=s&&!s.isEmpty(),p=void 0!==a;let I=`Function ${e}() called with invalid data`;t&&(I+=" (via `toFirestore()`)"),I+=". ";let S="";return(d||p)&&(S+=" (found",d&&(S+=` in field ${s}`),p&&(S+=` in document ${a}`),S+=")"),new Ye(Te.INVALID_ARGUMENT,I+n+S)}function y_(n,e){return n.some(t=>t.isEqual(e))}class Gu{constructor(e,t,s,a,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new zE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class zE extends Gu{data(){return super.data()}}function Bc(n,e){return"string"==typeof e?pp(n,e):e instanceof su?e._internalPath:e._delegate._internalPath}class Aa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rr extends Gu{constructor(e,t,s,a,d,p){super(e,t,s,a,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Bc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class mp extends rr{data(e={}){return super.data(e)}}class au{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Aa(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new mp(this._firestore,this._userDataWriter,s.key,s,new Aa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ye(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(p=>({type:"added",doc:new mp(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Aa(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(p=>a||3!==p.type).map(p=>{const I=new mp(s._firestore,s._userDataWriter,p.doc.key,p.doc,new Aa(s._snapshot.mutatedKeys.has(p.doc.key),s._snapshot.fromCache),s.query.converter);let S=-1,O=-1;return 0!==p.type&&(S=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),O=d.indexOf(p.doc.key)),{type:WE(p.type),doc:I,oldIndex:S,newIndex:O}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WE(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}function v_(n,e){return n instanceof rr&&e instanceof rr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof au&&e instanceof au&&n._firestore===e._firestore&&cp(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Rm(n){if(Tu(n)&&0===n.explicitOrderBy.length)throw new Ye(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sd{}function uu(n,...e){for(const t of e)n=t._apply(n);return n}class __ extends sd{constructor(e,t,s){super(),this.hc=e,this.lc=t,this.fc=s,this.type="where"}_apply(e){const t=$u(e.firestore),s=function(a,d,p,I,S,O,W){let X;if(S.isKeyField()){if("array-contains"===O||"array-contains-any"===O)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${O}' queries on documentId().`);if("in"===O||"not-in"===O){D_(W,O);const Ne=[];for(const Be of W)Ne.push(ud(I,a,Be));X={arrayValue:{values:Ne}}}else X=ud(I,a,W)}else"in"!==O&&"not-in"!==O&&"array-contains-any"!==O||D_(W,O),X=HE(p,"where",W,"in"===O||"not-in"===O);const pe=$r.create(S,O,X);return function(Ne,Be){if(Be.S()){const Rt=vl(Ne);if(null!==Rt&&!Rt.isEqual(Be.field))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Rt.toString()}' and '${Be.field.toString()}'`);const Un=Qd(Ne);null!==Un&&b_(0,Be.field,Un)}const it=function(Rt,Un){for(const nn of Rt.filters)if(Un.indexOf(nn.op)>=0)return nn.op;return null}(Ne,function(Rt){switch(Rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Be.op));if(null!==it)throw new Ye(Te.INVALID_ARGUMENT,it===Be.op?`Invalid query. You cannot use more than one '${Be.op.toString()}' filter.`:`Invalid query. You cannot use '${Be.op.toString()}' filters with '${it.toString()}' filters.`)}(a,pe),pe}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ji(e.firestore,e.converter,function(a,d){const p=a.filters.concat([d]);return new jo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),p,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,s))}}class qE extends sd{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(s,a,d){if(null!==s.startAt)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const p=new Bo(a,d);return function(I,S){if(null===Qd(I)){const O=vl(I);null!==O&&b_(0,O,S.field)}}(s,p),p}(e._query,this.hc,this.dc);return new ji(e.firestore,e.converter,function(s,a){const d=s.explicitOrderBy.concat([a]);return new jo(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class od extends sd{constructor(e,t,s){super(),this.type=e,this._c=t,this.wc=s}_apply(e){return new ji(e.firestore,e.converter,tf(e._query,this._c,this.wc))}}class E_ extends sd{constructor(e,t,s){super(),this.type=e,this.mc=t,this.gc=s}_apply(e){const t=ad(e,this.type,this.mc,this.gc);return new ji(e.firestore,e.converter,(a=t,new jo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,a,s.endAt)));var s,a}}class Nm extends sd{constructor(e,t,s){super(),this.type=e,this.mc=t,this.gc=s}_apply(e){const t=ad(e,this.type,this.mc,this.gc);return new ji(e.firestore,e.converter,(a=t,new jo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,a)));var s,a}}function ad(n,e,t,s){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof Gu)return function(a,d,p,I,S){if(!I)throw new Ye(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${p}().`);const O=[];for(const W of Ea(a))if(W.field.isKeyField())O.push(ma(d,I.key));else{const X=I.data.field(W.field);if(Bd(X))throw new Ye(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+W.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===X){const pe=W.field.canonicalString();throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${pe}' (used as the orderBy) does not exist.`)}O.push(X)}return new _a(O,S)}(n._query,n.firestore._databaseId,e,t[0]._document,s);{const a=$u(n.firestore);return function(d,p,I,S,O,W){const X=d.explicitOrderBy;if(O.length>X.length)throw new Ye(Te.INVALID_ARGUMENT,`Too many arguments provided to ${S}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const pe=[];for(let Ne=0;Ne<O.length;Ne++){const Be=O[Ne];if(X[Ne].field.isKeyField()){if("string"!=typeof Be)throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${S}(), but got a ${typeof Be}`);if(!ai(d)&&-1!==Be.indexOf("/"))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${S}() must be a plain document ID, but '${Be}' contains a slash.`);const it=d.path.child(Rn.fromString(Be));if(!ut.isDocumentKey(it))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${S}() must result in a valid document path, but '${it}' is not because it contains an odd number of segments.`);const Rt=new ut(it);pe.push(ma(p,Rt))}else{const it=HE(I,S,Be);pe.push(it)}}return new _a(pe,W)}(n._query,n.firestore._databaseId,a,e,t,s)}}function ud(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new Ye(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ai(e)&&-1!==t.indexOf("/"))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Rn.fromString(t));if(!ut.isDocumentKey(s))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ma(n,new ut(s))}if(t instanceof Er)return ma(n,t._key);throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(t)}.`)}function D_(n,e){if(!Array.isArray(n)||0===n.length)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ye(Te.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function b_(n,e,t){if(!t.isEqual(e))throw new Ye(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Om{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mt()}}convertObject(e,t){const s={};return fa(e.fields,(a,d)=>{s[a]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new dp(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=jd(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lc(e));default:return null}}convertTimestamp(e){const t=Lo(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Rn.fromString(e);tn(U0(s));const a=new pa(s.get(1),s.get(3)),d=new ut(s.popFirst(5));return a.isEqual(t)||Br(`Document ${d} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function wh(n,e,t){let s;return s=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,s}class T_ extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}class Pm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=$u(e)}set(e,t,s){this._verifyNotCommitted();const a=zu(e,this._firestore),d=wh(a.converter,t,s),p=Ih(this._dataReader,"WriteBatch.set",a._key,d,null!==a.converter,s);return this._mutations.push(p.toMutation(a._key,Sr.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const d=zu(e,this._firestore);let p;return p="string"==typeof(t=(0,qt.m9)(t))||t instanceof su?Hu(this._dataReader,"WriteBatch.update",d._key,t,s,a):xm(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(p.toMutation(d._key,Sr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=zu(e,this._firestore);return this._mutations=this._mutations.concat(new Jd(t._key,Sr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ye(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function zu(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new Ye(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jc extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Er(this.firestore,null,t)}}function km(n,e,t){n=Tn(n,Er);const s=Tn(n.firestore,xr),a=wh(n.converter,e,t);return cd(s,[Ih($u(s),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,Sr.none())])}function Dh(n,e,t,...s){n=Tn(n,Er);const a=Tn(n.firestore,xr),d=$u(a);let p;return p="string"==typeof(e=(0,qt.m9)(e))||e instanceof su?Hu(d,"updateDoc",n._key,e,t,s):xm(d,"updateDoc",n._key,e),cd(a,[p.toMutation(n._key,Sr.exists(!0))])}function Fm(n,...e){var t,s,a;n=(0,qt.m9)(n);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||lp(e[p])||(d=e[p],p++);const I={includeMetadataChanges:d.includeMetadataChanges};if(lp(e[p])){const X=e[p];e[p]=null===(t=X.next)||void 0===t?void 0:t.bind(X),e[p+1]=null===(s=X.error)||void 0===s?void 0:s.bind(X),e[p+2]=null===(a=X.complete)||void 0===a?void 0:a.bind(X)}let S,O,W;if(n instanceof Er)O=Tn(n.firestore,xr),W=Xa(n._key.path),S={next:X=>{e[p]&&e[p](Lm(O,n,X))},error:e[p+1],complete:e[p+2]};else{const X=Tn(n,ji);O=Tn(X.firestore,xr),W=X._query;const pe=new jc(O);S={next:Ne=>{e[p]&&e[p](new au(O,pe,X,Ne))},error:e[p+1],complete:e[p+2]},Rm(n._query)}return function(X,pe,Ne,Be){const it=new vh(Be),Rt=new em(pe,it,Ne);return X.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Wf(yield Lc(X),Rt)})),()=>{it.pa(),X.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return Jg(yield Lc(X),Rt)}))}}(li(O),W,I,S)}function cd(n,e){return function(t,s){const a=new mi;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function EE(n,e,t){return im.apply(this,arguments)}(yield Im(t),s,a)})),a.promise}(li(n),e)}function Lm(n,e,t){const s=t.docs.get(e._key),a=new jc(n);return new rr(n,a,e._key,s,new Aa(t.hasPendingWrites,t.fromCache),e.converter)}class nI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=$u(e)}get(e){const t=zu(e,this._firestore),s=new T_(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return Mt();const d=a[0];if(d.isFoundDocument())return new Gu(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new Gu(this._firestore,s,t._key,null,t.converter);throw Mt()})}set(e,t,s){const a=zu(e,this._firestore),d=wh(a.converter,t,s),p=Ih(this._dataReader,"Transaction.set",a._key,d,null!==a.converter,s);return this._transaction.set(a._key,p),this}update(e,t,s,...a){const d=zu(e,this._firestore);let p;return p="string"==typeof(t=(0,qt.m9)(t))||t instanceof su?Hu(this._dataReader,"Transaction.update",d._key,t,s,a):xm(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,p),this}delete(e){const t=zu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=zu(e,this._firestore),s=new jc(this._firestore);return super.get(e).then(a=>new rr(this._firestore,s,t._key,a._document,new Aa(!1,!1),t.converter))}}function vp(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ye("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function M_(){if("undefined"==typeof Uint8Array)throw new Ye("unimplemented","Uint8Arrays are not available in this environment.")}function _p(){if(!function cc(){return"undefined"!=typeof atob}())throw new Ye("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Wa=On.SDK_VERSION,(0,On._registerComponent)(new Vt.wA("firestore",(t,{options:s})=>{const a=t.getProvider("app").getImmediate(),d=new xr(a,new Py(t.getProvider("auth-internal")),new ol(t.getProvider("app-check-internal")));return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC")),(0,On.registerVersion)(ac,"3.4.7",n),(0,On.registerVersion)(ac,"3.4.7","esm2017")}();class Th{constructor(e){this._delegate=e}static fromBase64String(e){return _p(),new Th(Ca.fromBase64String(e))}static fromUint8Array(e){return M_(),new Th(Ca.fromUint8Array(e))}toBase64(){return _p(),this._delegate.toBase64()}toUint8Array(){return M_(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ep(n){return function R_(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(n,["next","error","complete"])}class cI{enableIndexedDbPersistence(e,t){return function OE(n,e){h_(n=Tn(n,xr));const t=li(n),s=n._freezeSettings(),a=new rp;return d_(t,a,new gm(a,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function PE(n){h_(n=Tn(n,xr));const e=li(n),t=n._freezeSettings(),s=new rp;return d_(e,s,new qv(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function kE(n){if(n._initialized&&!n._terminated)throw new Ye(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(s){if(!Ho.vt())return Promise.resolve();const a=s+"main";yield Ho.delete(a)}),function(s){return t.apply(this,arguments)})(Bl(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class N_{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof pa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&wu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function ME(n,e,t,s={}){var a;const d=(n=Tn(n,rd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&wu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let p,I;if("string"==typeof s.mockUserToken)p=s.mockUserToken,I=si.MOCK_USER;else{p=(0,qt.Sg)(s.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new Ye(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new si(S)}n._authCredentials=new sl(new zh(p,I))}}(this._delegate,e,t,s)}enableNetwork(){return function LE(n){return function Jv(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield Em(n),t=yield Qv(n);return e.setNetworkEnabled(!0),function(s){const a=Et(s);return a.lu.delete(0),Mc(a)}(t)}))}(li(n=Tn(n,xr)))}(this._delegate)}disableNetwork(){return function UE(n){return function Hw(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield Em(n),t=yield Qv(n);return e.setNetworkEnabled(!1),(s=(0,be.Z)(function*(a){const d=Et(a);d.lu.add(0),yield zl(d),d._u.set("Offline")}),function(a){return s.apply(this,arguments)})(t);var s}))}(li(n=Tn(n,xr)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,t_("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function FE(n){return function(e){const t=new mi;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function wE(n,e){return $v.apply(this,arguments)}(yield Im(e),t)})),t.promise}(li(n=Tn(n,xr)))}(this._delegate)}onSnapshotsInSync(e){return function bh(n,e){return function xE(n,e){const t=new vh(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Lc(n),a=t,Et(s).Tu.add(a),void a.next();var s,a})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return s=yield Lc(n),a=t,void Et(s).Tu.delete(a);var s,a}))}}(li(n=Tn(n,xr)),lp(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ye("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new dd(this,s_(this._delegate,e))}catch(t){throw Es(t,"collection()","Firestore.collection()")}}doc(e){try{return new mo(this,_h(this._delegate,e))}catch(t){throw Es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Is(this,function o_(n,e){if(n=Tn(n,rd),ap("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ye(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ji(n,null,(t=e,new jo(Rn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function rI(n,e){return function Ta(n,e){const t=new mi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const s=yield(a=n,sp(a).then(d=>d.datastore));var a;new SE(n.asyncQueue,s,e,t).run()})),t.promise}(li(n=Tn(n,xr)),t=>e(new nI(n,t)))}(this._delegate,t=>e(new O_(this,t)))}batch(){return li(this._delegate),new Vm(new Pm(this._delegate,e=>cd(this._delegate,e)))}loadBundle(e){return function VE(n,e){const t=li(n=Tn(n,xr)),s=new u_;return function qo(n,e,t,s){const a=function(d,p){let I;return I="string"==typeof d?(new TextEncoder).encode(d):d,S=function(S,O){if(S instanceof Uint8Array)return mm(S,O);if(S instanceof ArrayBuffer)return mm(new Uint8Array(S),O);if(S instanceof ReadableStream)return S.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(I),new $w(S,p);var S}(t,Gl(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function Kv(n,e,t){const s=Et(n);var a;(a=(0,be.Z)(function*(d,p,I){try{const S=yield p.getMetadata();if(yield function(pe,Ne){const Be=Et(pe),it=Pi(Ne.createTime);return Be.persistence.runTransaction("hasNewerBundle","readonly",Rt=>Be.ds.getBundleMetadata(Rt,Ne.id)).then(Rt=>!!Rt&&Rt.createTime.compareTo(it)>=0)}(d.localStore,S))return yield p.close(),I._completeWith({taskState:"Success",documentsLoaded:(pe=S).totalDocuments,bytesLoaded:pe.totalBytes,totalDocuments:pe.totalDocuments,totalBytes:pe.totalBytes}),Promise.resolve(new Set);I._updateProgress(Fv(S));const O=new Bw(S,d.localStore,p.M);let W=yield p.fa();for(;W;){const pe=yield O.Nu(W);pe&&I._updateProgress(pe),W=yield p.fa()}const X=yield O.complete();return yield Ko(d,X.Ou,void 0),yield function(pe,Ne){const Be=Et(pe);return Be.persistence.runTransaction("Save bundle","readwrite",it=>Be.ds.saveBundleMetadata(it,Ne))}(d.localStore,S),I._completeWith(X.progress),Promise.resolve(X.Mu)}catch(S){return wu("SyncEngine",`Loading bundle failed with ${S}`),I._failWith(S),Promise.resolve(new Set)}var pe}),function(d,p,I){return a.apply(this,arguments)})(s,e,t).then(a=>{s.sharedClientState.notifyBundleLoaded(a)})}(yield Im(n),a,s)}))}(t,n._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function BE(n,e){return function Zo(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,s){const a=Et(t);return a.persistence.runTransaction("Get named query","readonly",d=>a.ds.getNamedQuery(d,s))}(yield ju(n),e)}))}(li(n=Tn(n,xr)),e).then(t=>t?new ji(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Is(this,t):null)}}class Ip extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Th(new Ca(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return mo.forKey(t,this.firestore,null)}}class O_{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ip(e)}get(e){const t=Hc(e);return this._delegate.get(t).then(s=>new Ch(this._firestore,new rr(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const a=Hc(e);return s?(vp("Transaction.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Hc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Hc(e);return this._delegate.delete(t),this}}class Vm{constructor(e){this._delegate=e}set(e,t,s){const a=Hc(e);return s?(vp("WriteBatch.set",s),this._delegate.set(a,t,s)):this._delegate.set(a,t),this}update(e,t,s,...a){const d=Hc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...a),this}delete(e){const t=Hc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class $c{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new mp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ah(this._firestore,s),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=$c.INSTANCES;let a=s.get(e);a||(a=new WeakMap,s.set(e,a));let d=a.get(t);return d||(d=new $c(e,new Ip(e),t),a.set(t,d)),d}}$c.INSTANCES=new WeakMap;class mo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ip(e)}static forPath(e,t,s){if(e.length%2!=0)throw new Ye("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new mo(t,new Er(t._delegate,s,new ut(e)))}static forKey(e,t,s){return new mo(t,new Er(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new dd(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new dd(this.firestore,s_(this._delegate,e))}catch(t){throw Es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof Er&&Tm(this._delegate,e)}set(e,t){t=vp("DocumentReference.set",t);try{return t?km(this._delegate,e,t):km(this._delegate,e)}catch(s){throw Es(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?Dh(this._delegate,e):Dh(this._delegate,e,t,...s)}catch(a){throw Es(a,"updateDoc()","DocumentReference.update()")}}delete(){return function eI(n){return cd(Tn(n.firestore,xr),[new Jd(n._key,Sr.none())])}(this._delegate)}onSnapshot(...e){const t=P_(e),s=k_(e,a=>new Ch(this.firestore,new rr(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return Fm(this._delegate,t,s)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function XE(n){n=Tn(n,Er);const e=Tn(n.firestore,xr),t=li(e),s=new jc(e);return function Xv(n,e){const t=new mi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,d,p){try{const I=yield function(S,O){const W=Et(S);return W.persistence.runTransaction("read document","readonly",X=>W.ai.Bs(X,O))}(a,d);I.isFoundDocument()?p.resolve(I):I.isNoDocument()?p.resolve(null):p.reject(new Ye(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(I){const S=Ql(I,`Failed to get document '${d} from cache`);p.reject(S)}}),function(a,d,p){return s.apply(this,arguments)})(yield ju(n),e,t);var s})),t.promise}(t,n._key).then(a=>new rr(e,s,n._key,a,new Aa(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ww(n){n=Tn(n,Er);const e=Tn(n.firestore,xr);return Dm(li(e),n._key,{source:"server"}).then(t=>Lm(e,n,t))}(this._delegate):function C_(n){n=Tn(n,Er);const e=Tn(n.firestore,xr);return Dm(li(e),n._key).then(t=>Lm(e,n,t))}(this._delegate),t.then(s=>new Ch(this.firestore,new rr(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new mo(this.firestore,this._delegate.withConverter(e?$c.getInstance(this.firestore,e):null))}}function Es(n,e,t){return n.message=n.message.replace(e,t),n}function P_(n){for(const e of n)if("object"==typeof e&&!Ep(e))return e;return{}}function k_(n,e){var t,s;let a;return a=Ep(n[0])?n[0]:Ep(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{a.next&&a.next(e(d))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(s=a.complete)||void 0===s?void 0:s.bind(a)}}class Ch{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new mo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return v_(this._delegate,e._delegate)}}class Ah extends Ch{data(e){const t=this._delegate.data(e);return function Gp(n,e){n||Mt()}(void 0!==t),t}}class Is{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ip(e)}where(e,t,s){try{return new Is(this.firestore,uu(this._delegate,function KE(n,e,t){const s=e,a=Bc("where",n);return new __(a,s,t)}(e,t,s)))}catch(a){throw Es(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Is(this.firestore,uu(this._delegate,function ZE(n,e="asc"){const t=e,s=Bc("orderBy",n);return new qE(s,t)}(e,t)))}catch(s){throw Es(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Is(this.firestore,uu(this._delegate,function YE(n){return nd("limit",n),new od("limit",n,"F")}(e)))}catch(t){throw Es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Is(this.firestore,uu(this._delegate,function QE(n){return nd("limitToLast",n),new od("limitToLast",n,"L")}(e)))}catch(t){throw Es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Is(this.firestore,uu(this._delegate,function yp(...n){return new E_("startAt",n,!0)}(...e)))}catch(t){throw Es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Is(this.firestore,uu(this._delegate,function I_(...n){return new E_("startAfter",n,!1)}(...e)))}catch(t){throw Es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Is(this.firestore,uu(this._delegate,function w_(...n){return new Nm("endBefore",n,!1)}(...e)))}catch(t){throw Es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Is(this.firestore,uu(this._delegate,function JE(...n){return new Nm("endAt",n,!0)}(...e)))}catch(t){throw Es(t,"endAt()","Query.endAt()")}}isEqual(e){return cp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function qw(n){n=Tn(n,ji);const e=Tn(n.firestore,xr),t=li(e),s=new jc(e);return function ba(n,e){const t=new mi;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(s=(0,be.Z)(function*(a,d,p){try{const I=yield Of(a,d,!0),S=new Lv(d,I.hi),O=S.Gu(I.documents),W=S.applyChanges(O,!1);p.resolve(W.snapshot)}catch(I){const S=Ql(I,`Failed to execute query '${d} against cache`);p.reject(S)}}),function(a,d,p){return s.apply(this,arguments)})(yield ju(n),e,t);var s})),t.promise}(t,n._query).then(a=>new au(e,s,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function Zw(n){n=Tn(n,ji);const e=Tn(n.firestore,xr),t=li(e),s=new jc(e);return e_(t,n._query,{source:"server"}).then(a=>new au(e,s,n,a))}(this._delegate):function Kw(n){n=Tn(n,ji);const e=Tn(n.firestore,xr),t=li(e),s=new jc(e);return Rm(n._query),e_(t,n._query).then(a=>new au(e,s,n,a))}(this._delegate),t.then(s=>new wp(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=P_(e),s=k_(e,a=>new wp(this.firestore,new au(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return Fm(this._delegate,t,s)}withConverter(e){return new Is(this.firestore,this._delegate.withConverter(e?$c.getInstance(this.firestore,e):null))}}class F_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ah(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Is(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ah(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new F_(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new Ah(this._firestore,s))})}isEqual(e){return v_(this._delegate,e._delegate)}}class dd extends Is{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new mo(this.firestore,e):null}doc(e){try{return new mo(this.firestore,void 0===e?_h(this._delegate):_h(this._delegate,e))}catch(t){throw Es(t,"doc()","CollectionReference.doc()")}}add(e){return function tI(n,e){const t=Tn(n.firestore,xr),s=_h(n),a=wh(n.converter,e);return cd(t,[Ih($u(n.firestore),"addDoc",s._key,a,null!==n.converter,{}).toMutation(s._key,Sr.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new mo(this.firestore,t))}isEqual(e){return Tm(this._delegate,e._delegate)}withConverter(e){return new dd(this.firestore,this._delegate.withConverter(e?$c.getInstance(this.firestore,e):null))}}function Hc(n){return Tn(n,Er)}class Dp{constructor(...e){this._delegate=new su(...e)}static documentId(){return new Dp(vi.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof su&&this._delegate._internalPath.isEqual(e._internalPath)}}class Gc{constructor(e){this._delegate=e}static serverTimestamp(){const e=function A_(){return new hp("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Gc(e)}static delete(){const e=function iI(){return new id("deleteField")}();return e._methodName="FieldValue.delete",new Gc(e)}static arrayUnion(...e){const t=function sI(...n){return new g_("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Gc(t)}static arrayRemove(...e){const t=function oI(...n){return new Vc("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Gc(t)}static increment(e){const t=function ld(n){return new $E("increment",n)}(e);return t._methodName="FieldValue.increment",new Gc(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const lI={Firestore:N_,GeoPoint:dp,Timestamp:Lr,Blob:Th,Transaction:O_,WriteBatch:Vm,DocumentReference:mo,DocumentSnapshot:Ch,Query:Is,QueryDocumentSnapshot:Ah,QuerySnapshot:wp,CollectionReference:dd,FieldPath:Dp,FieldValue:Gc,setLogLevel:function Um(n){!function Ud(n){fs.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Bm(n){(function dI(n,e){n.INTERNAL.registerComponent(new Vt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("firestore").getImmediate();return e(s,a)},"PUBLIC").setServiceProps(Object.assign({},lI)))})(n,(e,t)=>new N_(e,t,new cI)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(Gt.Z);var Sh=P(7579),L_=P(6451),zc=P(5363),yo=P(3900),hI=P(6063);class jm extends Sh.x{constructor(e=1/0,t=1/0,s=hI.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:p}=this;t||(s.push(e),!a&&s.push(d.now()+p)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let p=0;p<d.length&&!e.closed;p+=s?1:2)e.next(d[p]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*e;if(e<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const p=t.now();let I=0;for(let S=1;S<s.length&&s[S]<=p;S+=2)I=S;I&&s.splice(0,I+1)}}}var fI=P(3099);function $m(n,e,t){let s,a=!1;return n&&"object"==typeof n?({bufferSize:s=1/0,windowTime:e=1/0,refCount:a=!1,scheduler:t}=n):s=null!=n?n:1/0,(0,fI.B)({connector:()=>new jm(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var pI=P(590),U_=P(576);function V_(n,e){return(0,U_.m)(e)?(0,yo.w)(()=>n,e):(0,yo.w)(()=>n)}var bp=P(9468);P(5867);const $_=new Map,H_={activated:!1,tokenObservers:[]},G_={initialized:!1,enabled:!1};function ki(n){return $_.get(n)||H_}function Yo(n,e){$_.set(n,e)}function fd(){return G_}class pd{constructor(e,t,s,a,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new qt.BH,yield function rD(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new qt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wm(n){if(!ki(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function Sp(n,e){return Km.apply(this,arguments)}function Km(){return Km=(0,be.Z)(function*({url:n,body:e},t){const s={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});if(a){const X=yield a.getHeartbeatsHeader();X&&(s["X-Firebase-Client"]=X)}const d={method:"POST",body:JSON.stringify(e),headers:s};let p,I;try{p=yield fetch(n,d)}catch(X){throw ws.create("fetch-network-error",{originalErrorMessage:X.message})}if(200!==p.status)throw ws.create("fetch-status-error",{httpStatus:p.status});try{I=yield p.json()}catch(X){throw ws.create("fetch-parse-error",{originalErrorMessage:X.message})}const S=I.ttl.match(/^([\d.]+)(s)$/);if(!S||!S[2]||isNaN(Number(S[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${I.ttl}`});const O=1e3*Number(S[1]),W=Date.now();return{token:I.attestationToken,expireTimeMillis:W+O,issuedAtTimeMillis:W}}),Km.apply(this,arguments)}function DI(n,e){const{projectId:t,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const Mh="firebase-app-check-store";let xp=null;function md(){return xp||(xp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=s=>{n(s.target.result)},t.onerror=s=>{var a;e(ws.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Mh,{keyPath:"compositeKey"})}}catch(t){e(ws.create("storage-open",{originalErrorMessage:t.message}))}}),xp)}function Zm(){return Zm=(0,be.Z)(function*(n,e){const s=(yield md()).transaction(Mh,"readwrite"),d=s.objectStore(Mh).put({compositeKey:n,value:e});return new Promise((p,I)=>{d.onsuccess=S=>{p()},s.onerror=S=>{var O;I(ws.create("storage-set",{originalErrorMessage:null===(O=S.target.error)||void 0===O?void 0:O.message}))}})}),Zm.apply(this,arguments)}const Rh=new ti.Yd("@firebase/app-check");function yd(n,e){return(0,qt.hl)()?function Z_(n,e){return function qm(n,e){return Zm.apply(this,arguments)}(function X_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Rh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Qo(){return fd().enabled}function e0(){return Oh.apply(this,arguments)}function Oh(){return Oh=(0,be.Z)(function*(){const n=fd();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Oh.apply(this,arguments)}const SI={error:"UNKNOWN_ERROR"};function xI(n){return qt.US.encodeString(JSON.stringify(n),!1)}function Mp(n){return vd.apply(this,arguments)}function vd(){return vd=(0,be.Z)(function*(n,e=!1){const t=n.app;Wm(t);const s=ki(t);let d,a=s.token;if(!a){const S=yield s.cachedTokenPromise;S&&Ed(S)&&(a=S)}if(!e&&a&&Ed(a))return{token:a.token};let I,p=!1;if(Qo()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Sp(DI(t,yield e0()),n.heartbeatServiceProvider).then(O=>(s.exchangeTokenPromise=void 0,O)),p=!0);const S=yield s.exchangeTokenPromise;return yield yd(t,S),Yo(t,Object.assign(Object.assign({},s),{token:S})),{token:S.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(S=>(s.exchangeTokenPromise=void 0,S)),p=!0),a=yield s.exchangeTokenPromise}catch(S){"appCheck/throttled"===S.code?Rh.warn(S.message):Rh.error(S),d=S}return a?(I={token:a.token},Yo(t,Object.assign(Object.assign({},s),{token:a})),yield yd(t,a)):I=r0(d),p&&Xm(t,I),I}),vd.apply(this,arguments)}function Jm(n,e){const t=ki(n),s=t.tokenObservers.filter(a=>a.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Yo(n,Object.assign(Object.assign({},t),{tokenObservers:s}))}function t0(n){const{app:e}=n,t=ki(e);let s=t.tokenRefresher;s||(s=function n0(n){const{app:e}=n;return new pd((0,be.Z)(function*(){let s;if(s=ki(e).token?yield Mp(n,!0):yield Mp(n),s.error)throw s.error}),()=>!0,()=>{const t=ki(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),Yo(e,Object.assign(Object.assign({},t),{tokenRefresher:s}))),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Xm(n,e){const t=ki(n).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch(a){}}function Ed(n){return n.expireTimeMillis-Date.now()>0}function r0(n){return{token:xI(SI),error:n}}class MI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ki(this.app);for(const t of e)Jm(this.app,t.next);return Promise.resolve()}}const kI="app-check-internal";!function kh(){(0,On._registerComponent)(new Vt.wA("app-check",n=>function RI(n,e){return new MI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kI).initialize()})),(0,On._registerComponent)(new Vt.wA(kI,n=>function sD(n){return{getToken:e=>Mp(n,e),addTokenListener:e=>function _d(n,e,t,s){const{app:a}=n,d=ki(a),p={next:t,error:s,type:e};if(Yo(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,p]})),d.token&&Ed(d.token)){const I=d.token;Promise.resolve().then(()=>{t({token:I.token}),t0(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>t0(n))}(n,"INTERNAL",e),removeTokenListener:e=>Jm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,On.registerVersion)("@firebase/app-check","0.5.5")}();class cy{constructor(){return(0,_t.vb)("app-check")}}"undefined"!=typeof window&&window;var Id=P(127);const BI=new R.OlP("angularfire2.auth.use-emulator"),g0=new R.OlP("angularfire2.auth.settings"),m0=new R.OlP("angularfire2.auth.tenant-id"),py=new R.OlP("angularfire2.auth.langugage-code"),gy=new R.OlP("angularfire2.auth.use-device-language"),y0=new R.OlP("angularfire.auth.persistence"),my=(n,e,t,s,a,d,p,I)=>(0,xt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const S=e.runOutsideAngular(()=>n.auth());if(t&&S.useEmulator(...t),s&&(S.tenantId=s),S.languageCode=a,d&&S.useDeviceLanguage(),p)for(const[O,W]of Object.entries(p))S.settings[O]=W;return I&&S.setPersistence(I),S},[t,s,a,d,p,I]);let Pp=(()=>{class n{constructor(t,s,a,d,p,I,S,O,W,X,pe,Ne){const Be=new Sh.x,it=(0,jn.of)(void 0).pipe((0,zc.Q)(p.outsideAngular),(0,yo.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,4087)))),(0,mn.U)(()=>(0,xt.on)(t,d,s)),(0,mn.U)(Rt=>my(Rt,d,I,O,W,X,S,pe)),$m({bufferSize:1,refCount:!1}));if((0,w.PM)(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,jn.of)(null);else{it.pipe((0,pI.P)()).subscribe();const Un=it.pipe((0,yo.w)(cn=>cn.getRedirectResult().then(Nn=>Nn,()=>null)),_t.iC,$m({bufferSize:1,refCount:!1})),nn=it.pipe((0,yo.w)(cn=>new fn.y(Nn=>({unsubscribe:d.runOutsideAngular(()=>cn.onAuthStateChanged(En=>Nn.next(En),En=>Nn.error(En),()=>Nn.complete()))})))),Ur=it.pipe((0,yo.w)(cn=>new fn.y(Nn=>({unsubscribe:d.runOutsideAngular(()=>cn.onIdTokenChanged(En=>Nn.next(En),En=>Nn.error(En),()=>Nn.complete()))}))));this.authState=Un.pipe(V_(nn),(0,bp.R)(p.outsideAngular),(0,zc.Q)(p.insideAngular)),this.user=Un.pipe(V_(Ur),(0,bp.R)(p.outsideAngular),(0,zc.Q)(p.insideAngular)),this.idToken=this.user.pipe((0,yo.w)(cn=>cn?(0,Dn.D)(cn.getIdToken()):(0,jn.of)(null))),this.idTokenResult=this.user.pipe((0,yo.w)(cn=>cn?(0,Dn.D)(cn.getIdTokenResult()):(0,jn.of)(null))),this.credential=(0,L_.T)(Un,Be,this.authState.pipe((0,dn.h)(cn=>!cn))).pipe((0,mn.U)(cn=>(null==cn?void 0:cn.user)?cn:null),(0,bp.R)(p.outsideAngular),(0,zc.Q)(p.insideAngular))}return(0,xt.pX)(this,it,d,{spy:{apply:(Rt,Un,nn)=>{(Rt.startsWith("signIn")||Rt.startsWith("createUser"))&&nn.then(Ur=>Be.next(Ur))}}})}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(xt.Dh),R.LFG(xt.xv,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(_t.HU),R.LFG(BI,8),R.LFG(g0,8),R.LFG(m0,8),R.LFG(py,8),R.LFG(gy,8),R.LFG(y0,8),R.LFG(cy,8))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function yy(n,e){return function jI(n,e=Ht.z){return new fn.y(t=>{let s;return null!=e?e.schedule(()=>{s=n.onSnapshot({includeMetadataChanges:!0},t)}):s=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=s&&s()}})}(n,e)}function kp(n,e){return yy(n,e).pipe((0,mn.U)(t=>({payload:t,type:"query"})))}function Lh(n,e){return kp(n,e).pipe((0,Rr.O)(void 0),Ai(),(0,mn.U)(([t,s])=>{const a=s.payload.docChanges(),d=a.map(p=>({type:p.type,payload:p}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((p,I)=>{const S=a.find(W=>W.doc.ref.isEqual(p.ref)),O=null==t?void 0:t.payload.docs.find(W=>W.ref.isEqual(p.ref));S&&JSON.stringify(S.doc.metadata)===JSON.stringify(p.metadata)||!S&&O&&JSON.stringify(O.metadata)===JSON.stringify(p.metadata)||d.push({type:"modified",payload:{oldIndex:I,newIndex:I,type:"modified",doc:p}})}),d}))}function vy(n,e,t){return Lh(n,t).pipe((0,K.R)((s,a)=>function v0(n,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(n=function HI(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _y(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _y(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _y(n,e.oldIndex,1)}return n}(n,s))}),n}(s,a.map(d=>d.payload),e),[]),Ue(),(0,mn.U)(s=>s.map(a=>({type:a.type,payload:a}))))}function _y(n,e,t,...s){const a=n.slice();return a.splice(e,t,...s),a}function GI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Ey{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=Lh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,mn.U)(s=>s.filter(a=>e.indexOf(a.type)>-1)))),t.pipe((0,Rr.O)(void 0),Ai(),(0,dn.h)(([s,a])=>a.length>0||!s),(0,mn.U)(([s,a])=>a),_t.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,K.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=GI(e);return vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(_t.iC)}valueChanges(e={}){return kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),_t.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(_t.iC)}add(e){return this.ref.add(e)}doc(e){return new zI(this.ref.doc(e),this.afs)}}class zI{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:a,query:d}=qI(s,t);return new Ey(a,d,this.afs)}snapshotChanges(){return function $I(n,e){return yy(n,e).pipe((0,Rr.O)(void 0),Ai(),(0,mn.U)(([t,s])=>s.exists?(null==t?void 0:t.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_t.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,mn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Dn.D)(this.ref.get(e)).pipe(_t.iC)}}class fD{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Lh(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,dn.h)(t=>t.length>0),_t.iC):Lh(this.query,this.afs.schedulers.outsideAngular).pipe(_t.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,K.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=GI(e);return vy(this.query,t,this.afs.schedulers.outsideAngular).pipe(_t.iC)}valueChanges(e={}){return kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,mn.U)(s=>s.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),_t.iC)}get(e){return(0,Dn.D)(this.query.get(e)).pipe(_t.iC)}}const WI=new R.OlP("angularfire2.enableFirestorePersistence"),KI=new R.OlP("angularfire2.firestore.persistenceSettings"),pD=new R.OlP("angularfire2.firestore.settings"),gD=new R.OlP("angularfire2.firestore.use-emulator");function qI(n,e=(t=>t)){return{query:e(n),ref:n}}let ZI=(()=>{class n{constructor(t,s,a,d,p,I,S,O,W,X,pe,Ne,Be,it,Rt,Un,nn){this.schedulers=S;const Ur=(0,xt.on)(t,I,s),cn=W;X&&my(Ur,I,pe,Be,it,Rt,Ne,Un),[this.firestore,this.persistenceEnabled$]=(0,xt.cc)(`${Ur.name}.firestore`,"AngularFirestore",Ur.name,()=>{const Nn=I.runOutsideAngular(()=>Ur.firestore());if(d&&Nn.settings(d),cn&&Nn.useEmulator(...cn),a&&!(0,w.PM)(p)){const En=()=>{try{return(0,Dn.D)(Nn.enablePersistence(O||void 0).then(()=>!0,()=>!1))}catch(Sa){return"undefined"!=typeof console&&console.warn(Sa),(0,jn.of)(!1)}};return[Nn,I.runOutsideAngular(En)]}return[Nn,(0,jn.of)(!1)]},[d,cn,a])}collection(t,s){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:p}=qI(a,s),I=this.schedulers.ngZone.run(()=>d);return new Ey(I,p,this)}collectionGroup(t,s){const a=s||(p=>p),d=this.firestore.collectionGroup(t);return new fD(a(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>s);return new zI(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(xt.Dh),R.LFG(xt.xv,8),R.LFG(WI,8),R.LFG(pD,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(_t.HU),R.LFG(KI,8),R.LFG(gD,8),R.LFG(Pp,8),R.LFG(BI,8),R.LFG(g0,8),R.LFG(m0,8),R.LFG(py,8),R.LFG(gy,8),R.LFG(y0,8),R.LFG(cy,8))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fp=(()=>{class n{constructor(){Id.Z.registerVersion("angularfire",_t.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:WI,useValue:!0},{provide:KI,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({providers:[ZI]}),n})(),mD=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=R.Xpm({type:n,selectors:[["app-header"]],decls:17,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-white","px-0","py-3","shadow-sm","mb-3"],[1,"container-xl","max-w-screen-xl"],["href","#",1,"navbar-brand"],["src","../../../assets/logo.png","alt","...",1,"h-10"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","mt-4","mt-lg-0","ml-auto"],["data-toggle","hover",1,"nav-item","dropdown","dropdown-animate"],["href","#","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],[1,"nav-item"],["href","docs/index.html",1,"nav-link"],[1,"d-lg-none","text-center"],["href","https://webpixels.io/themes/quick-website-ui-kit",1,"btn","btn-block","btn-sm","btn-warning"]],template:function(t,s){1&t&&(R.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),R._UZ(3,"img",3),R.qZA(),R.TgZ(4,"button",4),R._UZ(5,"span",5),R.qZA(),R.TgZ(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),R._uU(10,"Tools"),R.qZA()(),R.TgZ(11,"li",10)(12,"a",11),R._uU(13,"About"),R.qZA()()(),R.TgZ(14,"div",12)(15,"a",13),R._uU(16,"See more details"),R.qZA()()()()())},styles:[""]}),n})(),_0=(()=>{class n{constructor(t){this.title="1tools",this.items=t.collection("hr-gross-net-salary").valueChanges(),this.items.subscribe(s=>{console.log(s)})}}return n.\u0275fac=function(t){return new(t||n)(R.Y36(ZI))},n.\u0275cmp=R.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,s){1&t&&(R._UZ(0,"app-header"),R.TgZ(1,"main"),R._UZ(2,"router-outlet"),R.qZA())},directives:[mD,pt.lC],styles:[""]}),n})();var Lp=P(655),E0=P(515),I0=P(7982),yD=P(8421);var w0=P(5577);const Vp="firebase_screen_id",by="outlet",wd="screen_class",T0="screen_name";let rw=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Uh={},Xo=n=>{const e=[n[wd],n[by]].join("#");if(Uh.hasOwnProperty(e))return Uh[e];{const t=rw++;return Uh[e]=t,t}},x0=new R.OlP("angularfire2.analytics.analyticsCollectionEnabled"),uw=new R.OlP("angularfire2.analytics.appVersion"),cw=new R.OlP("angularfire2.analytics.appName"),M0=new R.OlP("angularfire2.analytics.debugMode"),Ay=new R.OlP("angularfire2.analytics.config"),Bp="dataLayer";let jp=(()=>{class n{constructor(t,s,a,d,p,I,S,O,W){if(this.analyticsInitialized=new Promise(()=>{}),(0,w.NF)(S)){window[Bp]=window[Bp]||[];const pe=(...it)=>"config"===it[0]&&"firebase"===it[2].origin&&(this.measurementId=it[1],!0),Ne=it=>{window.gtag=(...Rt)=>{it&&it(...Rt),"event"===Rt[0]&&Rt[2].send_to===this.measurementId&&(d&&(Rt[2].app_name=d),a&&(Rt[2].app_version=a)),p&&"undefined"!=typeof console&&console.info(...Rt),function(...Un){window[Bp].push(arguments)}(...Rt)}};window[Bp].some(pe)?(this.analyticsInitialized=Promise.resolve(),Ne()):this.analyticsInitialized=new Promise(it=>{Ne((...Rt)=>{pe(...Rt)&&it()})}),I&&this.updateConfig(I),p&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const X=(0,jn.of)(void 0).pipe((0,zc.Q)(W.outsideAngular),(0,yo.w)(I0.Gb),(0,yo.w)(pe=>pe?O.runOutsideAngular(()=>P.e(643).then(P.bind(P,8643))):E0.E),(0,mn.U)(()=>(0,xt.cc)("analytics","AngularFireAnalytics",t.name,()=>{const pe=t.analytics();return!1===s&&pe.setAnalyticsCollectionEnabled(!1),pe},[t,s,I,p])),$m({bufferSize:1,refCount:!1}));return(0,xt.pX)(this,X,O)}updateConfig(t){return(0,Lp.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(xt.Ot),R.LFG(x0,8),R.LFG(uw,8),R.LFG(cw,8),R.LFG(M0,8),R.LFG(Ay,8),R.LFG(R.Lbi),R.LFG(R.R0b),R.LFG(_t.HU))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hw=(()=>{class n{constructor(t,s,a,d){if(this.disposables=[],Id.Z.registerVersion("angularfire",_t.q4.full,"compat-user-tracking"),(0,w.PM)(s))this.initialized=Promise.resolve();else{let p;this.initialized=d.runOutsideAngular(()=>new Promise(I=>p=I)),this.disposables=[a.authState.subscribe(I=>{t.setUserId(null==I?void 0:I.uid),p()}),a.credential.subscribe(I=>{if(I){const S=I.user.isAnonymous?"anonymous":I.additionalUserInfo.providerId;I.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:S}),t.logEvent("login",{method:S})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(jp),R.LFG(R.Lbi),R.LFG(Pp),R.LFG(R.R0b))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})(),fw=(()=>{class n{constructor(t,s,a,d,p,I){if(Id.Z.registerVersion("angularfire",_t.q4.full,"compat-screen-tracking"),!s||!t)return this;p.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,dn.h)(a=>a instanceof pt.jw)).pipe((0,yo.w)(a=>{var d;const I=(null===(d=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,Ne=>Ne.replace("://",":///"))).root.children[a.snapshot.outlet])||void 0===d?void 0:d.toString())||"",S=n.routerState.root.children.map(Ne=>Ne).find(Ne=>Ne.outlet===a.snapshot.outlet);if(!S)return(0,jn.of)(null);let O=S;for(;O.firstChild;)O=O.firstChild;const W=O.pathFromRoot.map(Ne=>{var Be;return null===(Be=Ne.routeConfig)||void 0===Be?void 0:Be.path}).filter(Ne=>Ne).join("/")||"/",X={[T0]:W,page_path:`/${I}`,firebase_event_origin:"auto",firebase_screen:W,[by]:a.snapshot.outlet};e&&(X.page_title=e.getTitle());let pe=S.component;if(pe){if(pe===pt.fw){let Ne=a.snapshot;for(;Ne.firstChild;)Ne=Ne.firstChild;pe=Ne.component}}else pe=a.snapshot.component;if("string"==typeof pe)return(0,jn.of)(Object.assign(Object.assign({},X),{[wd]:pe}));if(pe){const Ne=t.resolveComponentFactory(pe);return(0,jn.of)(Object.assign(Object.assign({},X),{[wd]:Ne.selector}))}return(0,jn.of)(null)}),(0,dn.h)(a=>!!a),(0,mn.U)(a=>Object.assign({firebase_screen_class:a[wd],[Vp]:Xo(a)},a)),function Iy(n,e,t,s){return(0,ei.e)((a,d)=>{let p;e&&"function"!=typeof e?({duration:t,element:p,connector:s}=e):p=e;const I=new Map,S=Be=>{I.forEach(Be),Be(d)},O=Be=>S(it=>it.error(Be));let W=0,X=!1;const pe=new bn.Q(d,Be=>{try{const it=n(Be);let Rt=I.get(it);if(!Rt){I.set(it,Rt=s?s():new Sh.x);const Un=function Ne(Be,it){const Rt=new fn.y(Un=>{W++;const nn=it.subscribe(Un);return()=>{nn.unsubscribe(),0==--W&&X&&pe.unsubscribe()}});return Rt.key=Be,Rt}(it,Rt);if(d.next(Un),t){const nn=(0,bn.x)(Rt,()=>{Rt.complete(),null==nn||nn.unsubscribe()},void 0,void 0,()=>I.delete(it));pe.add((0,yD.Xf)(t(Un)).subscribe(nn))}}Rt.next(p?p(Be):Be)}catch(it){O(it)}},()=>S(Be=>Be.complete()),O,()=>I.clear(),()=>(X=!0,0===W));a.subscribe(pe)})}(a=>a[by]),(0,w0.z)(a=>a.pipe(Ue((d,p)=>JSON.stringify(d)===JSON.stringify(p)),(0,Rr.O)(void 0),Ai(),(0,mn.U)(([d,p])=>d?Object.assign({firebase_previous_class:d[wd],firebase_previous_screen:d[T0],firebase_previous_id:d[Vp]},p):p)))))(s,a,d).pipe((0,yo.w)(S=>(0,Lp.mG)(this,void 0,void 0,function*(){return I&&(yield I.initialized),yield t.logEvent("screen_view",S)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(jp),R.LFG(pt.F0,8),R.LFG(Gn,8),R.LFG(R._Vd),R.LFG(R.R0b),R.LFG(hw,8))},n.\u0275prov=R.Yz7({token:n,factory:n.\u0275fac}),n})(),pw=(()=>{class n{constructor(t,s,a){Id.Z.registerVersion("angularfire",_t.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(R.LFG(jp),R.LFG(fw,8),R.LFG(hw,8))},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({providers:[jp]}),n})();const P0_firebase={apiKey:"AIzaSyB0_5BUpupqhJzNtnrn-r3QG9LdvkUEhhQ",authDomain:"tools-71128.firebaseapp.com",databaseURL:"https://tools-71128-default-rtdb.firebaseio.com/",projectId:"tools-71128",storageBucket:"tools-71128.appspot.com",messagingSenderId:"<your-messaging-sender-id>",appId:"1:254796511181:web:3ce97e29c272d9d835f684",measurementId:"<your-measurement-id>"};var TD=P(2595);let CD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=R.oAB({type:n}),n.\u0275inj=R.cJS({imports:[[w.ez]]}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=R.oAB({type:n,bootstrap:[_0]}),n.\u0275inj=R.cJS({providers:[],imports:[[gr,gn,pt.Bz,xt.hO.initializeApp(P0_firebase),pw,Fp,TD.HrModule,CD]]}),n})();(0,R.G48)(),Zn().bootstrapModule(AD).catch(n=>console.error(n))},7982:(Dt,Me,P)=>{P.d(Me,{Gb:()=>w.Gb});var w=P(579)},5867:(Dt,Me,P)=>{P.d(Me,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=P(9681);(0,w.registerVersion)("firebase","9.6.10","app")},127:(Dt,Me,P)=>{P.d(Me,{Z:()=>w.Z});var w=P(3942);w.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(Dt,Me,P)=>{P.r(Me);var w=P(5861),R=P(3942),H=P(2090),ce=P(9681),fe=P(655),_e=P(1877),ve=P(4859);const Ke=function ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},et=function Pe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ae=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new _e.Yd("@firebase/auth");function ct(g,...l){ht.logLevel<=_e.in.ERROR&&ht.error(`Auth (${ce.SDK_VERSION}): ${g}`,...l)}function ze(g,...l){throw tt(g,...l)}function Le(g,...l){return tt(g,...l)}function Fe(g,l,f){const _=Object.assign(Object.assign({},et()),{[l]:f});return new H.LL("auth","Firebase",_).create(l,{appName:g.name})}function st(g,l,f){if(!(l instanceof f))throw f.name!==l.constructor.name&&ze(g,"argument-error"),Fe(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(g,...l){if("string"!=typeof g){const f=l[0],_=[...l.slice(1)];return _[0]&&(_[0].appName=g.name),g._errorFactory.create(f,..._)}return Ae.create(g,...l)}function Ee(g,l,...f){if(!g)throw tt(l,...f)}function le(g){const l="INTERNAL ASSERTION FAILED: "+g;throw ct(l),new Error(l)}function Ie(g,l){g||le(l)}const Se=new Map;function we(g){Ie(g instanceof Function,"Expected a class definition");let l=Se.get(g);return l?(Ie(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,Se.set(g,l),l)}function Ut(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function un(){return"http:"===hn()||"https:"===hn()}function hn(){var g;return"undefined"!=typeof self&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class vn{constructor(l,f){this.shortDelay=l,this.longDelay=f,Ie(f>l,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function ft(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(un()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function In(g,l){Ie(g.emulator,"Emulator should always be set here");const{url:f}=g.emulator;return l?`${f}${l.startsWith("/")?l.slice(1):l}`:f}class Ir{static initialize(l,f,_){this.fetchImpl=l,f&&(this.headersImpl=f),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ur=new vn(3e4,6e4);function an(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function $t(g,l,f,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,w.Z)(function*(g,l,f,_,M={}){return wr(g,M,(0,w.Z)(function*(){let j={},se={};_&&("GET"===l?se=_:j={body:JSON.stringify(_)});const De=(0,H.xO)(Object.assign({key:g.config.apiKey},se)).slice(1),dt=yield g._getAdditionalHeaders();return dt["Content-Type"]="application/json",g.languageCode&&(dt["X-Firebase-Locale"]=g.languageCode),Ir.fetch()(An(g,g.config.apiHost,f,De),Object.assign({method:l,headers:dt,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function wr(g,l,f){return pr.apply(this,arguments)}function pr(){return(pr=(0,w.Z)(function*(g,l,f){g._canInitEmulator=!1;const _=Object.assign(Object.assign({},ln),l);try{const M=new gr(g),j=yield Promise.race([f(),M.promise]);M.clearNetworkTimeout();const se=yield j.json();if("needConfirmation"in se)throw Vn(g,"account-exists-with-different-credential",se);if(j.ok&&!("errorMessage"in se))return se;{const De=j.ok?se.errorMessage:se.error.message,[dt,St]=De.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===dt)throw Vn(g,"credential-already-in-use",se);if("EMAIL_EXISTS"===dt)throw Vn(g,"email-already-in-use",se);const jt=_[dt]||dt.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw Fe(g,jt,St);ze(g,jt)}}catch(M){if(M instanceof H.ZR)throw M;ze(g,"network-request-failed")}})).apply(this,arguments)}function Hn(g,l,f,_){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,w.Z)(function*(g,l,f,_,M={}){const j=yield $t(g,l,f,_,M);return"mfaPendingCredential"in j&&ze(g,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function An(g,l,f,_){const M=`${l}${f}?${_}`;return g.config.emulator?In(g.config,M):`${g.config.apiScheme}://${M}`}class gr{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((f,_)=>{this.timer=setTimeout(()=>_(Le(this.auth,"network-request-failed")),ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(g,l,f){const _={appName:g.name};f.email&&(_.email=f.email),f.phoneNumber&&(_.phoneNumber=f.phoneNumber);const M=Le(g,l,_);return M.customData._tokenResponse=f,M}function Yn(){return(Yn=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Bn(g,l){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Dr(g,l){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function Sn(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch(l){}}function Mr(){return(Mr=(0,w.Z)(function*(g,l=!1){const f=(0,H.m9)(g),_=yield f.getIdToken(l),M=bt(_);Ee(M&&M.exp&&M.auth_time&&M.iat,f.auth,"internal-error");const j="object"==typeof M.firebase?M.firebase:void 0,se=null==j?void 0:j.sign_in_provider;return{claims:M,token:_,authTime:Sn(Yt(M.auth_time)),issuedAtTime:Sn(Yt(M.iat)),expirationTime:Sn(Yt(M.exp)),signInProvider:se||null,signInSecondFactor:(null==j?void 0:j.sign_in_second_factor)||null}})).apply(this,arguments)}function Yt(g){return 1e3*Number(g)}function bt(g){const[l,f,_]=g.split(".");if(void 0===l||void 0===f||void 0===_)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,H.tV)(f);return M?JSON.parse(M):(ct("Failed to decode base64 JWT payload"),null)}catch(M){return ct("Caught error parsing JWT payload as JSON",M),null}}function yr(g,l){return zr.apply(this,arguments)}function zr(){return(zr=(0,w.Z)(function*(g,l,f=!1){if(f)return l;try{return yield l}catch(_){throw _ instanceof H.ZR&&rn(_)&&g.auth.currentUser===g&&(yield g.auth.signOut()),_}})).apply(this,arguments)}function rn({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Wr{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var f;if(l){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const M=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(l=!1){var f=this;if(!this.isRunning)return;const _=this.getInterval(l);this.timerId=setTimeout((0,w.Z)(function*(){yield f.iteration()}),_)}iteration(){var l=this;return(0,w.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&l.schedule(!0))}l.schedule()})()}}class Pt{constructor(l,f){this.createdAt=l,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sn(this.lastLoginAt),this.creationTime=Sn(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(g){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,w.Z)(function*(g){var l;const f=g.auth,_=yield g.getIdToken(),M=yield yr(g,Dr(f,{idToken:_}));Ee(null==M?void 0:M.users.length,f,"internal-error");const j=M.users[0];g._notifyReloadListener(j);const se=(null===(l=j.providerUserInfo)||void 0===l?void 0:l.length)?He(j.providerUserInfo):[],De=lt(g.providerData,se),jt=!!g.isAnonymous&&!(g.email&&j.passwordHash||(null==De?void 0:De.length)),Lt={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:De,metadata:new Pt(j.createdAt,j.lastLoginAt),isAnonymous:jt};Object.assign(g,Lt)})).apply(this,arguments)}function Qt(){return(Qt=(0,w.Z)(function*(g){const l=(0,H.m9)(g);yield ir(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function lt(g,l){return[...g.filter(_=>!l.some(M=>M.providerId===_.providerId)),...l]}function He(g){return g.map(l=>{var{providerId:f}=l,_=(0,fe._T)(l,["providerId"]);return{providerId:f,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function oe(){return(oe=(0,w.Z)(function*(g,l){const f=yield wr(g,{},(0,w.Z)(function*(){const _=(0,H.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:M,apiKey:j}=g.config,se=An(g,M,"/v1/token",`key=${j}`),De=yield g._getAdditionalHeaders();return De["Content-Type"]="application/x-www-form-urlencoded",Ir.fetch()(se,{method:"POST",headers:De,body:_})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){Ee(l.idToken,"internal-error"),Ee(void 0!==l.idToken,"internal-error"),Ee(void 0!==l.refreshToken,"internal-error");const f="expiresIn"in l&&void 0!==l.expiresIn?Number(l.expiresIn):function Ct(g){const l=bt(g);return Ee(l,"internal-error"),Ee(void 0!==l.exp,"internal-error"),Ee(void 0!==l.iat,"internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,f)}getToken(l,f=!1){var _=this;return(0,w.Z)(function*(){return Ee(!_.accessToken||_.refreshToken,l,"user-token-expired"),f||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(l,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,f){var _=this;return(0,w.Z)(function*(){const{accessToken:M,refreshToken:j,expiresIn:se}=yield function vt(g,l){return oe.apply(this,arguments)}(l,f);_.updateTokensAndExpiration(M,j,Number(se))})()}updateTokensAndExpiration(l,f,_){this.refreshToken=f||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(l,f){const{refreshToken:_,accessToken:M,expirationTime:j}=f,se=new Ce;return _&&(Ee("string"==typeof _,"internal-error",{appName:l}),se.refreshToken=_),M&&(Ee("string"==typeof M,"internal-error",{appName:l}),se.accessToken=M),j&&(Ee("number"==typeof j,"internal-error",{appName:l}),se.expirationTime=j),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Ce,this.toJSON())}_performRefresh(){return le("not implemented")}}function Ve(g,l){Ee("string"==typeof g||void 0===g,"internal-error",{appName:l})}class G{constructor(l){var{uid:f,auth:_,stsTokenManager:M}=l,j=(0,fe._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=_,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Pt(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(l){var f=this;return(0,w.Z)(function*(){const _=yield yr(f,f.stsTokenManager.getToken(f.auth,l));return Ee(_,f.auth,"internal-error"),f.accessToken!==_&&(f.accessToken=_,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),_})()}getIdTokenResult(l){return function br(g){return Mr.apply(this,arguments)}(this,l)}reload(){return function cr(g){return Qt.apply(this,arguments)}(this)}_assign(l){this!==l&&(Ee(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(f=>Object.assign({},f)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new G(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,f=!1){var _=this;return(0,w.Z)(function*(){let M=!1;l.idToken&&l.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(l),M=!0),f&&(yield ir(_)),yield _.auth._persistUserIfCurrent(_),M&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var l=this;return(0,w.Z)(function*(){const f=yield l.getIdToken();return yield yr(l,function Tt(g,l){return Yn.apply(this,arguments)}(l.auth,{idToken:f})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,f){var _,M,j,se,De,dt,St,jt;const Lt=null!==(_=f.displayName)&&void 0!==_?_:void 0,sr=null!==(M=f.email)&&void 0!==M?M:void 0,Ss=null!==(j=f.phoneNumber)&&void 0!==j?j:void 0,vc=null!==(se=f.photoURL)&&void 0!==se?se:void 0,Sr=null!==(De=f.tenantId)&&void 0!==De?De:void 0,Ia=null!==(dt=f._redirectEventId)&&void 0!==dt?dt:void 0,Au=null!==(St=f.createdAt)&&void 0!==St?St:void 0,Xp=null!==(jt=f.lastLoginAt)&&void 0!==jt?jt:void 0,{uid:uo,emailVerified:Il,isAnonymous:wl,providerData:Dl,stsTokenManager:wa}=f;Ee(uo&&wa,l,"internal-error");const eu=Ce.fromJSON(this.name,wa);Ee("string"==typeof uo,l,"internal-error"),Ve(Lt,l.name),Ve(sr,l.name),Ee("boolean"==typeof Il,l,"internal-error"),Ee("boolean"==typeof wl,l,"internal-error"),Ve(Ss,l.name),Ve(vc,l.name),Ve(Sr,l.name),Ve(Ia,l.name),Ve(Au,l.name),Ve(Xp,l.name);const bl=new G({uid:uo,auth:l,email:sr,emailVerified:Il,displayName:Lt,isAnonymous:wl,photoURL:vc,phoneNumber:Ss,tenantId:Sr,stsTokenManager:eu,createdAt:Au,lastLoginAt:Xp});return Dl&&Array.isArray(Dl)&&(bl.providerData=Dl.map(af=>Object.assign({},af))),Ia&&(bl._redirectEventId=Ia),bl}static _fromIdTokenResponse(l,f,_=!1){return(0,w.Z)(function*(){const M=new Ce;M.updateFromServerResponse(f);const j=new G({uid:f.localId,auth:l,stsTokenManager:M,isAnonymous:_});return yield ir(j),j})()}}const q=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(f,_){var M=this;return(0,w.Z)(function*(){M.storage[f]=_})()}_get(f){var _=this;return(0,w.Z)(function*(){const M=_.storage[f];return void 0===M?null:M})()}_remove(f){var _=this;return(0,w.Z)(function*(){delete _.storage[f]})()}_addListener(f,_){}_removeListener(f,_){}}return g.type="NONE",g})();function ae(g,l,f){return`firebase:${g}:${l}:${f}`}class re{constructor(l,f,_){this.persistence=l,this.auth=f,this.userKey=_;const{config:M,name:j}=this.auth;this.fullUserKey=ae(this.userKey,M.apiKey,j),this.fullPersistenceKey=ae("persistence",M.apiKey,j),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,w.Z)(function*(){const f=yield l.persistence._get(l.fullUserKey);return f?G._fromJSON(l.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var f=this;return(0,w.Z)(function*(){if(f.persistence===l)return;const _=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=l,_?f.setCurrentUser(_):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,f,_="authUser"){return(0,w.Z)(function*(){if(!f.length)return new re(we(q),l,_);const M=(yield Promise.all(f.map(function(){var St=(0,w.Z)(function*(jt){if(yield jt._isAvailable())return jt});return function(jt){return St.apply(this,arguments)}}()))).filter(St=>St);let j=M[0]||we(q);const se=ae(_,l.config.apiKey,l.name);let De=null;for(const St of f)try{const jt=yield St._get(se);if(jt){const Lt=G._fromJSON(l,jt);St!==j&&(De=Lt),j=St;break}}catch(jt){}const dt=M.filter(St=>St._shouldAllowMigration);return j._shouldAllowMigration&&dt.length?(j=dt[0],De&&(yield j._set(se,De.toJSON())),yield Promise.all(f.map(function(){var St=(0,w.Z)(function*(jt){if(jt!==j)try{yield jt._remove(se)}catch(Lt){}});return function(jt){return St.apply(this,arguments)}}())),new re(j,l,_)):new re(j,l,_)})()}}function Ge(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Xt(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(pt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(Ht(l))return"Blackberry";if(fn(l))return"Webos";if(Jt(l))return"Safari";if((l.includes("chrome/")||Kn(l))&&!l.includes("edge/"))return"Chrome";if(gn(l))return"Android";{const _=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==_?void 0:_.length))return _[1]}return"Other"}function pt(g=(0,H.z$)()){return/firefox\//i.test(g)}function Jt(g=(0,H.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Kn(g=(0,H.z$)()){return/crios\//i.test(g)}function Xt(g=(0,H.z$)()){return/iemobile/i.test(g)}function gn(g=(0,H.z$)()){return/android/i.test(g)}function Ht(g=(0,H.z$)()){return/blackberry/i.test(g)}function fn(g=(0,H.z$)()){return/webos/i.test(g)}function Dn(g=(0,H.z$)()){return/iphone|ipad|ipod/i.test(g)}function ei(g=(0,H.z$)()){return Dn(g)||gn(g)||fn(g)||Ht(g)||/windows phone/i.test(g)||Xt(g)}function Ai(g,l=[]){let f;switch(g){case"Browser":f=Ge((0,H.z$)());break;case"Worker":f=`${Ge((0,H.z$)())}-${g}`;break;default:f=g}const _=l.length?l.join(","):"FirebaseCore-web";return`${f}/JsCore/${ce.SDK_VERSION}/${_}`}class mn{constructor(l,f,_){this.app=l,this.heartbeatServiceProvider=f,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,f){var _=this;return f&&(this._popupRedirectResolver=we(f)),this._initializationPromise=this.queue((0,w.Z)(function*(){var M,j;if(!_._deleted&&(_.persistenceManager=yield re.create(_,l),!_._deleted)){if(null===(M=_._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield _._popupRedirectResolver._initialize(_)}catch(se){}yield _.initializeCurrentUser(f),_.lastNotifiedUid=(null===(j=_.currentUser)||void 0===j?void 0:j.uid)||null,!_._deleted&&(_._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,w.Z)(function*(){if(l._deleted)return;const f=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||f){if(l.currentUser&&f&&l.currentUser.uid===f.uid)return l._currentUser._assign(f),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(f)}})()}initializeCurrentUser(l){var f=this;return(0,w.Z)(function*(){var _;let M=yield f.assertedPersistence.getCurrentUser();if(l&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const j=null===(_=f.redirectUser)||void 0===_?void 0:_._redirectEventId,se=null==M?void 0:M._redirectEventId,De=yield f.tryRedirectSignIn(l);(!j||j===se)&&(null==De?void 0:De.user)&&(M=De.user)}return M?M._redirectEventId?(Ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===M._redirectEventId?f.directlySetCurrentUser(M):f.reloadAndSetCurrentUserOrClear(M)):f.reloadAndSetCurrentUserOrClear(M):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(l){var f=this;return(0,w.Z)(function*(){let _=null;try{_=yield f._popupRedirectResolver._completeRedirectFn(f,l,!0)}catch(M){yield f._setRedirectUser(null)}return _})()}reloadAndSetCurrentUserOrClear(l){var f=this;return(0,w.Z)(function*(){try{yield ir(l)}catch(_){if("auth/network-request-failed"!==_.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function yt(){if("undefined"==typeof navigator)return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,w.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var f=this;return(0,w.Z)(function*(){const _=l?(0,H.m9)(l):null;return _&&Ee(_.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(_&&_._clone(f))})()}_updateCurrentUser(l){var f=this;return(0,w.Z)(function*(){if(!f._deleted)return l&&Ee(f.tenantId===l.tenantId,f,"tenant-id-mismatch"),f.queue((0,w.Z)(function*(){yield f.directlySetCurrentUser(l),f.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,w.Z)(function*(){return(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null)})()}setPersistence(l){var f=this;return this.queue((0,w.Z)(function*(){yield f.assertedPersistence.setPersistence(we(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new H.LL("auth","Firebase",l())}onAuthStateChanged(l,f,_){return this.registerStateListener(this.authStateSubscription,l,f,_)}onIdTokenChanged(l,f,_){return this.registerStateListener(this.idTokenSubscription,l,f,_)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,f){var _=this;return(0,w.Z)(function*(){const M=yield _.getOrInitRedirectPersistenceManager(f);return null===l?M.removeCurrentUser():M.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var f=this;return(0,w.Z)(function*(){if(!f.redirectPersistenceManager){const _=l&&we(l)||f._popupRedirectResolver;Ee(_,f,"argument-error"),f.redirectPersistenceManager=yield re.create(f,[we(_._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(l){var f=this;return(0,w.Z)(function*(){var _,M;return f._isInitialized&&(yield f.queue((0,w.Z)(function*(){}))),(null===(_=f._currentUser)||void 0===_?void 0:_._redirectEventId)===l?f._currentUser:(null===(M=f.redirectUser)||void 0===M?void 0:M._redirectEventId)===l?f.redirectUser:null})()}_persistUserIfCurrent(l){var f=this;return(0,w.Z)(function*(){if(l===f.currentUser)return f.queue((0,w.Z)(function*(){return f.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const _=null!==(f=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==_&&(this.lastNotifiedUid=_,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,f,_,M){if(this._deleted)return()=>{};const j="function"==typeof f?f:f.next.bind(f),se=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(se,this,"internal-error"),se.then(()=>j(this.currentUser)),"function"==typeof f?l.addObserver(f,_,M):l.addObserver(f)}directlySetCurrentUser(l){var f=this;return(0,w.Z)(function*(){f.currentUser&&f.currentUser!==l&&(f._currentUser._stopProactiveRefresh(),l&&f.isProactiveRefreshEnabled&&l._startProactiveRefresh()),f.currentUser=l,l?yield f.assertedPersistence.setCurrentUser(l):yield f.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=Ai(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,w.Z)(function*(){var f;const _={"X-Client-Version":l.clientVersion};l.app.options.appId&&(_["X-Firebase-gmpid"]=l.app.options.appId);const M=yield null===(f=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return M&&(_["X-Firebase-Client"]=M),_})()}}function K(g){return(0,H.m9)(g)}class ye{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,H.ne)(f=>this.observer=f)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gt(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function xt(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class Gt{constructor(l,f){this.providerId=l,this.signInMethod=f}toJSON(){return le("not implemented")}_getIdTokenResponse(l){return le("not implemented")}_linkToIdToken(l,f){return le("not implemented")}_getReauthenticationResolver(l){return le("not implemented")}}function be(g,l){return On.apply(this,arguments)}function On(){return(On=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:resetPassword",an(g,l))})).apply(this,arguments)}function Vt(g,l){return ti.apply(this,arguments)}function ti(){return(ti=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function qt(g,l){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:update",an(g,l))})).apply(this,arguments)}function ot(){return(ot=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithPassword",an(g,l))})).apply(this,arguments)}function di(g,l){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:sendOobCode",an(g,l))})).apply(this,arguments)}function Kr(g,l){return yn.apply(this,arguments)}function yn(){return(yn=(0,w.Z)(function*(g,l){return di(g,l)})).apply(this,arguments)}function ns(g,l){return Li.apply(this,arguments)}function Li(){return(Li=(0,w.Z)(function*(g,l){return di(g,l)})).apply(this,arguments)}function Tr(g,l){return qn.apply(this,arguments)}function qn(){return(qn=(0,w.Z)(function*(g,l){return di(g,l)})).apply(this,arguments)}function $i(g,l){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,w.Z)(function*(g,l){return di(g,l)})).apply(this,arguments)}function Nr(){return(Nr=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithEmailLink",an(g,l))})).apply(this,arguments)}function Ii(){return(Ii=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithEmailLink",an(g,l))})).apply(this,arguments)}class Os extends Gt{constructor(l,f,_,M=null){super("password",_),this._email=l,this._password=f,this._tenantId=M}static _fromEmailAndPassword(l,f){return new Os(l,f,"password")}static _fromEmailAndCode(l,f,_=null){return new Os(l,f,"emailLink",_)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(l){var f=this;return(0,w.Z)(function*(){switch(f.signInMethod){case"password":return function lr(g,l){return ot.apply(this,arguments)}(l,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function Jn(g,l){return Nr.apply(this,arguments)}(l,{email:f._email,oobCode:f._password});default:ze(l,"internal-error")}})()}_linkToIdToken(l,f){var _=this;return(0,w.Z)(function*(){switch(_.signInMethod){case"password":return Vt(l,{idToken:f,returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function zn(g,l){return Ii.apply(this,arguments)}(l,{idToken:f,email:_._email,oobCode:_._password});default:ze(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Xn(g,l){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithIdp",an(g,l))})).apply(this,arguments)}class wi extends Gt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const f=new wi(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(f.idToken=l.idToken),l.accessToken&&(f.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(f.nonce=l.nonce),l.pendingToken&&(f.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(f.accessToken=l.oauthToken,f.secret=l.oauthTokenSecret):ze("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:_,signInMethod:M}=f,j=(0,fe._T)(f,["providerId","signInMethod"]);if(!_||!M)return null;const se=new wi(_,M);return se.idToken=j.idToken||void 0,se.accessToken=j.accessToken||void 0,se.secret=j.secret,se.nonce=j.nonce,se.pendingToken=j.pendingToken||null,se}_getIdTokenResponse(l){return Xn(l,this.buildRequest())}_linkToIdToken(l,f){const _=this.buildRequest();return _.idToken=f,Xn(l,_)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Xn(l,f)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),l.postBody=(0,H.xO)(f)}return l}}function Ps(g,l){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:sendVerificationCode",an(g,l))})).apply(this,arguments)}function rs(){return(rs=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,l))})).apply(this,arguments)}function _o(){return(_o=(0,w.Z)(function*(g,l){const f=yield Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,l));if(f.temporaryProof)throw Vn(g,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Or={USER_NOT_FOUND:"user-not-found"};function bs(){return(bs=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithPhoneNumber",an(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),Or)})).apply(this,arguments)}class Si extends Gt{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,f){return new Si({verificationId:l,verificationCode:f})}static _fromTokenResponse(l,f){return new Si({phoneNumber:l,temporaryProof:f})}_getIdTokenResponse(l){return function ks(g,l){return rs.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,f){return function ni(g,l){return _o.apply(this,arguments)}(l,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Eo(g,l){return bs.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:f,verificationId:_,verificationCode:M}=this.params;return l&&f?{temporaryProof:l,phoneNumber:f}:{sessionInfo:_,code:M}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:f,verificationCode:_,phoneNumber:M,temporaryProof:j}=l;return _||f||M||j?new Si({verificationId:f,verificationCode:_,phoneNumber:M,temporaryProof:j}):null}}class Gi{constructor(l){var f,_,M,j,se,De;const dt=(0,H.zd)((0,H.pd)(l)),St=null!==(f=dt.apiKey)&&void 0!==f?f:null,jt=null!==(_=dt.oobCode)&&void 0!==_?_:null,Lt=function ta(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=dt.mode)&&void 0!==M?M:null);Ee(St&&jt&&Lt,"argument-error"),this.apiKey=St,this.operation=Lt,this.code=jt,this.continueUrl=null!==(j=dt.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(se=dt.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(De=dt.tenantId)&&void 0!==De?De:null}static parseLink(l){const f=function qs(g){const l=(0,H.zd)((0,H.pd)(g)).link,f=l?(0,H.zd)((0,H.pd)(l)).deep_link_id:null,_=(0,H.zd)((0,H.pd)(g)).deep_link_id;return(_?(0,H.zd)((0,H.pd)(_)).link:null)||_||f||l||g}(l);try{return new Gi(f)}catch(_){return null}}}let wo=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(f,_){return Os._fromEmailAndPassword(f,_)}static credentialWithLink(f,_){const M=Gi.parseLink(_);return Ee(M,"argument-error"),Os._fromEmailAndCode(f,M.code,M.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class is{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Cr extends is{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class zi extends Cr{static credentialFromJSON(l){const f="string"==typeof l?JSON.parse(l):l;return Ee("providerId"in f&&"signInMethod"in f,"argument-error"),wi._fromParams(f)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return Ee(l.idToken||l.accessToken,"argument-error"),wi._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return zi.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return zi.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:f,oauthAccessToken:_,oauthTokenSecret:M,pendingToken:j,nonce:se,providerId:De}=l;if(!_&&!M&&!f&&!j||!De)return null;try{return new zi(De)._credential({idToken:f,accessToken:_,nonce:se,pendingToken:j})}catch(dt){return null}}}let Di=(()=>{class g extends Cr{constructor(){super("facebook.com")}static credential(f){return wi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(_){return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Ts=(()=>{class g extends Cr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,_){return wi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:_,oauthAccessToken:M}=f;if(!_&&!M)return null;try{return g.credential(_,M)}catch(j){return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Zs=(()=>{class g extends Cr{constructor(){super("github.com")}static credential(f){return wi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return g.credential(f.oauthAccessToken)}catch(_){return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class ri extends Gt{constructor(l,f){super(l,l),this.pendingToken=f}_getIdTokenResponse(l){return Xn(l,this.buildRequest())}_linkToIdToken(l,f){const _=this.buildRequest();return _.idToken=f,Xn(l,_)}_getReauthenticationResolver(l){const f=this.buildRequest();return f.autoCreate=!1,Xn(l,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const f="string"==typeof l?JSON.parse(l):l,{providerId:_,signInMethod:M,pendingToken:j}=f;return _&&M&&j&&_===M?new ri(_,j):null}static _create(l,f){return new ri(l,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ki extends is{constructor(l){Ee(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Ki.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Ki.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const f=ri.fromJSON(l);return Ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:f,providerId:_}=l;if(!f||!_)return null;try{return ri._create(_,f)}catch(M){return null}}}let qi=(()=>{class g extends Cr{constructor(){super("twitter.com")}static credential(f,_){return wi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:_})}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:_,oauthTokenSecret:M}=f;if(!_||!M)return null;try{return g.credential(_,M)}catch(j){return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Ys(g,l){return vr.apply(this,arguments)}function vr(){return(vr=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signUp",an(g,l))})).apply(this,arguments)}class er{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,f,_,M=!1){return(0,w.Z)(function*(){const j=yield G._fromIdTokenResponse(l,_,M),se=xa(_);return new er({user:j,providerId:se,_tokenResponse:_,operationType:f})})()}static _forOperation(l,f,_){return(0,w.Z)(function*(){yield l._updateTokensIfNecessary(_,!0);const M=xa(_);return new er({user:l,providerId:M,_tokenResponse:_,operationType:f})})()}}function xa(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function na(){return(na=(0,w.Z)(function*(g){var l;const f=K(g);if(yield f._initializationPromise,null===(l=f.currentUser)||void 0===l?void 0:l.isAnonymous)return new er({user:f.currentUser,providerId:null,operationType:"signIn"});const _=yield Ys(f,{returnSecureToken:!0}),M=yield er._fromIdTokenResponse(f,"signIn",_,!0);return yield f._updateCurrentUser(M.user),M})).apply(this,arguments)}class dr extends H.ZR{constructor(l,f,_,M){var j;super(f.code,f.message),this.operationType=_,this.user=M,Object.setPrototypeOf(this,dr.prototype),this.customData={appName:l.name,tenantId:null!==(j=l.tenantId)&&void 0!==j?j:void 0,_serverResponse:f.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(l,f,_,M){return new dr(l,f,_,M)}}function ii(g,l,f,_){return("reauthenticate"===l?f._getReauthenticationResolver(g):f._getIdTokenResponse(g)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?dr._fromErrorAndOperation(g,j,l,_):j})}function Qs(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function Fs(){return(Fs=(0,w.Z)(function*(g,l){const f=(0,H.m9)(g);yield F(!0,f,l);const{providerUserInfo:_}=yield Bn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[l]}),M=Qs(_||[]);return f.providerData=f.providerData.filter(j=>M.has(j.providerId)),M.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function wn(g,l){return A.apply(this,arguments)}function A(){return(A=(0,w.Z)(function*(g,l,f=!1){const _=yield yr(g,l._linkToIdToken(g.auth,yield g.getIdToken()),f);return er._forOperation(g,"link",_)})).apply(this,arguments)}function F(g,l,f){return C.apply(this,arguments)}function C(){return(C=(0,w.Z)(function*(g,l,f){yield ir(l);const M=!1===g?"provider-already-linked":"no-such-provider";Ee(Qs(l.providerData).has(f)===g,l.auth,M)})).apply(this,arguments)}function U(g,l){return ee.apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*(g,l,f=!1){const{auth:_}=g,M="reauthenticate";try{const j=yield yr(g,ii(_,M,l,g),f);Ee(j.idToken,_,"internal-error");const se=bt(j.idToken);Ee(se,_,"internal-error");const{sub:De}=se;return Ee(g.uid===De,_,"user-mismatch"),er._forOperation(g,M,j)}catch(j){throw"auth/user-not-found"===(null==j?void 0:j.code)&&ze(_,"user-mismatch"),j}})).apply(this,arguments)}function xe(g,l){return qe.apply(this,arguments)}function qe(){return(qe=(0,w.Z)(function*(g,l,f=!1){const _="signIn",M=yield ii(g,_,l),j=yield er._fromIdTokenResponse(g,_,M);return f||(yield g._updateCurrentUser(j.user)),j})).apply(this,arguments)}function At(g,l){return V.apply(this,arguments)}function V(){return(V=(0,w.Z)(function*(g,l){return xe(K(g),l)})).apply(this,arguments)}function B(g,l){return Q.apply(this,arguments)}function Q(){return(Q=(0,w.Z)(function*(g,l){const f=(0,H.m9)(g);return yield F(!1,f,l.providerId),wn(f,l)})).apply(this,arguments)}function de(g,l){return We.apply(this,arguments)}function We(){return(We=(0,w.Z)(function*(g,l){return U((0,H.m9)(g),l)})).apply(this,arguments)}function Xe(g,l){return It.apply(this,arguments)}function It(){return(It=(0,w.Z)(function*(g,l){return Hn(g,"POST","/v1/accounts:signInWithCustomToken",an(g,l))})).apply(this,arguments)}function xn(){return(xn=(0,w.Z)(function*(g,l){const f=K(g),_=yield Xe(f,{token:l,returnSecureToken:!0}),M=yield er._fromIdTokenResponse(f,"signIn",_);return yield f._updateCurrentUser(M.user),M})).apply(this,arguments)}class nt{constructor(l,f){this.factorId=l,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(l,f){return"phoneInfo"in f?Bt._fromServerResponse(l,f):ze(l,"internal-error")}}class Bt extends nt{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,f){return new Bt(f)}}function zt(g,l,f){var _;Ee((null===(_=f.url)||void 0===_?void 0:_.length)>0,g,"invalid-continue-uri"),Ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=f.url,l.dynamicLinkDomain=f.dynamicLinkDomain,l.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(Ee(f.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=f.iOS.bundleId),f.android&&(Ee(f.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=f.android.installApp,l.androidMinimumVersionCode=f.android.minimumVersion,l.androidPackageName=f.android.packageName)}function hi(){return(hi=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g),M={requestType:"PASSWORD_RESET",email:l};f&&zt(_,M,f),yield ns(_,M)})).apply(this,arguments)}function Ls(){return(Ls=(0,w.Z)(function*(g,l,f){yield be((0,H.m9)(g),{oobCode:l,newPassword:f})})).apply(this,arguments)}function Ze(){return(Ze=(0,w.Z)(function*(g,l){yield qt((0,H.m9)(g),{oobCode:l})})).apply(this,arguments)}function sn(g,l){return Js.apply(this,arguments)}function Js(){return(Js=(0,w.Z)(function*(g,l){const f=(0,H.m9)(g),_=yield be(f,{oobCode:l}),M=_.requestType;switch(Ee(M,f,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ee(_.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ee(_.mfaInfo,f,"internal-error");default:Ee(_.email,f,"internal-error")}let j=null;return _.mfaInfo&&(j=nt._fromServerResponse(K(f),_.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.newEmail:_.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===_.requestType?_.email:_.newEmail)||null,multiFactorInfo:j},operation:M}})).apply(this,arguments)}function Xs(){return(Xs=(0,w.Z)(function*(g,l){const{data:f}=yield sn((0,H.m9)(g),l);return f.email})).apply(this,arguments)}function Ui(){return(Ui=(0,w.Z)(function*(g,l,f){const _=K(g),M=yield Ys(_,{returnSecureToken:!0,email:l,password:f}),j=yield er._fromIdTokenResponse(_,"signIn",M);return yield _._updateCurrentUser(j.user),j})).apply(this,arguments)}function cu(){return(cu=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g),M={requestType:"EMAIL_SIGNIN",email:l};Ee(f.handleCodeInApp,_,"argument-error"),f&&zt(_,M,f),yield Tr(_,M)})).apply(this,arguments)}function xi(){return(xi=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g),M=wo.credentialWithLink(l,f||Ut());return Ee(M._tenantId===(_.tenantId||null),_,"tenant-id-mismatch"),At(_,M)})).apply(this,arguments)}function fi(g,l){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:createAuthUri",an(g,l))})).apply(this,arguments)}function os(){return(os=(0,w.Z)(function*(g,l){const _={identifier:l,continueUri:un()?Ut():"http://localhost"},{signinMethods:M}=yield fi((0,H.m9)(g),_);return M||[]})).apply(this,arguments)}function qu(){return(qu=(0,w.Z)(function*(g,l){const f=(0,H.m9)(g),M={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&zt(f.auth,M,l);const{email:j}=yield Kr(f.auth,M);j!==g.email&&(yield g.reload())})).apply(this,arguments)}function Zu(){return(Zu=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};f&&zt(_.auth,j,f);const{email:se}=yield $i(_.auth,j);se!==g.email&&(yield g.reload())})).apply(this,arguments)}function bd(g,l){return as.apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(g,l){return $t(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ao(){return(Ao=(0,w.Z)(function*(g,{displayName:l,photoURL:f}){if(void 0===l&&void 0===f)return;const _=(0,H.m9)(g),j={idToken:yield _.getIdToken(),displayName:l,photoUrl:f,returnSecureToken:!0},se=yield yr(_,bd(_.auth,j));_.displayName=se.displayName||null,_.photoURL=se.photoUrl||null;const De=_.providerData.find(({providerId:dt})=>"password"===dt);De&&(De.displayName=_.displayName,De.photoURL=_.photoURL),yield _._updateTokensIfNecessary(se)})).apply(this,arguments)}function hu(g,l,f){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,w.Z)(function*(g,l,f){const{auth:_}=g,j={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&(j.email=l),f&&(j.password=f);const se=yield yr(g,Vt(_,j));yield g._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class us{constructor(l,f,_={}){this.isNewUser=l,this.providerId=f,this.profile=_}}class So extends us{constructor(l,f,_,M){super(l,f,_),this.username=M}}class qc extends us{constructor(l,f){super(l,"facebook.com",f)}}class xo extends So{constructor(l,f){super(l,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Qu extends us{constructor(l,f){super(l,"google.com",f)}}class Ju extends So{constructor(l,f,_){super(l,"twitter.com",f,_)}}function kr(g){const{user:l,_tokenResponse:f}=g;return l.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function Yu(g){var l,f;if(!g)return null;const{providerId:_}=g,M=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},j=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!_&&(null==g?void 0:g.idToken)){const se=null===(f=null===(l=bt(g.idToken))||void 0===l?void 0:l.firebase)||void 0===f?void 0:f.sign_in_provider;if(se)return new us(j,"anonymous"!==se&&"custom"!==se?se:null)}if(!_)return null;switch(_){case"facebook.com":return new qc(j,M);case"github.com":return new xo(j,M);case"google.com":return new Qu(j,M);case"twitter.com":return new Ju(j,M,g.screenName||null);case"custom":case"anonymous":return new us(j,null);default:return new us(j,_,M)}}(f)}class Vi{constructor(l,f){this.type=l,this.credential=f}static _fromIdtoken(l){return new Vi("enroll",l)}static _fromMfaPendingCredential(l){return new Vi("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var f,_;if(null==l?void 0:l.multiFactorSession){if(null===(f=l.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return Vi._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null===(_=l.multiFactorSession)||void 0===_?void 0:_.idToken)return Vi._fromIdtoken(l.multiFactorSession.idToken)}return null}}class eo{constructor(l,f,_){this.session=l,this.hints=f,this.signInResolver=_}static _fromError(l,f){const _=K(l),M=f.customData._serverResponse,j=(M.mfaInfo||[]).map(De=>nt._fromServerResponse(_,De));Ee(M.mfaPendingCredential,_,"internal-error");const se=Vi._fromMfaPendingCredential(M.mfaPendingCredential);return new eo(se,j,function(){var De=(0,w.Z)(function*(dt){const St=yield dt._process(_,se);delete M.mfaInfo,delete M.mfaPendingCredential;const jt=Object.assign(Object.assign({},M),{idToken:St.idToken,refreshToken:St.refreshToken});switch(f.operationType){case"signIn":const Lt=yield er._fromIdTokenResponse(_,f.operationType,jt);return yield _._updateCurrentUser(Lt.user),Lt;case"reauthenticate":return Ee(f.user,_,"internal-error"),er._forOperation(f.user,f.operationType,jt);default:ze(_,"internal-error")}});return function(dt){return De.apply(this,arguments)}}())}resolveSignIn(l){var f=this;return(0,w.Z)(function*(){return f.signInResolver(l)})()}}function Fa(g,l){return $t(g,"POST","/v2/accounts/mfaEnrollment:start",an(g,l))}class Mi{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(_=>nt._fromServerResponse(l.auth,_)))})}static _fromUser(l){return new Mi(l)}getSession(){var l=this;return(0,w.Z)(function*(){return Vi._fromIdtoken(yield l.user.getIdToken())})()}enroll(l,f){var _=this;return(0,w.Z)(function*(){const M=l,j=yield _.getSession(),se=yield yr(_.user,M._process(_.user.auth,j,f));return yield _.user._updateTokensIfNecessary(se),_.user.reload()})()}unenroll(l){var f=this;return(0,w.Z)(function*(){const _="string"==typeof l?l:l.uid,M=yield f.user.getIdToken(),j=yield yr(f.user,function Cd(g,l){return $t(g,"POST","/v2/accounts/mfaEnrollment:withdraw",an(g,l))}(f.user.auth,{idToken:M,mfaEnrollmentId:_}));f.enrolledFactors=f.enrolledFactors.filter(({uid:se})=>se!==_),yield f.user._updateTokensIfNecessary(j);try{yield f.user.reload()}catch(se){if("auth/user-token-expired"!==se.code)throw se}})()}}const to=new WeakMap,no="__sak";class Qi{constructor(l,f){this.storageRetriever=l,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(no,"1"),this.storage.removeItem(no),Promise.resolve(!0)):Promise.resolve(!1)}catch(l){return Promise.resolve(!1)}}_set(l,f){return this.storage.setItem(l,JSON.stringify(f)),Promise.resolve()}_get(l){const f=this.storage.getItem(l);return Promise.resolve(f?JSON.parse(f):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ro=(()=>{class g extends Qi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,_)=>this.onStorageEvent(f,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zr(){const g=(0,H.z$)();return Jt(g)||Dn(g)}()&&function bn(){try{return!(!window||window===window.top)}catch(g){return!1}}(),this.fallbackToPolling=ei(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const _ of Object.keys(this.listeners)){const M=this.storage.getItem(_),j=this.localCache[_];M!==j&&f(_,j,M)}}onStorageEvent(f,_=!1){if(!f.key)return void this.forAllChangedKeys((De,dt,St)=>{this.notifyListeners(De,St)});const M=f.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const De=this.storage.getItem(M);if(f.newValue!==De)null!==f.newValue?this.storage.setItem(M,f.newValue):this.storage.removeItem(M);else if(this.localCache[M]===f.newValue&&!_)return}const j=()=>{const De=this.storage.getItem(M);!_&&this.localCache[M]===De||this.notifyListeners(M,De)},se=this.storage.getItem(M);!function Rr(){return(0,H.w1)()&&10===document.documentMode}()||se===f.newValue||f.newValue===f.oldValue?j():setTimeout(j,10)}notifyListeners(f,_){this.localCache[f]=_;const M=this.listeners[f];if(M)for(const j of Array.from(M))j(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,_,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:_,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,_){var M=()=>super._set,j=this;return(0,w.Z)(function*(){yield M().call(j,f,_),j.localCache[f]=JSON.stringify(_)})()}_get(f){var _=()=>super._get,M=this;return(0,w.Z)(function*(){const j=yield _().call(M,f);return M.localCache[f]=JSON.stringify(j),j})()}_remove(f){var _=()=>super._remove,M=this;return(0,w.Z)(function*(){yield _().call(M,f),delete M.localCache[f]})()}}return g.type="LOCAL",g})(),Cs=(()=>{class g extends Qi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,_){}_removeListener(f,_){}}return g.type="SESSION",g})();let cs=(()=>{class g{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const _=this.receivers.find(j=>j.isListeningto(f));if(_)return _;const M=new g(f);return this.receivers.push(M),M}isListeningto(f){return this.eventTarget===f}handleEvent(f){var _=this;return(0,w.Z)(function*(){const M=f,{eventId:j,eventType:se,data:De}=M.data,dt=_.handlersMap[se];if(!(null==dt?void 0:dt.size))return;M.ports[0].postMessage({status:"ack",eventId:j,eventType:se});const St=Array.from(dt).map(function(){var Lt=(0,w.Z)(function*(sr){return sr(M.origin,De)});return function(sr){return Lt.apply(this,arguments)}}()),jt=yield function tc(g){return Promise.all(g.map(function(){var l=(0,w.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(_){return{fulfilled:!1,reason:_}}});return function(f){return l.apply(this,arguments)}}()))}(St);M.ports[0].postMessage({status:"done",eventId:j,eventType:se,response:jt})})()}_subscribe(f,_){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(_)}_unsubscribe(f,_){this.handlersMap[f]&&_&&this.handlersMap[f].delete(_),(!_||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function Ni(g="",l=10){let f="";for(let _=0;_<l;_++)f+=Math.floor(10*Math.random());return g+f}class sa{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,f,_=50){var M=this;return(0,w.Z)(function*(){const j="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let se,De;return new Promise((dt,St)=>{const jt=Ni("",20);j.port1.start();const Lt=setTimeout(()=>{St(new Error("unsupported_event"))},_);De={messageChannel:j,onMessage(sr){const Ss=sr;if(Ss.data.eventId===jt)switch(Ss.data.status){case"ack":clearTimeout(Lt),se=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),dt(Ss.data.response);break;default:clearTimeout(Lt),clearTimeout(se),St(new Error("invalid_response"))}}},M.handlers.add(De),j.port1.addEventListener("message",De.onMessage),M.target.postMessage({eventType:l,eventId:jt,data:f},[j.port2])}).finally(()=>{De&&M.removeMessageHandler(De)})})()}}function Wn(){return window}function io(){return void 0!==Wn().WorkerGlobalScope&&"function"==typeof Wn().importScripts}function As(){return(As=(0,w.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(g){return null}})).apply(this,arguments)}const Ro="firebaseLocalStorageDb",pu="firebaseLocalStorage",No="fbase_key";class so{constructor(l){this.request=l}toPromise(){return new Promise((l,f)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function aa(g,l){return g.transaction([pu],l?"readwrite":"readonly").objectStore(pu)}function ua(){const g=indexedDB.open(Ro,1);return new Promise((l,f)=>{g.addEventListener("error",()=>{f(g.error)}),g.addEventListener("upgradeneeded",()=>{const _=g.result;try{_.createObjectStore(pu,{keyPath:No})}catch(M){f(M)}}),g.addEventListener("success",(0,w.Z)(function*(){const _=g.result;_.objectStoreNames.contains(pu)?l(_):(_.close(),yield function gu(){const g=indexedDB.deleteDatabase(Ro);return new so(g).toPromise()}(),l(yield ua()))}))})}function oo(g,l,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,w.Z)(function*(g,l,f){const _=aa(g,!0).put({[No]:l,value:f});return new so(_).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,w.Z)(function*(g,l){const f=aa(g,!1).get(l),_=yield new so(f).toPromise();return void 0===_?null:_.value})).apply(this,arguments)}function mu(g,l){const f=aa(g,!0).delete(l);return new so(f).toPromise()}const y=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,w.Z)(function*(){return f.db||(f.db=yield ua()),f.db})()}_withRetries(f){var _=this;return(0,w.Z)(function*(){let M=0;for(;;)try{const j=yield _._openDb();return yield f(j)}catch(j){if(M++>3)throw j;_.db&&(_.db.close(),_.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,w.Z)(function*(){return io()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,w.Z)(function*(){f.receiver=cs._getInstance(function Qc(){return io()?self:null}()),f.receiver._subscribe("keyChanged",function(){var _=(0,w.Z)(function*(M,j){return{keyProcessed:(yield f._poll()).includes(j.key)}});return function(M,j){return _.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var _=(0,w.Z)(function*(M,j){return["keyChanged"]});return function(M,j){return _.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,w.Z)(function*(){var _,M;if(f.activeServiceWorker=yield function Mn(){return As.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new sa(f.activeServiceWorker);const j=yield f.sender._send("ping",{},800);!j||(null===(_=j[0])||void 0===_?void 0:_.fulfilled)&&(null===(M=j[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var _=this;return(0,w.Z)(function*(){if(_.sender&&_.activeServiceWorker&&function Bh(){var g;return(null===(g=null==navigator?void 0:navigator.serviceWorker)||void 0===g?void 0:g.controller)||null}()===_.activeServiceWorker)try{yield _.sender._send("keyChanged",{key:f},_.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const f=yield ua();return yield oo(f,no,"1"),yield mu(f,no),!0}catch(f){}return!1})()}_withPendingWrite(f){var _=this;return(0,w.Z)(function*(){_.pendingWrites++;try{yield f()}finally{_.pendingWrites--}})()}_set(f,_){var M=this;return(0,w.Z)(function*(){return M._withPendingWrite((0,w.Z)(function*(){return yield M._withRetries(j=>oo(j,f,_)),M.localCache[f]=_,M.notifyServiceWorker(f)}))})()}_get(f){var _=this;return(0,w.Z)(function*(){const M=yield _._withRetries(j=>function nc(g,l){return ca.apply(this,arguments)}(j,f));return _.localCache[f]=M,M})()}_remove(f){var _=this;return(0,w.Z)(function*(){return _._withPendingWrite((0,w.Z)(function*(){return yield _._withRetries(M=>mu(M,f)),delete _.localCache[f],_.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,w.Z)(function*(){const _=yield f._withRetries(se=>{const De=aa(se,!1).getAll();return new so(De).toPromise()});if(!_)return[];if(0!==f.pendingWrites)return[];const M=[],j=new Set;for(const{fbase_key:se,value:De}of _)j.add(se),JSON.stringify(f.localCache[se])!==JSON.stringify(De)&&(f.notifyListeners(se,De),M.push(se));for(const se of Object.keys(f.localCache))f.localCache[se]&&!j.has(se)&&(f.notifyListeners(se,null),M.push(se));return M})()}notifyListeners(f,_){this.localCache[f]=_;const M=this.listeners[f];if(M)for(const j of Array.from(M))j(_)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,_){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(_)}_removeListener(f,_){this.listeners[f]&&(this.listeners[f].delete(_),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function T(g,l){return $t(g,"POST","/v2/accounts/mfaSignIn:start",an(g,l))}function Z(){return(Z=(0,w.Z)(function*(g){return(yield $t(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Oe(g){return new Promise((l,f)=>{const _=document.createElement("script");_.setAttribute("src",g),_.onload=l,_.onerror=M=>{const j=Le("internal-error");j.customData=M,f(j)},_.type="text/javascript",_.charset="UTF-8",function te(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(_)})}function wt(g){return`__${g}${Math.floor(1e6*Math.random())}`}const pn=1e12;class kn{constructor(l){this.auth=l,this.counter=pn,this._widgets=new Map}render(l,f){const _=this.counter;return this._widgets.set(_,new Ti(l,this.auth.name,f||{})),this.counter++,_}reset(l){var f;const _=l||pn;null===(f=this._widgets.get(_))||void 0===f||f.delete(),this._widgets.delete(_)}getResponse(l){var f;return(null===(f=this._widgets.get(l||pn))||void 0===f?void 0:f.getResponse())||""}execute(l){var f=this;return(0,w.Z)(function*(){var _;return null===(_=f._widgets.get(l||pn))||void 0===_||_.execute(),""})()}}class Ti{constructor(l,f,_){this.params=_,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof l?document.getElementById(l):l;Ee(M,"argument-error",{appName:f}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pi(g){const l=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<g;_++)l.push(f.charAt(Math.floor(Math.random()*f.length)));return l.join("")}(50);const{callback:l,"expired-callback":f}=this.params;if(l)try{l(this.responseToken)}catch(_){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(_){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Oo=wt("rcb"),yu=new vn(3e4,6e4);class Ba{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wn().grecaptcha}load(l,f=""){return Ee(function Jc(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(f),l,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Wn().grecaptcha):new Promise((_,M)=>{const j=Wn().setTimeout(()=>{M(Le(l,"network-request-failed"))},yu.get());Wn()[Oo]=()=>{Wn().clearTimeout(j),delete Wn()[Oo];const De=Wn().grecaptcha;if(!De)return void M(Le(l,"internal-error"));const dt=De.render;De.render=(St,jt)=>{const Lt=dt(St,jt);return this.counter++,Lt},this.hostLanguage=f,_(De)},Oe(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Oo,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(j),M(Le(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){return!!Wn().grecaptcha&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class My{load(l){return(0,w.Z)(function*(){return new kn(l)})()}clearedOneInstance(){}}const Yr="recaptcha",$p={theme:"light",type:"image"};class Ry{constructor(l,f=Object.assign({},$p),_){this.parameters=f,this.type=Yr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=K(_),this.isInvisible="invisible"===this.parameters.size,Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof l?document.getElementById(l):l;Ee(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new My:new Ba,this.validateStartingState()}verify(){var l=this;return(0,w.Z)(function*(){l.assertNotDestroyed();const f=yield l.render(),_=l.getAssertedRecaptcha();return _.getResponse(f)||new Promise(j=>{const se=De=>{!De||(l.tokenChangeListeners.delete(se),j(De))};l.tokenChangeListeners.add(se),l.isInvisible&&_.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){Ee(!this.parameters.sitekey,this.auth,"argument-error"),Ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return f=>{if(this.tokenChangeListeners.forEach(_=>_(f)),"function"==typeof l)l(f);else if("string"==typeof l){const _=Wn()[l];"function"==typeof _&&_(f)}}}assertNotDestroyed(){Ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,w.Z)(function*(){if(yield l.init(),!l.widgetId){let f=l.container;if(!l.isInvisible){const _=document.createElement("div");f.appendChild(_),f=_}l.widgetId=l.getAssertedRecaptcha().render(f,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,w.Z)(function*(){Ee(un()&&!io(),l.auth,"internal-error"),yield function Ny(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const f=yield function L(g){return Z.apply(this,arguments)}(l.auth);Ee(f,l.auth,"internal-error"),l.parameters.sitekey=f})()}getAssertedRecaptcha(){return Ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ja{constructor(l,f){this.verificationId=l,this.onConfirmation=f}confirm(l){const f=Si._fromVerification(this.verificationId,l);return this.onConfirmation(f)}}function Fr(){return(Fr=(0,w.Z)(function*(g,l,f){const _=K(g),M=yield Ar(_,l,(0,H.m9)(f));return new ja(M,j=>At(_,j))})).apply(this,arguments)}function la(){return(la=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g);yield F(!1,_,"phone");const M=yield Ar(_.auth,l,(0,H.m9)(f));return new ja(M,j=>B(_,j))})).apply(this,arguments)}function el(){return(el=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g),M=yield Ar(_.auth,l,(0,H.m9)(f));return new ja(M,j=>de(_,j))})).apply(this,arguments)}function Ar(g,l,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,w.Z)(function*(g,l,f){var _;const M=yield f.verify();try{let j;if(Ee("string"==typeof M,g,"argument-error"),Ee(f.type===Yr,g,"argument-error"),j="string"==typeof l?{phoneNumber:l}:l,"session"in j){const se=j.session;if("phoneNumber"in j)return Ee("enroll"===se.type,g,"internal-error"),(yield Fa(g,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{Ee("signin"===se.type,g,"internal-error");const De=(null===(_=j.multiFactorHint)||void 0===_?void 0:_.uid)||j.multiFactorUid;return Ee(De,g,"missing-multi-factor-info"),(yield T(g,{mfaPendingCredential:se.credential,mfaEnrollmentId:De,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield Ps(g,{phoneNumber:j.phoneNumber,recaptchaToken:M});return se}}finally{f._reset()}})).apply(this,arguments)}function da(){return(da=(0,w.Z)(function*(g,l){yield wn((0,H.m9)(g),l)})).apply(this,arguments)}let hs=(()=>{class g{constructor(f){this.providerId=g.PROVIDER_ID,this.auth=K(f)}verifyPhoneNumber(f,_){return Ar(this.auth,f,(0,H.m9)(_))}static credential(f,_){return Si._fromVerification(f,_)}static credentialFromResult(f){return g.credentialFromTaggedObject(f)}static credentialFromError(f){return g.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:_,temporaryProof:M}=f;return _&&M?Si._fromTokenResponse(_,M):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Po(g,l){return l?we(l):(Ee(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class rc extends Gt{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Xn(l,this._buildIdpRequest())}_linkToIdToken(l,f){return Xn(l,this._buildIdpRequest(f))}_getReauthenticationResolver(l){return Xn(l,this._buildIdpRequest())}_buildIdpRequest(l){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(f.idToken=l),f}}function tl(g){return xe(g.auth,new rc(g),g.bypassAuthState)}function Hp(g){const{auth:l,user:f}=g;return Ee(f,l,"internal-error"),U(f,new rc(g),g.bypassAuthState)}function $h(g){return $a.apply(this,arguments)}function $a(){return($a=(0,w.Z)(function*(g){const{auth:l,user:f}=g;return Ee(f,l,"internal-error"),wn(f,new rc(g),g.bypassAuthState)})).apply(this,arguments)}class Ji{constructor(l,f,_,M,j=!1){this.auth=l,this.resolver=_,this.user=M,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var l=this;return new Promise(function(){var f=(0,w.Z)(function*(_,M){l.pendingPromise={resolve:_,reject:M};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(j){l.reject(j)}});return function(_,M){return f.apply(this,arguments)}}())}onAuthEvent(l){var f=this;return(0,w.Z)(function*(){const{urlResponse:_,sessionId:M,postBody:j,tenantId:se,error:De,type:dt}=l;if(De)return void f.reject(De);const St={auth:f.auth,requestUri:_,sessionId:M,tenantId:se||void 0,postBody:j||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(dt)(St))}catch(jt){f.reject(jt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return tl;case"linkViaPopup":case"linkViaRedirect":return $h;case"reauthViaPopup":case"reauthViaRedirect":return Hp;default:ze(this.auth,"internal-error")}}resolve(l){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nl=new vn(2e3,1e4);function xd(){return(xd=(0,w.Z)(function*(g,l,f){const _=K(g);st(g,l,is);const M=Po(_,f);return new vu(_,"signInViaPopup",l,M).executeNotNull()})).apply(this,arguments)}function ic(){return(ic=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g);st(_.auth,l,is);const M=Po(_.auth,f);return new vu(_.auth,"reauthViaPopup",l,M,_).executeNotNull()})).apply(this,arguments)}function rl(){return(rl=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g);st(_.auth,l,is);const M=Po(_.auth,f);return new vu(_.auth,"linkViaPopup",l,M,_).executeNotNull()})).apply(this,arguments)}let vu=(()=>{class g extends Ji{constructor(f,_,M,j,se){super(f,_,j,se),this.provider=M,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var f=this;return(0,w.Z)(function*(){const _=yield f.execute();return Ee(_,f.auth,"internal-error"),_})()}onExecution(){var f=this;return(0,w.Z)(function*(){Ie(1===f.filter.length,"Popup operations only handle one event");const _=Ni();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],_),f.authWindow.associatedEvent=_,f.resolver._originValidation(f.auth).catch(M=>{f.reject(M)}),f.resolver._isIframeWebStorageSupported(f.auth,M=>{M||f.reject(Le(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(Le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const f=()=>{var _,M;this.pollId=(null===(M=null===(_=this.authWindow)||void 0===_?void 0:_.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Le(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,nl.get())};f()}}return g.currentPopupAction=null,g})();const _u=new Map;class ko extends Ji{constructor(l,f,_=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,_),this.eventId=null}execute(){var l=()=>super.execute,f=this;return(0,w.Z)(function*(){let _=_u.get(f.auth._key());if(!_){try{const j=(yield function sc(g,l){return Nd.apply(this,arguments)}(f.resolver,f.auth))?yield l().call(f):null;_=()=>Promise.resolve(j)}catch(M){_=()=>Promise.reject(M)}_u.set(f.auth._key(),_)}return f.bypassAuthState||_u.set(f.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(l){var f=()=>super.onAuthEvent,_=this;return(0,w.Z)(function*(){if("signInViaRedirect"===l.type)return f().call(_,l);if("unknown"!==l.type){if(l.eventId){const M=yield _.auth._redirectUserForId(l.eventId);if(M)return _.user=M,f().call(_,l);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function Nd(){return(Nd=(0,w.Z)(function*(g,l){const f=Od(l),_=Xi(g);if(!(yield _._isAvailable()))return!1;const M="true"===(yield _._get(f));return yield _._remove(f),M})).apply(this,arguments)}function ha(g,l){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,w.Z)(function*(g,l){return Xi(g)._set(Od(l),"true")})).apply(this,arguments)}function Xi(g){return we(g._redirectPersistence)}function Od(g){return ae("pendingRedirect",g.config.apiKey,g.name)}function Pd(){return(Pd=(0,w.Z)(function*(g,l,f){const _=K(g);st(g,l,is);const M=Po(_,f);return yield ha(M,_),M._openRedirect(_,l,"signInViaRedirect")})).apply(this,arguments)}function kd(){return(kd=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g);st(_.auth,l,is);const M=Po(_.auth,f);yield ha(M,_.auth);const j=yield Wa(_);return M._openRedirect(_.auth,l,"reauthViaRedirect",j)})).apply(this,arguments)}function Ld(){return(Ld=(0,w.Z)(function*(g,l,f){const _=(0,H.m9)(g);st(_.auth,l,is);const M=Po(_.auth,f);yield F(!1,_,l.providerId),yield ha(M,_.auth);const j=yield Wa(_);return M._openRedirect(_.auth,l,"linkViaRedirect",j)})).apply(this,arguments)}function za(){return(za=(0,w.Z)(function*(g,l){return yield K(g)._initializationPromise,ac(g,l,!1)})).apply(this,arguments)}function ac(g,l){return si.apply(this,arguments)}function si(){return(si=(0,w.Z)(function*(g,l,f=!1){const _=K(g),M=Po(_,l),se=yield new ko(_,M,f).execute();return se&&!f&&(delete se.user._redirectEventId,yield _._persistUserIfCurrent(se.user),yield _._setRedirectUser(null,l)),se})).apply(this,arguments)}function Wa(g){return fs.apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(g){const l=Ni(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class Ud{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let f=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(l,_)&&(f=!0,this.sendToConsumer(l,_),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function wu(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=l,f=!0)),f}sendToConsumer(l,f){var _;if(l.error&&!Br(l)){const M=(null===(_=l.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";f.onError(Le(this.auth,M))}else f.onAuthEvent(l)}isEventForConsumer(l,f){const _=null===f.eventId||!!l.eventId&&l.eventId===f.eventId;return f.filter.includes(l.type)&&_}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rt(l))}saveEventToCache(l){this.cachedEventUids.add(rt(l)),this.lastProcessedEventTime=Date.now()}}function rt(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function Br({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===(null==l?void 0:l.code)}function Du(g){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,w.Z)(function*(g,l={}){return $t(g,"GET","/v1/projects",l)})).apply(this,arguments)}const tn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gp=/^https?/;function Te(){return(Te=(0,w.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield Du(g);for(const f of l)try{if(Ye(f))return}catch(_){}ze(g,"unauthorized-domain")})).apply(this,arguments)}function Ye(g){const l=Ut(),{protocol:f,hostname:_}=new URL(l);if(g.startsWith("chrome-extension://")){const se=new URL(g);return""===se.hostname&&""===_?"chrome-extension:"===f&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===f&&se.hostname===_}if(!Gp.test(f))return!1;if(tn.test(g))return _===g;const M=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(_)}const mi=new vn(3e4,6e4);function zh(){const g=Wn().___jsl;if(null==g?void 0:g.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let f=0;f<g.CP.length;f++)g.CP[f]=null}let sl=null;function Py(g){return sl=sl||function Wh(g){return new Promise((l,f)=>{var _,M,j;function se(){zh(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{zh(),f(Le(g,"network-request-failed"))},timeout:mi.get()})}if(null===(M=null===(_=Wn().gapi)||void 0===_?void 0:_.iframes)||void 0===M?void 0:M.Iframe)l(gapi.iframes.getContext());else{if(!(null===(j=Wn().gapi)||void 0===j?void 0:j.load)){const De=wt("iframefcb");return Wn()[De]=()=>{gapi.load?se():f(Le(g,"network-request-failed"))},Oe(`https://apis.google.com/js/api.js?onload=${De}`).catch(dt=>f(dt))}se()}}).catch(l=>{throw sl=null,l})}(g),sl}const zp=new vn(5e3,15e3),ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yi(g){const l=g.config;Ee(l.authDomain,g,"auth-domain-config-required");const f=l.emulator?In(l,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,_={apiKey:l.apiKey,appName:g.name,v:ce.SDK_VERSION},M=qh.get(g.config.apiHost);M&&(_.eid=M);const j=g._getFrameworks();return j.length&&(_.fw=j.join(",")),`${f}?${(0,H.xO)(_).slice(1)}`}function al(){return al=(0,w.Z)(function*(g){const l=yield Py(g),f=Wn().gapi;return Ee(f,g,"internal-error"),l.open({where:document.body,url:yi(g),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ol,dontclear:!0},_=>new Promise(function(){var M=(0,w.Z)(function*(j,se){yield _.restyle({setHideOnLeave:!1});const De=Le(g,"network-request-failed"),dt=Wn().setTimeout(()=>{se(De)},zp.get());function St(){Wn().clearTimeout(dt),j(_)}_.ping(St).then(St,()=>{se(De)})});return function(j,se){return M.apply(this,arguments)}}()))}),al.apply(this,arguments)}const _n={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cl{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(l){}}}function Vd(g,l,f,_,M,j){Ee(g.config.authDomain,g,"auth-domain-config-required"),Ee(g.config.apiKey,g,"invalid-api-key");const se={apiKey:g.config.apiKey,appName:g.name,authType:f,redirectUrl:_,v:ce.SDK_VERSION,eventId:M};if(l instanceof is){l.setDefaultLanguage(g.languageCode),se.providerId=l.providerId||"",(0,H.xb)(l.getCustomParameters())||(se.customParameters=JSON.stringify(l.getCustomParameters()));for(const[dt,St]of Object.entries(j||{}))se[dt]=St}if(l instanceof Cr){const dt=l.getScopes().filter(St=>""!==St);dt.length>0&&(se.scopes=dt.join(","))}g.tenantId&&(se.tid=g.tenantId);const De=se;for(const dt of Object.keys(De))void 0===De[dt]&&delete De[dt];return`${function vi({config:g}){return g.emulator?In(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,H.xO)(De).slice(1)}`}const Bi="webStorageSupport";class Lo extends class ky{constructor(l){this.factorId=l}_process(l,f,_){switch(f.type){case"enroll":return this._finalizeEnroll(l,f.credential,_);case"signin":return this._finalizeSignIn(l,f.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Lo(l)}_finalizeEnroll(l,f,_){return function ec(g,l){return $t(g,"POST","/v2/accounts/mfaEnrollment:finalize",an(g,l))}(l,{idToken:f,displayName:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,f){return function x(g,l){return $t(g,"POST","/v2/accounts/mfaSignIn:finalize",an(g,l))}(l,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let jr=(()=>{class g{constructor(){}static assertion(f){return Lo._fromCredential(f)}}return g.FACTOR_ID="phone",g})();var qa="@firebase/auth",Bd="0.19.11";class jd{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var f=this;return(0,w.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const f=this.auth.onIdTokenChanged(_=>{var M;l((null===(M=_)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(l,f),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const f=this.internalListeners.get(l);!f||(this.internalListeners.delete(l),f(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ps(){return window}function ut(){return(ut=(0,w.Z)(function*(g,l,f){var _;const{BuildInfo:M}=ps();Ie(l.sessionId,"AuthEvent did not contain a session ID");const j=yield Zp(l.sessionId),se={};return Dn()?se.ibi=M.packageName:gn()?se.apn=M.packageName:ze(g,"operation-not-supported-in-this-environment"),M.displayName&&(se.appDisplayName=M.displayName),se.sessionId=j,Vd(g,f,l.type,void 0,null!==(_=l.eventId)&&void 0!==_?_:void 0,se)})).apply(this,arguments)}function gs(){return(gs=(0,w.Z)(function*(g){const{BuildInfo:l}=ps(),f={};Dn()?f.iosBundleId=l.packageName:gn()?f.androidPackageName=l.packageName:ze(g,"operation-not-supported-in-this-environment"),yield Du(g,f)})).apply(this,arguments)}function ga(){return(ga=(0,w.Z)(function*(g,l,f){const{cordova:_}=ps();let M=()=>{};try{yield new Promise((j,se)=>{let De=null;function dt(){var Lt;j();const sr=null===(Lt=_.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof sr&&sr(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function St(){De||(De=window.setTimeout(()=>{se(Le(g,"redirect-cancelled-by-user"))},2e3))}function jt(){"visible"===(null==document?void 0:document.visibilityState)&&St()}l.addPassiveListener(dt),document.addEventListener("resume",St,!1),gn()&&document.addEventListener("visibilitychange",jt,!1),M=()=>{l.removePassiveListener(dt),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",jt,!1),De&&window.clearTimeout(De)}})}finally{M()}})).apply(this,arguments)}function Zp(g){return Za.apply(this,arguments)}function Za(){return(Za=(0,w.Z)(function*(g){const l=Qh(g),f=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(f)).map(M=>M.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qh(g){if(Ie(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),f=new Uint8Array(l);for(let _=0;_<g.length;_++)f[_]=g.charCodeAt(_);return f}!function qp(g){(0,ce._registerComponent)(new ve.wA("auth",(l,{options:f})=>{const _=l.getProvider("app").getImmediate(),M=l.getProvider("heartbeat"),{apiKey:j,authDomain:se}=_.options;return((De,dt)=>{Ee(j&&!j.includes(":"),"invalid-api-key",{appName:De.name}),Ee(!(null==se?void 0:se.includes(":")),"argument-error",{appName:De.name});const St={apiKey:j,authDomain:se,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ai(g)},jt=new mn(De,dt,St);return function ie(g,l){const f=(null==l?void 0:l.persistence)||[],_=(Array.isArray(f)?f:[f]).map(we);(null==l?void 0:l.errorMap)&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(_,null==l?void 0:l.popupRedirectResolver)}(jt,f),jt})(_,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,f,_)=>{l.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new ve.wA("auth-internal",l=>{const f=K(l.getProvider("auth").getImmediate());return new jd(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(qa,Bd,function lc(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,ce.registerVersion)(qa,Bd,"esm2017")}("Browser");class dc extends Ud{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(l)),super.onEvent(l)}initialized(){var l=this;return(0,w.Z)(function*(){yield l.initPromise})()}}function Jh(g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,w.Z)(function*(g){const l=yield dl()._get(hl(g));return l&&(yield dl()._remove(hl(g))),l})).apply(this,arguments)}function Xh(){const g=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const _=Math.floor(Math.random()*l.length);g.push(l.charAt(_))}return g.join("")}function dl(){return we(ro)}function hl(g){return ae("authEvent",g.config.apiKey,g.name)}function nr(g){if(!(null==g?void 0:g.includes("?")))return{};const[l,...f]=g.split("?");return(0,H.zd)(f.join("?"))}function pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Le("no-auth-event")}}function pl(){var g;return(null===(g=null==self?void 0:self.location)||void 0===g?void 0:g.protocol)||null}function Gd(g=(0,H.z$)()){return!("file:"!==pl()&&"ionic:"!==pl()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function oi(){try{const g=self.localStorage,l=Ni();if(g)return g.setItem(l,"1"),g.removeItem(l),!function ya(g=(0,H.z$)()){return function Fy(){return(0,H.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gl(g=(0,H.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,H.hl)()}catch(g){return $r()&&(0,H.hl)()}return!1}function $r(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ml(){return(function Qp(){return"http:"===pl()||"https:"===pl()}()||(0,H.ru)()||Gd())&&!function Ja(){return(0,H.b$)()||(0,H.UG)()}()&&oi()&&!$r()}function zd(){return Gd()&&"undefined"!=typeof document}function va(){return(va=(0,w.Z)(function*(){return!!zd()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const ms={LOCAL:"local",NONE:"none",SESSION:"session"},mc=Ee,Kd="persistence";function Bo(g){return qd.apply(this,arguments)}function qd(){return(qd=(0,w.Z)(function*(g){yield g._initializationPromise;const l=Yd(),f=ae(Kd,g.config.apiKey,g.name);l&&l.setItem(f,g._getPersistence())})).apply(this,arguments)}function Yd(){var g;try{return(null===(g=function Wd(){return"undefined"!=typeof window?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch(l){return null}}const jo=Ee;class Hs{constructor(){this.browserResolver=we(class cc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cs,this._completeRedirectFn=ac}_openPopup(l,f,_,M){var j=this;return(0,w.Z)(function*(){var se;Ie(null===(se=j.eventManagers[l._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const De=Vd(l,f,_,Ut(),M);return function fa(g,l,f,_=500,M=600){const j=Math.max((window.screen.availHeight-M)/2,0).toString(),se=Math.max((window.screen.availWidth-_)/2,0).toString();let De="";const dt=Object.assign(Object.assign({},_n),{width:_.toString(),height:M.toString(),top:j,left:se}),St=(0,H.z$)().toLowerCase();f&&(De=Kn(St)?"_blank":f),pt(St)&&(l=l||"http://localhost",dt.scrollbars="yes");const jt=Object.entries(dt).reduce((sr,[Ss,vc])=>`${sr}${Ss}=${vc},`,"");if(function _t(g=(0,H.z$)()){var l;return Dn(g)&&!!(null===(l=window.navigator)||void 0===l?void 0:l.standalone)}(St)&&"_self"!==De)return function Zh(g,l){const f=document.createElement("a");f.href=g,f.target=l;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(_)}(l||"",De),new cl(null);const Lt=window.open(l||"",De,jt);Ee(Lt,g,"popup-blocked");try{Lt.focus()}catch(sr){}return new cl(Lt)}(l,De,Ni())})()}_openRedirect(l,f,_,M){var j=this;return(0,w.Z)(function*(){return yield j._originValidation(l),function oa(g){Wn().location.href=g}(Vd(l,f,_,Ut(),M)),new Promise(()=>{})})()}_initialize(l){const f=l._key();if(this.eventManagers[f]){const{manager:M,promise:j}=this.eventManagers[f];return M?Promise.resolve(M):(Ie(j,"If manager is not set, promise should be"),j)}const _=this.initAndGetManager(l);return this.eventManagers[f]={promise:_},_.catch(()=>{delete this.eventManagers[f]}),_}initAndGetManager(l){var f=this;return(0,w.Z)(function*(){const _=yield function Kp(g){return al.apply(this,arguments)}(l),M=new Ud(l);return _.register("authEvent",j=>(Ee(null==j?void 0:j.authEvent,l,"invalid-auth-event"),{status:M.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[l._key()]={manager:M},f.iframes[l._key()]=_,M})()}_isIframeWebStorageSupported(l,f){this.iframes[l._key()].send(Bi,{type:Bi},M=>{var j;const se=null===(j=null==M?void 0:M[0])||void 0===j?void 0:j[Bi];void 0!==se&&f(!!se),ze(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Et(g){return Te.apply(this,arguments)}(l)),this.originValidationPromises[f]}get _shouldInitProactively(){return ei()||Jt()||Dn()}}),this.cordovaResolver=we(class Hd{constructor(){this._redirectPersistence=Cs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ac}_initialize(l){var f=this;return(0,w.Z)(function*(){const _=l._key();let M=f.eventManagers.get(_);return M||(M=new dc(l),f.eventManagers.set(_,M),f.attachCallbackListeners(l,M)),M})()}_openPopup(l){ze(l,"operation-not-supported-in-this-environment")}_openRedirect(l,f,_,M){var j=this;return(0,w.Z)(function*(){!function Uo(g){var l,f,_,M,j,se,De,dt,St,jt;const Lt=ps();Ee("function"==typeof(null===(l=null==Lt?void 0:Lt.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ee(void 0!==(null===(f=null==Lt?void 0:Lt.BuildInfo)||void 0===f?void 0:f.packageName),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ee("function"==typeof(null===(j=null===(M=null===(_=null==Lt?void 0:Lt.cordova)||void 0===_?void 0:_.plugins)||void 0===M?void 0:M.browsertab)||void 0===j?void 0:j.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(dt=null===(De=null===(se=null==Lt?void 0:Lt.cordova)||void 0===se?void 0:se.plugins)||void 0===De?void 0:De.browsertab)||void 0===dt?void 0:dt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ee("function"==typeof(null===(jt=null===(St=null==Lt?void 0:Lt.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===jt?void 0:jt.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const se=yield j._initialize(l);yield se.initialized(),se.resetRedirect(),function Ha(){_u.clear()}(),yield j._originValidation(l);const De=function Ya(g,l,f=null){return{type:l,eventId:f,urlResponse:null,sessionId:Xh(),postBody:null,tenantId:g.tenantId,error:Le(g,"no-auth-event")}}(l,_,M);yield function Yp(g,l){return dl()._set(hl(g),l)}(l,De);const dt=yield function Yh(g,l,f){return ut.apply(this,arguments)}(l,De,f),St=yield function js(g){const{cordova:l}=ps();return new Promise(f=>{l.plugins.browsertab.isAvailable(_=>{let M=null;_?l.plugins.browsertab.openUrl(g):M=l.InAppBrowser.open(g,function jn(g=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),f(M)})})}(dt);return function $s(g,l,f){return ga.apply(this,arguments)}(l,se,St)})()}_isIframeWebStorageSupported(l,f){throw new Error("Method not implemented.")}_originValidation(l){const f=l._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function $d(g){return gs.apply(this,arguments)}(l)),this.originValidationPromises[f]}attachCallbackListeners(l,f){const{universalLinks:_,handleOpenURL:M,BuildInfo:j}=ps(),se=setTimeout((0,w.Z)(function*(){yield Jh(l),f.onEvent(pc())}),500),De=function(){var jt=(0,w.Z)(function*(Lt){clearTimeout(se);const sr=yield Jh(l);let Ss=null;sr&&(null==Lt?void 0:Lt.url)&&(Ss=function hc(g,l){var f,_;const M=function fc(g){const l=nr(g),f=l.link?decodeURIComponent(l.link):void 0,_=nr(f).link,M=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return nr(M).link||M||_||f||g}(l);if(M.includes("/__/auth/callback")){const j=nr(M),se=j.firebaseError?function Ci(g){try{return JSON.parse(g)}catch(l){return null}}(decodeURIComponent(j.firebaseError)):null,De=null===(_=null===(f=null==se?void 0:se.code)||void 0===f?void 0:f.split("auth/"))||void 0===_?void 0:_[1],dt=De?Le(De):null;return dt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:M,postBody:null}}return null}(sr,Lt.url)),f.onEvent(Ss||pc())});return function(sr){return jt.apply(this,arguments)}}();void 0!==_&&"function"==typeof _.subscribe&&_.subscribe(null,De);const dt=M,St=`${j.packageName.toLowerCase()}://`;ps().handleOpenURL=function(){var jt=(0,w.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(St)&&De({url:Lt}),"function"==typeof dt)try{dt(Lt)}catch(sr){console.error(sr)}});return function(Lt){return jt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cs,this._completeRedirectFn=ac}_initialize(l){var f=this;return(0,w.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,f,_,M){var j=this;return(0,w.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openPopup(l,f,_,M)})()}_openRedirect(l,f,_,M){var j=this;return(0,w.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._openRedirect(l,f,_,M)})()}_isIframeWebStorageSupported(l,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,f)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return zd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return jo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,w.Z)(function*(){if(l.underlyingResolver)return;const f=yield function Oi(){return va.apply(this,arguments)}();l.underlyingResolver=f?l.cordovaResolver:l.browserResolver})()}}function Xa(g){return g.unwrap()}function Tu(g){return vl(g)}function vl(g){const{_tokenResponse:l}=g instanceof H.ZR?g.customData:g;if(!l)return null;if(!(g instanceof H.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return hs.credentialFromResult(g);const f=l.providerId;if(!f||"password"===f)return null;let _;switch(f){case"google.com":_=Ts;break;case"facebook.com":_=Di;break;case"github.com":_=Zs;break;case"twitter.com":_=qi;break;default:const{oauthIdToken:M,oauthAccessToken:j,oauthTokenSecret:se,pendingToken:De,nonce:dt}=l;return j||se||M||De?De?f.startsWith("saml.")?ri._create(f,De):wi._fromParams({providerId:f,signInMethod:f,pendingToken:De,idToken:M,accessToken:j}):new zi(f).credential({idToken:M,accessToken:j,rawNonce:dt}):null}return g instanceof H.ZR?_.credentialFromError(g):_.credentialFromResult(g)}function ai(g,l){return l.catch(f=>{throw f instanceof H.ZR&&function Qd(g,l){var f;const _=null===(f=l.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===l.code)l.resolver=new tf(g,function Mo(g,l){var f;const _=(0,H.m9)(g),M=l;return Ee(l.customData.operationType,_,"argument-error"),Ee(null===(f=M.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,_,"argument-error"),eo._fromError(_,M)}(g,l));else if(_){const M=vl(l),j=l;M&&(j.credential=M,j.tenantId=_.tenantId||void 0,j.email=_.email||void 0,j.phoneNumber=_.phoneNumber||void 0)}}(g,f),f}).then(f=>{const M=f.user;return{operationType:f.operationType,credential:Tu(f),additionalUserInfo:kr(f),user:ys.getOrCreate(M)}})}function Ea(g,l){return es.apply(this,arguments)}function es(){return(es=(0,w.Z)(function*(g,l){const f=yield l;return{verificationId:f.verificationId,confirm:_=>ai(g,f.confirm(_))}})).apply(this,arguments)}class tf{constructor(l,f){this.resolver=f,this.auth=function yl(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ai(Xa(this.auth),this.resolver.resolveSignIn(l))}}class ys{constructor(l){this._delegate=l,this.multiFactor=function La(g){const l=(0,H.m9)(g);return to.has(l)||to.set(l,Mi._fromUser(l)),to.get(l)}(l)}static getOrCreate(l){return ys.USER_MAP.has(l)||ys.USER_MAP.set(l,new ys(l)),ys.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var f=this;return(0,w.Z)(function*(){return ai(f.auth,B(f._delegate,l))})()}linkWithPhoneNumber(l,f){var _=this;return(0,w.Z)(function*(){return Ea(_.auth,function Xc(g,l,f){return la.apply(this,arguments)}(_._delegate,l,f))})()}linkWithPopup(l){var f=this;return(0,w.Z)(function*(){return ai(f.auth,function Rd(g,l,f){return rl.apply(this,arguments)}(f._delegate,l,Hs))})()}linkWithRedirect(l){var f=this;return(0,w.Z)(function*(){return yield Bo(K(f.auth)),function gi(g,l,f){return function Fd(g,l,f){return Ld.apply(this,arguments)}(g,l,f)}(f._delegate,l,Hs)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var f=this;return(0,w.Z)(function*(){return ai(f.auth,de(f._delegate,l))})()}reauthenticateWithPhoneNumber(l,f){return Ea(this.auth,function Sd(g,l,f){return el.apply(this,arguments)}(this._delegate,l,f))}reauthenticateWithPopup(l){return ai(this.auth,function Md(g,l,f){return ic.apply(this,arguments)}(this._delegate,l,Hs))}reauthenticateWithRedirect(l){var f=this;return(0,w.Z)(function*(){return yield Bo(K(f.auth)),function oc(g,l,f){return function il(g,l,f){return kd.apply(this,arguments)}(g,l,f)}(f._delegate,l,Hs)})()}sendEmailVerification(l){return function Vs(g,l){return qu.apply(this,arguments)}(this._delegate,l)}unlink(l){var f=this;return(0,w.Z)(function*(){return yield function bi(g,l){return Fs.apply(this,arguments)}(f._delegate,l),f})()}updateEmail(l){return function Na(g,l){return hu((0,H.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function Oa(g,l){return hu((0,H.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function jh(g,l){return da.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function du(g,l){return Ao.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,f){return function Co(g,l,f){return Zu.apply(this,arguments)}(this._delegate,l,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ys.USER_MAP=new WeakMap;const Cu=Ee;let yc=(()=>{class g{constructor(f,_){if(this.app=f,_.isInitialized())return this._delegate=_.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:M}=f.options;Cu(M,"invalid-api-key",{appName:f.name}),Cu(M,"invalid-api-key",{appName:f.name});const j="undefined"!=typeof window?Hs:void 0;this._delegate=_.initialize({options:{persistence:nf(M,f.name),popupRedirectResolver:j}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ys.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,_){!function Ue(g,l,f){const _=K(g);Ee(_._canInitEmulator,_,"emulator-config-failed"),Ee(/^https?:\/\//.test(l),_,"invalid-emulator-scheme");const M=!!(null==f?void 0:f.disableWarnings),j=gt(l),{host:se,port:De}=function dn(g){const l=gt(g),f=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!f)return{host:"",port:null};const _=f[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(_);if(M){const j=M[1];return{host:j,port:xt(_.substr(j.length+1))}}{const[j,se]=_.split(":");return{host:j,port:xt(se)}}}(l);_.config.emulator={url:`${j}//${se}${null===De?"":`:${De}`}/`},_.settings.appVerificationDisabledForTesting=!0,_.emulatorConfig=Object.freeze({host:se,port:De,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function Qn(){function g(){const l=document.createElement("p"),f=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,f,_)}applyActionCode(f){return function bo(g,l){return Ze.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return sn(this._delegate,f)}confirmPasswordReset(f,_){return function ss(g,l,f){return Ls.apply(this,arguments)}(this._delegate,f,_)}createUserWithEmailAndPassword(f,_){var M=this;return(0,w.Z)(function*(){return ai(M._delegate,function ra(g,l,f){return Ui.apply(this,arguments)}(M._delegate,f,_))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function To(g,l){return os.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function Ra(g,l){const f=Gi.parseLink(l);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,w.Z)(function*(){Cu(ml(),f._delegate,"operation-not-supported-in-this-environment");const _=yield function Iu(g,l){return za.apply(this,arguments)}(f._delegate,Hs);return _?ai(f._delegate,Promise.resolve(_)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function gc(g,l){K(g)._logFramework(l)}(this._delegate,f)}onAuthStateChanged(f,_,M){const{next:j,error:se,complete:De}=_l(f,_,M);return this._delegate.onAuthStateChanged(j,se,De)}onIdTokenChanged(f,_,M){const{next:j,error:se,complete:De}=_l(f,_,M);return this._delegate.onIdTokenChanged(j,se,De)}sendSignInLinkToEmail(f,_){return function Ma(g,l,f){return cu.apply(this,arguments)}(this._delegate,f,_)}sendPasswordResetEmail(f,_){return function qr(g,l,f){return hi.apply(this,arguments)}(this._delegate,f,_||void 0)}setPersistence(f){var _=this;return(0,w.Z)(function*(){let M;switch(function _a(g,l){mc(Object.values(ms).includes(l),g,"invalid-persistence-type"),(0,H.b$)()?mc(l!==ms.SESSION,g,"unsupported-persistence-type"):(0,H.UG)()?mc(l===ms.NONE,g,"unsupported-persistence-type"):$r()?mc(l===ms.NONE||l===ms.LOCAL&&(0,H.hl)(),g,"unsupported-persistence-type"):mc(l===ms.NONE||oi(),g,"unsupported-persistence-type")}(_._delegate,f),f){case ms.SESSION:M=Cs;break;case ms.LOCAL:M=(yield we(y)._isAvailable())?y:ro;break;case ms.NONE:M=q;break;default:return ze("argument-error",{appName:_._delegate.name})}return _._delegate.setPersistence(M)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return ai(this._delegate,function Zi(g){return na.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return ai(this._delegate,At(this._delegate,f))}signInWithCustomToken(f){return ai(this._delegate,function Pn(g,l){return xn.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,_){return ai(this._delegate,function Us(g,l,f){return At((0,H.m9)(g),wo.credential(l,f))}(this._delegate,f,_))}signInWithEmailLink(f,_){return ai(this._delegate,function lu(g,l,f){return xi.apply(this,arguments)}(this._delegate,f,_))}signInWithPhoneNumber(f,_){return Ea(this._delegate,function Oy(g,l,f){return Fr.apply(this,arguments)}(this._delegate,f,_))}signInWithPopup(f){var _=this;return(0,w.Z)(function*(){return Cu(ml(),_._delegate,"operation-not-supported-in-this-environment"),ai(_._delegate,function ao(g,l,f){return xd.apply(this,arguments)}(_._delegate,f,Hs))})()}signInWithRedirect(f){var _=this;return(0,w.Z)(function*(){return Cu(ml(),_._delegate,"operation-not-supported-in-this-environment"),yield Bo(_._delegate),function Gh(g,l,f){return function Ga(g,l,f){return Pd.apply(this,arguments)}(g,l,f)}(_._delegate,f,Hs)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function Vr(g,l){return Xs.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=ms,g})();function _l(g,l,f){let _=g;"function"!=typeof g&&({next:_,error:l,complete:f}=g);const M=_;return{next:se=>M(se&&ys.getOrCreate(se)),error:l,complete:f}}function nf(g,l){const f=function Zd(g,l){const f=Yd();if(!f)return[];const _=ae(Kd,g,l);switch(f.getItem(_)){case ms.NONE:return[q];case ms.LOCAL:return[y,Cs];case ms.SESSION:return[Cs];default:return[]}}(g,l);if("undefined"!=typeof self&&!f.includes(y)&&f.push(y),"undefined"!=typeof window)for(const _ of[ro,Cs])f.includes(_)||f.push(_);return f.includes(q)||f.push(q),f}class El{constructor(){this.providerId="phone",this._delegate=new hs(Xa(R.Z.auth()))}static credential(l,f){return hs.credential(l,f)}verifyPhoneNumber(l,f){return this._delegate.verifyPhoneNumber(l,f)}unwrap(){return this._delegate}}El.PHONE_SIGN_IN_METHOD=hs.PHONE_SIGN_IN_METHOD,El.PROVIDER_ID=hs.PROVIDER_ID;const Jp=Ee;class rf{constructor(l,f,_=R.Z.app()){var M;Jp(null===(M=_.options)||void 0===M?void 0:M.apiKey,"invalid-api-key",{appName:_.name}),this._delegate=new Ry(l,f,_.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function of(g){g.INTERNAL.registerComponent(new ve.wA("auth-compat",l=>{const f=l.getProvider("app-compat").getImmediate(),_=l.getProvider("auth");return new yc(f,_)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wo,FacebookAuthProvider:Di,GithubAuthProvider:Zs,GoogleAuthProvider:Ts,OAuthProvider:zi,SAMLAuthProvider:Ki,PhoneAuthProvider:El,PhoneMultiFactorGenerator:jr,RecaptchaVerifier:rf,TwitterAuthProvider:qi,Auth:yc,AuthCredential:Gt,Error:H.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.2.11")}(R.Z)},8306:(Dt,Me,P)=>{P.d(Me,{y:()=>J});var w=P(2961),R=P(727),H=P(8822),ce=P(4671);var ve=P(2416),he=P(576),ge=P(2806);let J=(()=>{class Pe{constructor(et){et&&(this._subscribe=et)}lift(et){const Ae=new Pe;return Ae.source=this,Ae.operator=et,Ae}subscribe(et,Ae,je){const ht=function ke(Pe){return Pe&&Pe instanceof w.Lv||function ue(Pe){return Pe&&(0,he.m)(Pe.next)&&(0,he.m)(Pe.error)&&(0,he.m)(Pe.complete)}(Pe)&&(0,R.Nn)(Pe)}(et)?et:new w.Hp(et,Ae,je);return(0,ge.x)(()=>{const{operator:ct,source:ze}=this;ht.add(ct?ct.call(ht,ze):ze?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(et){try{return this._subscribe(et)}catch(Ae){et.error(Ae)}}forEach(et,Ae){return new(Ae=Y(Ae))((je,ht)=>{const ct=new w.Hp({next:ze=>{try{et(ze)}catch(Le){ht(Le),ct.unsubscribe()}},error:ht,complete:je});this.subscribe(ct)})}_subscribe(et){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(et)}[H.L](){return this}pipe(...et){return function _e(Pe){return 0===Pe.length?ce.y:1===Pe.length?Pe[0]:function(et){return Pe.reduce((Ae,je)=>je(Ae),et)}}(et)(this)}toPromise(et){return new(et=Y(et))((Ae,je)=>{let ht;this.subscribe(ct=>ht=ct,ct=>je(ct),()=>Ae(ht))})}}return Pe.create=Ke=>new Pe(Ke),Pe})();function Y(Pe){var Ke;return null!==(Ke=null!=Pe?Pe:ve.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Dt,Me,P)=>{P.d(Me,{x:()=>ve});var w=P(8306),R=P(727);const ce=(0,P(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=P(8737),_e=P(2806);let ve=(()=>{class ge extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const ue=new he(this,this);return ue.operator=Y,ue}_throwIfClosed(){if(this.closed)throw new ce}next(Y){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(Y)}})}error(Y){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:ue}=this;for(;ue.length;)ue.shift().error(Y)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:ue,isStopped:ke,observers:Pe}=this;return ue||ke?R.Lc:(this.currentObservers=null,Pe.push(Y),new R.w0(()=>{this.currentObservers=null,(0,fe.P)(Pe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:ue,thrownError:ke,isStopped:Pe}=this;ue?Y.error(ke):Pe&&Y.complete()}asObservable(){const Y=new w.y;return Y.source=this,Y}}return ge.create=(J,Y)=>new he(J,Y),ge})();class he extends ve{constructor(J,Y){super(),this.destination=J,this.source=Y}next(J){var Y,ue;null===(ue=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===ue||ue.call(Y,J)}error(J){var Y,ue;null===(ue=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===ue||ue.call(Y,J)}complete(){var J,Y;null===(Y=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===Y||Y.call(J)}_subscribe(J){var Y,ue;return null!==(ue=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(J))&&void 0!==ue?ue:R.Lc}}},2961:(Dt,Me,P)=>{P.d(Me,{Hp:()=>et,Lv:()=>ue});var w=P(576),R=P(727),H=P(2416),ce=P(7849);function fe(){}const _e=ge("C",void 0,void 0);function ge(ze,Le,Fe){return{kind:ze,value:Le,error:Fe}}var J=P(3410),Y=P(2806);class ue extends R.w0{constructor(Le){super(),this.isStopped=!1,Le?(this.destination=Le,(0,R.Nn)(Le)&&Le.add(this)):this.destination=ct}static create(Le,Fe,st){return new et(Le,Fe,st)}next(Le){this.isStopped?ht(function he(ze){return ge("N",ze,void 0)}(Le),this):this._next(Le)}error(Le){this.isStopped?ht(function ve(ze){return ge("E",void 0,ze)}(Le),this):(this.isStopped=!0,this._error(Le))}complete(){this.isStopped?ht(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Le){this.destination.next(Le)}_error(Le){try{this.destination.error(Le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Pe(ze,Le){return ke.call(ze,Le)}class Ke{constructor(Le){this.partialObserver=Le}next(Le){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(Le)}catch(st){Ae(st)}}error(Le){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(Le)}catch(st){Ae(st)}else Ae(Le)}complete(){const{partialObserver:Le}=this;if(Le.complete)try{Le.complete()}catch(Fe){Ae(Fe)}}}class et extends ue{constructor(Le,Fe,st){let tt;if(super(),(0,w.m)(Le)||!Le)tt={next:null!=Le?Le:void 0,error:null!=Fe?Fe:void 0,complete:null!=st?st:void 0};else{let Ee;this&&H.v.useDeprecatedNextContext?(Ee=Object.create(Le),Ee.unsubscribe=()=>this.unsubscribe(),tt={next:Le.next&&Pe(Le.next,Ee),error:Le.error&&Pe(Le.error,Ee),complete:Le.complete&&Pe(Le.complete,Ee)}):tt=Le}this.destination=new Ke(tt)}}function Ae(ze){H.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(ze):(0,ce.h)(ze)}function ht(ze,Le){const{onStoppedNotification:Fe}=H.v;Fe&&J.z.setTimeout(()=>Fe(ze,Le))}const ct={closed:!0,next:fe,error:function je(ze){throw ze},complete:fe}},727:(Dt,Me,P)=>{P.d(Me,{Lc:()=>_e,w0:()=>fe,Nn:()=>ve});var w=P(576);const H=(0,P(3888).d)(ge=>function(Y){ge(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((ue,ke)=>`${ke+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ce=P(8737);class fe{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const Pe of Y)Pe.remove(this);else Y.remove(this);const{initialTeardown:ue}=this;if((0,w.m)(ue))try{ue()}catch(Pe){J=Pe instanceof H?Pe.errors:[Pe]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Pe of ke)try{he(Pe)}catch(Ke){J=null!=J?J:[],Ke instanceof H?J=[...J,...Ke.errors]:J.push(Ke)}}if(J)throw new H(J)}}add(J){var Y;if(J&&J!==this)if(this.closed)he(J);else{if(J instanceof fe){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(J)}}_hasParent(J){const{_parentage:Y}=this;return Y===J||Array.isArray(Y)&&Y.includes(J)}_addParent(J){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(J),Y):Y?[Y,J]:J}_removeParent(J){const{_parentage:Y}=this;Y===J?this._parentage=null:Array.isArray(Y)&&(0,ce.P)(Y,J)}remove(J){const{_finalizers:Y}=this;Y&&(0,ce.P)(Y,J),J instanceof fe&&J._removeParent(this)}}fe.EMPTY=(()=>{const ge=new fe;return ge.closed=!0,ge})();const _e=fe.EMPTY;function ve(ge){return ge instanceof fe||ge&&"closed"in ge&&(0,w.m)(ge.remove)&&(0,w.m)(ge.add)&&(0,w.m)(ge.unsubscribe)}function he(ge){(0,w.m)(ge)?ge():ge.unsubscribe()}},2416:(Dt,Me,P)=>{P.d(Me,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Dt,Me,P)=>{P.d(Me,{z:()=>fe});var w=P(8189),H=P(7669),ce=P(8996);function fe(..._e){return function R(){return(0,w.J)(1)}()((0,ce.D)(_e,(0,H.yG)(_e)))}},515:(Dt,Me,P)=>{P.d(Me,{E:()=>R});const R=new(P(8306).y)(fe=>fe.complete())},8996:(Dt,Me,P)=>{P.d(Me,{D:()=>Le});var w=P(8421),R=P(5363),H=P(9468),_e=P(8306),he=P(2202),ge=P(576),J=P(9672);function ue(Fe,st){if(!Fe)throw new Error("Iterable cannot be null");return new _e.y(tt=>{(0,J.f)(tt,st,()=>{const Ee=Fe[Symbol.asyncIterator]();(0,J.f)(tt,st,()=>{Ee.next().then(le=>{le.done?tt.complete():tt.next(le.value)})},0,!0)})})}var ke=P(3670),Pe=P(8239),Ke=P(1144),et=P(6495),Ae=P(2206),je=P(4532),ht=P(3260);function Le(Fe,st){return st?function ze(Fe,st){if(null!=Fe){if((0,ke.c)(Fe))return function ce(Fe,st){return(0,w.Xf)(Fe).pipe((0,H.R)(st),(0,R.Q)(st))}(Fe,st);if((0,Ke.z)(Fe))return function ve(Fe,st){return new _e.y(tt=>{let Ee=0;return st.schedule(function(){Ee===Fe.length?tt.complete():(tt.next(Fe[Ee++]),tt.closed||this.schedule())})})}(Fe,st);if((0,Pe.t)(Fe))return function fe(Fe,st){return(0,w.Xf)(Fe).pipe((0,H.R)(st),(0,R.Q)(st))}(Fe,st);if((0,Ae.D)(Fe))return ue(Fe,st);if((0,et.T)(Fe))return function Y(Fe,st){return new _e.y(tt=>{let Ee;return(0,J.f)(tt,st,()=>{Ee=Fe[he.h](),(0,J.f)(tt,st,()=>{let le,Ie;try{({value:le,done:Ie}=Ee.next())}catch(Se){return void tt.error(Se)}Ie?tt.complete():tt.next(le)},0,!0)}),()=>(0,ge.m)(null==Ee?void 0:Ee.return)&&Ee.return()})}(Fe,st);if((0,ht.L)(Fe))return function ct(Fe,st){return ue((0,ht.Q)(Fe),st)}(Fe,st)}throw(0,je.z)(Fe)}(Fe,st):(0,w.Xf)(Fe)}},8421:(Dt,Me,P)=>{P.d(Me,{Xf:()=>ke});var w=P(655),R=P(1144),H=P(8239),ce=P(8306),fe=P(3670),_e=P(2206),ve=P(4532),he=P(6495),ge=P(3260),J=P(576),Y=P(7849),ue=P(8822);function ke(ze){if(ze instanceof ce.y)return ze;if(null!=ze){if((0,fe.c)(ze))return function Pe(ze){return new ce.y(Le=>{const Fe=ze[ue.L]();if((0,J.m)(Fe.subscribe))return Fe.subscribe(Le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,R.z)(ze))return function Ke(ze){return new ce.y(Le=>{for(let Fe=0;Fe<ze.length&&!Le.closed;Fe++)Le.next(ze[Fe]);Le.complete()})}(ze);if((0,H.t)(ze))return function et(ze){return new ce.y(Le=>{ze.then(Fe=>{Le.closed||(Le.next(Fe),Le.complete())},Fe=>Le.error(Fe)).then(null,Y.h)})}(ze);if((0,_e.D)(ze))return je(ze);if((0,he.T)(ze))return function Ae(ze){return new ce.y(Le=>{for(const Fe of ze)if(Le.next(Fe),Le.closed)return;Le.complete()})}(ze);if((0,ge.L)(ze))return function ht(ze){return je((0,ge.Q)(ze))}(ze)}throw(0,ve.z)(ze)}function je(ze){return new ce.y(Le=>{(function ct(ze,Le){var Fe,st,tt,Ee;return(0,w.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,w.KL)(ze);!(st=yield Fe.next()).done;)if(Le.next(st.value),Le.closed)return}catch(le){tt={error:le}}finally{try{st&&!st.done&&(Ee=Fe.return)&&(yield Ee.call(Fe))}finally{if(tt)throw tt.error}}Le.complete()})})(ze,Le).catch(Fe=>Le.error(Fe))})}},6451:(Dt,Me,P)=>{P.d(Me,{T:()=>_e});var w=P(8189),R=P(8421),H=P(515),ce=P(7669),fe=P(8996);function _e(...ve){const he=(0,ce.yG)(ve),ge=(0,ce._6)(ve,1/0),J=ve;return J.length?1===J.length?(0,R.Xf)(J[0]):(0,w.J)(ge)((0,fe.D)(J,he)):H.E}},9646:(Dt,Me,P)=>{P.d(Me,{of:()=>H});var w=P(7669),R=P(8996);function H(...ce){const fe=(0,w.yG)(ce);return(0,R.D)(ce,fe)}},5403:(Dt,Me,P)=>{P.d(Me,{Q:()=>H,x:()=>R});var w=P(2961);function R(ce,fe,_e,ve,he){return new H(ce,fe,_e,ve,he)}class H extends w.Lv{constructor(fe,_e,ve,he,ge,J){super(fe),this.onFinalize=ge,this.shouldUnsubscribe=J,this._next=_e?function(Y){try{_e(Y)}catch(ue){fe.error(ue)}}:super._next,this._error=he?function(Y){try{he(Y)}catch(ue){fe.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=ve?function(){try{ve()}catch(Y){fe.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6590:(Dt,Me,P)=>{P.d(Me,{d:()=>H});var w=P(4482),R=P(5403);function H(ce){return(0,w.e)((fe,_e)=>{let ve=!1;fe.subscribe((0,R.x)(_e,he=>{ve=!0,_e.next(he)},()=>{ve||_e.next(ce),_e.complete()}))})}},9300:(Dt,Me,P)=>{P.d(Me,{h:()=>H});var w=P(4482),R=P(5403);function H(ce,fe){return(0,w.e)((_e,ve)=>{let he=0;_e.subscribe((0,R.x)(ve,ge=>ce.call(fe,ge,he++)&&ve.next(ge)))})}},590:(Dt,Me,P)=>{P.d(Me,{P:()=>ve});var w=P(6805),R=P(9300),H=P(5698),ce=P(6590),fe=P(8068),_e=P(4671);function ve(he,ge){const J=arguments.length>=2;return Y=>Y.pipe(he?(0,R.h)((ue,ke)=>he(ue,ke,Y)):_e.y,(0,H.q)(1),J?(0,ce.d)(ge):(0,fe.T)(()=>new w.K))}},4004:(Dt,Me,P)=>{P.d(Me,{U:()=>H});var w=P(4482),R=P(5403);function H(ce,fe){return(0,w.e)((_e,ve)=>{let he=0;_e.subscribe((0,R.x)(ve,ge=>{ve.next(ce.call(fe,ge,he++))}))})}},8189:(Dt,Me,P)=>{P.d(Me,{J:()=>H});var w=P(5577),R=P(4671);function H(ce=1/0){return(0,w.z)(R.y,ce)}},5577:(Dt,Me,P)=>{P.d(Me,{z:()=>he});var w=P(4004),R=P(8421),H=P(4482),ce=P(9672),fe=P(5403),ve=P(576);function he(ge,J,Y=1/0){return(0,ve.m)(J)?he((ue,ke)=>(0,w.U)((Pe,Ke)=>J(ue,Pe,ke,Ke))((0,R.Xf)(ge(ue,ke))),Y):("number"==typeof J&&(Y=J),(0,H.e)((ue,ke)=>function _e(ge,J,Y,ue,ke,Pe,Ke,et){const Ae=[];let je=0,ht=0,ct=!1;const ze=()=>{ct&&!Ae.length&&!je&&J.complete()},Le=st=>je<ue?Fe(st):Ae.push(st),Fe=st=>{Pe&&J.next(st),je++;let tt=!1;(0,R.Xf)(Y(st,ht++)).subscribe((0,fe.x)(J,Ee=>{null==ke||ke(Ee),Pe?Le(Ee):J.next(Ee)},()=>{tt=!0},void 0,()=>{if(tt)try{for(je--;Ae.length&&je<ue;){const Ee=Ae.shift();Ke?(0,ce.f)(J,Ke,()=>Fe(Ee)):Fe(Ee)}ze()}catch(Ee){J.error(Ee)}}))};return ge.subscribe((0,fe.x)(J,Le,()=>{ct=!0,ze()})),()=>{null==et||et()}}(ue,ke,ge,Y)))}},5363:(Dt,Me,P)=>{P.d(Me,{Q:()=>ce});var w=P(9672),R=P(4482),H=P(5403);function ce(fe,_e=0){return(0,R.e)((ve,he)=>{ve.subscribe((0,H.x)(he,ge=>(0,w.f)(he,fe,()=>he.next(ge),_e),()=>(0,w.f)(he,fe,()=>he.complete(),_e),ge=>(0,w.f)(he,fe,()=>he.error(ge),_e)))})}},5026:(Dt,Me,P)=>{P.d(Me,{R:()=>ce});var w=P(4482),R=P(5403);function H(fe,_e,ve,he,ge){return(J,Y)=>{let ue=ve,ke=_e,Pe=0;J.subscribe((0,R.x)(Y,Ke=>{const et=Pe++;ke=ue?fe(ke,Ke,et):(ue=!0,Ke),he&&Y.next(ke)},ge&&(()=>{ue&&Y.next(ke),Y.complete()})))}}function ce(fe,_e){return(0,w.e)(H(fe,_e,arguments.length>=2,!0))}},3099:(Dt,Me,P)=>{P.d(Me,{B:()=>_e});var w=P(8996),R=P(5698),H=P(7579),ce=P(2961),fe=P(4482);function _e(he={}){const{connector:ge=(()=>new H.x),resetOnError:J=!0,resetOnComplete:Y=!0,resetOnRefCountZero:ue=!0}=he;return ke=>{let Pe=null,Ke=null,et=null,Ae=0,je=!1,ht=!1;const ct=()=>{null==Ke||Ke.unsubscribe(),Ke=null},ze=()=>{ct(),Pe=et=null,je=ht=!1},Le=()=>{const Fe=Pe;ze(),null==Fe||Fe.unsubscribe()};return(0,fe.e)((Fe,st)=>{Ae++,!ht&&!je&&ct();const tt=et=null!=et?et:ge();st.add(()=>{Ae--,0===Ae&&!ht&&!je&&(Ke=ve(Le,ue))}),tt.subscribe(st),Pe||(Pe=new ce.Hp({next:Ee=>tt.next(Ee),error:Ee=>{ht=!0,ct(),Ke=ve(ze,J,Ee),tt.error(Ee)},complete:()=>{je=!0,ct(),Ke=ve(ze,Y),tt.complete()}}),(0,w.D)(Fe).subscribe(Pe))})(ke)}}function ve(he,ge,...J){return!0===ge?(he(),null):!1===ge?null:ge(...J).pipe((0,R.q)(1)).subscribe(()=>he())}},8675:(Dt,Me,P)=>{P.d(Me,{O:()=>ce});var w=P(7272),R=P(7669),H=P(4482);function ce(...fe){const _e=(0,R.yG)(fe);return(0,H.e)((ve,he)=>{(_e?(0,w.z)(fe,ve,_e):(0,w.z)(fe,ve)).subscribe(he)})}},9468:(Dt,Me,P)=>{P.d(Me,{R:()=>R});var w=P(4482);function R(H,ce=0){return(0,w.e)((fe,_e)=>{_e.add(H.schedule(()=>fe.subscribe(_e),ce))})}},3900:(Dt,Me,P)=>{P.d(Me,{w:()=>ce});var w=P(8421),R=P(4482),H=P(5403);function ce(fe,_e){return(0,R.e)((ve,he)=>{let ge=null,J=0,Y=!1;const ue=()=>Y&&!ge&&he.complete();ve.subscribe((0,H.x)(he,ke=>{null==ge||ge.unsubscribe();let Pe=0;const Ke=J++;(0,w.Xf)(fe(ke,Ke)).subscribe(ge=(0,H.x)(he,et=>he.next(_e?_e(ke,et,Ke,Pe++):et),()=>{ge=null,ue()}))},()=>{Y=!0,ue()}))})}},5698:(Dt,Me,P)=>{P.d(Me,{q:()=>ce});var w=P(515),R=P(4482),H=P(5403);function ce(fe){return fe<=0?()=>w.E:(0,R.e)((_e,ve)=>{let he=0;_e.subscribe((0,H.x)(ve,ge=>{++he<=fe&&(ve.next(ge),fe<=he&&ve.complete())}))})}},8505:(Dt,Me,P)=>{P.d(Me,{b:()=>fe});var w=P(576),R=P(4482),H=P(5403),ce=P(4671);function fe(_e,ve,he){const ge=(0,w.m)(_e)||ve||he?{next:_e,error:ve,complete:he}:_e;return ge?(0,R.e)((J,Y)=>{var ue;null===(ue=ge.subscribe)||void 0===ue||ue.call(ge);let ke=!0;J.subscribe((0,H.x)(Y,Pe=>{var Ke;null===(Ke=ge.next)||void 0===Ke||Ke.call(ge,Pe),Y.next(Pe)},()=>{var Pe;ke=!1,null===(Pe=ge.complete)||void 0===Pe||Pe.call(ge),Y.complete()},Pe=>{var Ke;ke=!1,null===(Ke=ge.error)||void 0===Ke||Ke.call(ge,Pe),Y.error(Pe)},()=>{var Pe,Ke;ke&&(null===(Pe=ge.unsubscribe)||void 0===Pe||Pe.call(ge)),null===(Ke=ge.finalize)||void 0===Ke||Ke.call(ge)}))}):ce.y}},8068:(Dt,Me,P)=>{P.d(Me,{T:()=>ce});var w=P(6805),R=P(4482),H=P(5403);function ce(_e=fe){return(0,R.e)((ve,he)=>{let ge=!1;ve.subscribe((0,H.x)(he,J=>{ge=!0,he.next(J)},()=>ge?he.complete():he.error(_e())))})}function fe(){return new w.K}},4408:(Dt,Me,P)=>{P.d(Me,{o:()=>fe});var w=P(727);class R extends w.w0{constructor(ve,he){super()}schedule(ve,he=0){return this}}const H={setInterval(_e,ve,...he){const{delegate:ge}=H;return(null==ge?void 0:ge.setInterval)?ge.setInterval(_e,ve,...he):setInterval(_e,ve,...he)},clearInterval(_e){const{delegate:ve}=H;return((null==ve?void 0:ve.clearInterval)||clearInterval)(_e)},delegate:void 0};var ce=P(8737);class fe extends R{constructor(ve,he){super(ve,he),this.scheduler=ve,this.work=he,this.pending=!1}schedule(ve,he=0){if(this.closed)return this;this.state=ve;const ge=this.id,J=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(J,ge,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(J,this.id,he),this}requestAsyncId(ve,he,ge=0){return H.setInterval(ve.flush.bind(ve,this),ge)}recycleAsyncId(ve,he,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return he;H.clearInterval(he)}execute(ve,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(ve,he);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ve,he){let J,ge=!1;try{this.work(ve)}catch(Y){ge=!0,J=Y||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:ve,scheduler:he}=this,{actions:ge}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(ge,this),null!=ve&&(this.id=this.recycleAsyncId(he,ve,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Me,P)=>{P.d(Me,{v:()=>H});var w=P(6063);class R{constructor(fe,_e=R.now){this.schedulerActionCtor=fe,this.now=_e}schedule(fe,_e=0,ve){return new this.schedulerActionCtor(this,fe).schedule(ve,_e)}}R.now=w.l.now;class H extends R{constructor(fe,_e=R.now){super(fe,_e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:_e}=this;if(this._active)return void _e.push(fe);let ve;this._active=!0;do{if(ve=fe.execute(fe.state,fe.delay))break}while(fe=_e.shift());if(this._active=!1,ve){for(;fe=_e.shift();)fe.unsubscribe();throw ve}}}},4986:(Dt,Me,P)=>{P.d(Me,{z:()=>H});var w=P(4408);const H=new(P(7565).v)(w.o)},6063:(Dt,Me,P)=>{P.d(Me,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(Dt,Me,P)=>{P.d(Me,{z:()=>w});const w={setTimeout(R,H,...ce){const{delegate:fe}=w;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(R,H,...ce):setTimeout(R,H,...ce)},clearTimeout(R){const{delegate:H}=w;return((null==H?void 0:H.clearTimeout)||clearTimeout)(R)},delegate:void 0}},2202:(Dt,Me,P)=>{P.d(Me,{h:()=>R});const R=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Me,P)=>{P.d(Me,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Dt,Me,P)=>{P.d(Me,{K:()=>R});const R=(0,P(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(Dt,Me,P)=>{P.d(Me,{_6:()=>_e,jO:()=>ce,yG:()=>fe});var w=P(576);function H(ve){return ve[ve.length-1]}function ce(ve){return(0,w.m)(H(ve))?ve.pop():void 0}function fe(ve){return function R(ve){return ve&&(0,w.m)(ve.schedule)}(H(ve))?ve.pop():void 0}function _e(ve,he){return"number"==typeof H(ve)?ve.pop():he}},8737:(Dt,Me,P)=>{function w(R,H){if(R){const ce=R.indexOf(H);0<=ce&&R.splice(ce,1)}}P.d(Me,{P:()=>w})},3888:(Dt,Me,P)=>{function w(R){const ce=R(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(Me,{d:()=>w})},2806:(Dt,Me,P)=>{P.d(Me,{O:()=>ce,x:()=>H});var w=P(2416);let R=null;function H(fe){if(w.v.useDeprecatedSynchronousErrorHandling){const _e=!R;if(_e&&(R={errorThrown:!1,error:null}),fe(),_e){const{errorThrown:ve,error:he}=R;if(R=null,ve)throw he}}else fe()}function ce(fe){w.v.useDeprecatedSynchronousErrorHandling&&R&&(R.errorThrown=!0,R.error=fe)}},9672:(Dt,Me,P)=>{function w(R,H,ce,fe=0,_e=!1){const ve=H.schedule(function(){ce(),_e?R.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(R.add(ve),!_e)return ve}P.d(Me,{f:()=>w})},4671:(Dt,Me,P)=>{function w(R){return R}P.d(Me,{y:()=>w})},1144:(Dt,Me,P)=>{P.d(Me,{z:()=>w});const w=R=>R&&"number"==typeof R.length&&"function"!=typeof R},2206:(Dt,Me,P)=>{P.d(Me,{D:()=>R});var w=P(576);function R(H){return Symbol.asyncIterator&&(0,w.m)(null==H?void 0:H[Symbol.asyncIterator])}},576:(Dt,Me,P)=>{function w(R){return"function"==typeof R}P.d(Me,{m:()=>w})},3670:(Dt,Me,P)=>{P.d(Me,{c:()=>H});var w=P(8822),R=P(576);function H(ce){return(0,R.m)(ce[w.L])}},6495:(Dt,Me,P)=>{P.d(Me,{T:()=>H});var w=P(2202),R=P(576);function H(ce){return(0,R.m)(null==ce?void 0:ce[w.h])}},8239:(Dt,Me,P)=>{P.d(Me,{t:()=>R});var w=P(576);function R(H){return(0,w.m)(null==H?void 0:H.then)}},3260:(Dt,Me,P)=>{P.d(Me,{L:()=>ce,Q:()=>H});var w=P(655),R=P(576);function H(fe){return(0,w.FC)(this,arguments,function*(){const ve=fe.getReader();try{for(;;){const{value:he,done:ge}=yield(0,w.qq)(ve.read());if(ge)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(he)}}finally{ve.releaseLock()}})}function ce(fe){return(0,R.m)(null==fe?void 0:fe.getReader)}},4482:(Dt,Me,P)=>{P.d(Me,{A:()=>R,e:()=>H});var w=P(576);function R(ce){return(0,w.m)(null==ce?void 0:ce.lift)}function H(ce){return fe=>{if(R(fe))return fe.lift(function(_e){try{return ce(_e,this)}catch(ve){this.error(ve)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Dt,Me,P)=>{P.d(Me,{h:()=>H});var w=P(2416),R=P(3410);function H(ce){R.z.setTimeout(()=>{const{onUnhandledError:fe}=w.v;if(!fe)throw ce;fe(ce)})}},4532:(Dt,Me,P)=>{function w(R){return new TypeError(`You provided ${null!==R&&"object"==typeof R?"an invalid object":`'${R}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Me,{z:()=>w})},655:(Dt,Me,P)=>{function ce(le,Ie){var Se={};for(var we in le)Object.prototype.hasOwnProperty.call(le,we)&&Ie.indexOf(we)<0&&(Se[we]=le[we]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Je=0;for(we=Object.getOwnPropertySymbols(le);Je<we.length;Je++)Ie.indexOf(we[Je])<0&&Object.prototype.propertyIsEnumerable.call(le,we[Je])&&(Se[we[Je]]=le[we[Je]])}return Se}function he(le,Ie,Se,we){return new(Se||(Se=Promise))(function(ie,Ut){function un(yt){try{ft(we.next(yt))}catch(vn){Ut(vn)}}function hn(yt){try{ft(we.throw(yt))}catch(vn){Ut(vn)}}function ft(yt){yt.done?ie(yt.value):function Je(ie){return ie instanceof Se?ie:new Se(function(Ut){Ut(ie)})}(yt.value).then(un,hn)}ft((we=we.apply(le,Ie||[])).next())})}function Ae(le){return this instanceof Ae?(this.v=le,this):new Ae(le)}function je(le,Ie,Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Je,we=Se.apply(le,Ie||[]),ie=[];return Je={},Ut("next"),Ut("throw"),Ut("return"),Je[Symbol.asyncIterator]=function(){return this},Je;function Ut(In){we[In]&&(Je[In]=function(Ir){return new Promise(function(ln,ur){ie.push([In,Ir,ln,ur])>1||un(In,Ir)})})}function un(In,Ir){try{!function hn(In){In.value instanceof Ae?Promise.resolve(In.value.v).then(ft,yt):vn(ie[0][2],In)}(we[In](Ir))}catch(ln){vn(ie[0][3],ln)}}function ft(In){un("next",In)}function yt(In){un("throw",In)}function vn(In,Ir){In(Ir),ie.shift(),ie.length&&un(ie[0][0],ie[0][1])}}function ct(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Se,Ie=le[Symbol.asyncIterator];return Ie?Ie.call(le):(le=function ue(le){var Ie="function"==typeof Symbol&&Symbol.iterator,Se=Ie&&le[Ie],we=0;if(Se)return Se.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&we>=le.length&&(le=void 0),{value:le&&le[we++],done:!le}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Se={},we("next"),we("throw"),we("return"),Se[Symbol.asyncIterator]=function(){return this},Se);function we(ie){Se[ie]=le[ie]&&function(Ut){return new Promise(function(un,hn){!function Je(ie,Ut,un,hn){Promise.resolve(hn).then(function(ft){ie({value:ft,done:un})},Ut)}(un,hn,(Ut=le[ie](Ut)).done,Ut.value)})}}}P.d(Me,{FC:()=>je,KL:()=>ct,_T:()=>ce,mG:()=>he,qq:()=>Ae})},9808:(Dt,Me,P)=>{P.d(Me,{Do:()=>ze,EM:()=>dr,HT:()=>fe,JF:()=>wn,K0:()=>ve,Mx:()=>ti,NF:()=>vr,PM:()=>er,S$:()=>Ae,V_:()=>J,Ye:()=>Le,b0:()=>ct,bD:()=>Wi,ez:()=>ri,lw:()=>he,mr:()=>ht,q:()=>H,w_:()=>_e});var w=P(5e3);let R=null;function H(){return R}function fe(A){R||(R=A)}class _e{}const ve=new w.OlP("DocumentToken");let he=(()=>{class A{historyGo(C){throw new Error("Not implemented")}}return A.\u0275fac=function(C){return new(C||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return function ge(){return(0,w.LFG)(Y)}()},providedIn:"platform"}),A})();const J=new w.OlP("Location Initialized");let Y=(()=>{class A extends he{constructor(C){super(),this._doc=C,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(C){const U=H().getGlobalEventTarget(this._doc,"window");return U.addEventListener("popstate",C,!1),()=>U.removeEventListener("popstate",C)}onHashChange(C){const U=H().getGlobalEventTarget(this._doc,"window");return U.addEventListener("hashchange",C,!1),()=>U.removeEventListener("hashchange",C)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(C){this.location.pathname=C}pushState(C,U,ee){ue()?this._history.pushState(C,U,ee):this.location.hash=ee}replaceState(C,U,ee){ue()?this._history.replaceState(C,U,ee):this.location.hash=ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}}return A.\u0275fac=function(C){return new(C||A)(w.LFG(ve))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function ke(){return new Y((0,w.LFG)(ve))}()},providedIn:"platform"}),A})();function ue(){return!!window.history.pushState}function Pe(A,F){if(0==A.length)return F;if(0==F.length)return A;let C=0;return A.endsWith("/")&&C++,F.startsWith("/")&&C++,2==C?A+F.substring(1):1==C?A+F:A+"/"+F}function Ke(A){const F=A.match(/#|\?|$/),C=F&&F.index||A.length;return A.slice(0,C-("/"===A[C-1]?1:0))+A.slice(C)}function et(A){return A&&"?"!==A[0]?"?"+A:A}let Ae=(()=>{class A{historyGo(C){throw new Error("Not implemented")}}return A.\u0275fac=function(C){return new(C||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return function je(A){const F=(0,w.LFG)(ve).location;return new ct((0,w.LFG)(he),F&&F.origin||"")}()},providedIn:"root"}),A})();const ht=new w.OlP("appBaseHref");let ct=(()=>{class A extends Ae{constructor(C,U){if(super(),this._platformLocation=C,this._removeListenerFns=[],null==U&&(U=this._platformLocation.getBaseHrefFromDOM()),null==U)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=U}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return Pe(this._baseHref,C)}path(C=!1){const U=this._platformLocation.pathname+et(this._platformLocation.search),ee=this._platformLocation.hash;return ee&&C?`${U}${ee}`:U}pushState(C,U,ee,xe){const qe=this.prepareExternalUrl(ee+et(xe));this._platformLocation.pushState(C,U,qe)}replaceState(C,U,ee,xe){const qe=this.prepareExternalUrl(ee+et(xe));this._platformLocation.replaceState(C,U,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var U,ee;null===(ee=(U=this._platformLocation).historyGo)||void 0===ee||ee.call(U,C)}}return A.\u0275fac=function(C){return new(C||A)(w.LFG(he),w.LFG(ht,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),ze=(()=>{class A extends Ae{constructor(C,U){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=U&&(this._baseHref=U)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let U=this._platformLocation.hash;return null==U&&(U="#"),U.length>0?U.substring(1):U}prepareExternalUrl(C){const U=Pe(this._baseHref,C);return U.length>0?"#"+U:U}pushState(C,U,ee,xe){let qe=this.prepareExternalUrl(ee+et(xe));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.pushState(C,U,qe)}replaceState(C,U,ee,xe){let qe=this.prepareExternalUrl(ee+et(xe));0==qe.length&&(qe=this._platformLocation.pathname),this._platformLocation.replaceState(C,U,qe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(C=0){var U,ee;null===(ee=(U=this._platformLocation).historyGo)||void 0===ee||ee.call(U,C)}}return A.\u0275fac=function(C){return new(C||A)(w.LFG(he),w.LFG(ht,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),Le=(()=>{class A{constructor(C,U){this._subject=new w.vpe,this._urlChangeListeners=[],this._platformStrategy=C;const ee=this._platformStrategy.getBaseHref();this._platformLocation=U,this._baseHref=Ke(tt(ee)),this._platformStrategy.onPopState(xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:xe.state,type:xe.type})})}path(C=!1){return this.normalize(this._platformStrategy.path(C))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(C,U=""){return this.path()==this.normalize(C+et(U))}normalize(C){return A.stripTrailingSlash(function st(A,F){return A&&F.startsWith(A)?F.substring(A.length):F}(this._baseHref,tt(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._platformStrategy.prepareExternalUrl(C)}go(C,U="",ee=null){this._platformStrategy.pushState(ee,"",C,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+et(U)),ee)}replaceState(C,U="",ee=null){this._platformStrategy.replaceState(ee,"",C,U),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+et(U)),ee)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(C=0){var U,ee;null===(ee=(U=this._platformStrategy).historyGo)||void 0===ee||ee.call(U,C)}onUrlChange(C){this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(U=>{this._notifyUrlChangeListeners(U.url,U.state)}))}_notifyUrlChangeListeners(C="",U){this._urlChangeListeners.forEach(ee=>ee(C,U))}subscribe(C,U,ee){return this._subject.subscribe({next:C,error:U,complete:ee})}}return A.normalizeQueryParams=et,A.joinWithSlash=Pe,A.stripTrailingSlash=Ke,A.\u0275fac=function(C){return new(C||A)(w.LFG(Ae),w.LFG(he))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function Fe(){return new Le((0,w.LFG)(Ae),(0,w.LFG)(he))}()},providedIn:"root"}),A})();function tt(A){return A.replace(/\/index.html$/,"")}function ti(A,F){F=encodeURIComponent(F);for(const C of A.split(";")){const U=C.indexOf("="),[ee,xe]=-1==U?[C,""]:[C.slice(0,U),C.slice(U+1)];if(ee.trim()===F)return decodeURIComponent(xe)}return null}let ri=(()=>{class A{}return A.\u0275fac=function(C){return new(C||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({}),A})();const Wi="browser";function vr(A){return A===Wi}function er(A){return"server"===A}let dr=(()=>{class A{}return A.\u0275prov=(0,w.Yz7)({token:A,providedIn:"root",factory:()=>new ii((0,w.LFG)(ve),window)}),A})();class ii{constructor(F,C){this.document=F,this.window=C,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const C=function bi(A,F){const C=A.getElementById(F)||A.getElementsByName(F)[0];if(C)return C;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const U=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let ee=U.currentNode;for(;ee;){const xe=ee.shadowRoot;if(xe){const qe=xe.getElementById(F)||xe.querySelector(`[name="${F}"]`);if(qe)return qe}ee=U.nextNode()}}return null}(this.document,F);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const C=this.window.history;C&&C.scrollRestoration&&(C.scrollRestoration=F)}}scrollToElement(F){const C=F.getBoundingClientRect(),U=C.left+this.window.pageXOffset,ee=C.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(U-xe[0],ee-xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch(F){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(F){return!1}}}function Qs(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class wn{}},5e3:(Dt,Me,P)=>{P.d(Me,{$8M:()=>wt,$Z:()=>Zf,AFp:()=>E0,AaK:()=>he,CRH:()=>oy,CZH:()=>Lp,CqO:()=>zv,DdM:()=>Sp,EJc:()=>ED,F4k:()=>Jf,FYo:()=>B_,FiY:()=>Ka,G48:()=>dw,GfV:()=>yI,JOm:()=>De,LFG:()=>gi,LSH:()=>fl,Lbi:()=>Up,NdJ:()=>mh,OlP:()=>tr,PXZ:()=>sw,Q6J:()=>Bu,QGY:()=>lm,Qsj:()=>mI,R0b:()=>Jo,RDi:()=>Qs,Rgc:()=>Ph,SBq:()=>Wc,Sil:()=>wD,Suo:()=>sy,TTD:()=>Di,TgZ:()=>Qf,VLi:()=>rw,X6Q:()=>Bp,XFs:()=>Tt,Xpm:()=>Ve,Y36:()=>Fc,YKP:()=>z_,Yjl:()=>Kn,Yz7:()=>ln,ZZ4:()=>gw,_UZ:()=>Ko,_Vd:()=>Tp,_c5:()=>BD,_uU:()=>_h,aQg:()=>mw,c2e:()=>YI,cJS:()=>an,cg1:()=>ou,dDg:()=>tw,deG:()=>Ba,dqk:()=>rn,eFA:()=>ow,g9A:()=>w0,h0i:()=>Kc,hGG:()=>jD,iGM:()=>u0,ifc:()=>Yt,ip1:()=>_0,kL8:()=>Mm,lG2:()=>Jt,oAB:()=>re,q4F:()=>vI,qLn:()=>ai,qZA:()=>td,sBO:()=>fw,sIi:()=>go,s_b:()=>_d,soG:()=>D0,tBr:()=>fs,tb:()=>wy,tp0:()=>rt,uIk:()=>Vf,vHH:()=>Ke,vpe:()=>Qo,wAp:()=>Zt,xp6:()=>hf,z2F:()=>Ay,zSh:()=>Rf,zs3:()=>or});var w=P(7579),R=P(727),H=P(8306),ce=P(6451),fe=P(3099);function _e(r){for(let i in r)if(r[i]===_e)return i;throw Error("Could not find renamed property on target object.")}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ge(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const J=_e({__forward_ref__:_e});function Y(r){return r.__forward_ref__=Y,r.toString=function(){return he(this())},r}function ue(r){return function ke(r){return"function"==typeof r&&r.hasOwnProperty(J)&&r.__forward_ref__===Y}(r)?r():r}class Ke extends Error{constructor(i,o){super(function et(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function Ae(r){return"string"==typeof r?r:null==r?"":String(r)}function je(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ae(r)}function Le(r,i){const o=i?` in ${i}`:"";throw new Ke(-201,`No provider for ${je(r)} found${o}`)}function ft(r,i){null==r&&function yt(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function ln(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function an(r){return{providers:r.providers||[],imports:r.imports||[]}}function $t(r){return Cn(r,Zn)||Cn(r,gr)}function Cn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Hn(r){return r&&(r.hasOwnProperty(An)||r.hasOwnProperty(Vn))?r[An]:null}const Zn=_e({\u0275prov:_e}),An=_e({\u0275inj:_e}),gr=_e({ngInjectableDef:_e}),Vn=_e({ngInjectorDef:_e});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Yn;function Gn(r){const i=Yn;return Yn=r,i}function Dr(r,i,o){const u=$t(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Tt.Optional?null:void 0!==i?i:void Le(he(r),"Injector")}function Sn(r){return{toString:r}.toString()}var mr=(()=>((mr=mr||{})[mr.OnPush=0]="OnPush",mr[mr.Default=1]="Default",mr))(),Yt=(()=>{return(r=Yt||(Yt={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Yt;var r})();const bt="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,yr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rn=bt||"undefined"!=typeof global&&global||Ct||yr,ir={},Nt=[],cr=_e({\u0275cmp:_e}),Qt=_e({\u0275dir:_e}),lt=_e({\u0275pipe:_e}),He=_e({\u0275mod:_e}),vt=_e({\u0275fac:_e}),oe=_e({__NG_ELEMENT_ID__:_e});let Ce=0;function Ve(r){return Sn(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Nt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Yt.Emulated,id:"c",styles:r.styles||Nt,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,m=r.pipes;return u.id+=Ce++,u.inputs=pt(r.inputs,o),u.outputs=pt(r.outputs),h&&h.forEach(E=>E(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map($):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(q):null,u})}function $(r){return Xt(r)||function gn(r){return r[Qt]||null}(r)}function q(r){return function Ht(r){return r[lt]||null}(r)}const ae={};function re(r){return Sn(()=>{const i={type:r.type,bootstrap:r.bootstrap||Nt,declarations:r.declarations||Nt,imports:r.imports||Nt,exports:r.exports||Nt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ae[r.id]=r.type),i})}function pt(r,i){if(null==r)return ir;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}const Jt=Ve;function Kn(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Xt(r){return r[cr]||null}function fn(r,i){const o=r[He]||null;if(!o&&!0===i)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return o}function Tr(r){return Array.isArray(r)&&"object"==typeof r[1]}function qn(r){return Array.isArray(r)&&!0===r[1]}function $i(r){return 0!=(8&r.flags)}function Hi(r){return 2==(2&r.flags)}function Jn(r){return 1==(1&r.flags)}function Nr(r){return null!==r.template}function zn(r){return 0!=(512&r[2])}function Cr(r,i){return r.hasOwnProperty(vt)?r[vt]:null}class zi{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Di(){return Ts}function Ts(r){return r.type.prototype.ngOnChanges&&(r.setInput=Do),Zs}function Zs(){const r=Wi(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===ir)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Do(r,i,o,u){const c=Wi(r)||function Ki(r,i){return r[ri]=i}(r,{previous:ir,current:null}),h=c.current||(c.current={}),m=c.previous,E=this.declaredInputs[o],b=m[E];h[E]=new zi(b&&b.currentValue,i,m===ir),r[u]=i}Di.ngInherit=!0;const ri="__ngSimpleChanges__";function Wi(r){return r[ri]||null}let ii;function Qs(r){ii=r}function wn(r){return!!r.listen}const A={createRenderer:(r,i)=>function bi(){return void 0!==ii?ii:"undefined"!=typeof document?document:void 0}()};function C(r){for(;Array.isArray(r);)r=r[0];return r}function qe(r,i){return C(i[r.index])}function V(r,i){return r.data[i]}function Q(r,i){const o=i[r];return Tr(o)?o:o[0]}function de(r){return 4==(4&r[2])}function We(r){return 128==(128&r[2])}function It(r,i){return null==i?null:r[i]}function Pn(r){r[18]=0}function xn(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const nt={lFrame:us(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ss(){return nt.bindingsEnabled}function Ze(){return nt.lFrame.lView}function sn(){return nt.lFrame.tView}function Vr(){let r=Xs();for(;null!==r&&64===r.type;)r=r.parent;return r}function Xs(){return nt.lFrame.currentTNode}function Ui(r,i){const o=nt.lFrame;o.currentTNode=r,o.isParent=i}function Us(){return nt.lFrame.isParent}function lu(){return nt.isInCheckNoChangesMode}function xi(r){nt.isInCheckNoChangesMode=r}function os(){return nt.lFrame.bindingIndex++}function Zu(r,i){const o=nt.lFrame;o.bindingIndex=o.bindingRootIndex=r,as(i)}function as(r){nt.lFrame.currentDirectiveIndex=r}function Ao(){return nt.lFrame.currentQueryIndex}function Na(r){nt.lFrame.currentQueryIndex=r}function Oa(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function hu(r,i,o){if(o&Tt.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&Tt.Host||(c=Oa(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const u=nt.lFrame=Yu();return u.currentTNode=i,u.lView=r,!0}function Pr(r){const i=Yu(),o=r[1];nt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Yu(){const r=nt.lFrame,i=null===r?null:r.child;return null===i?us(r):i}function us(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function So(){const r=nt.lFrame;return nt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const qc=So;function xo(){const r=So();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function kr(){return nt.lFrame.selectedIndex}function Bs(r){nt.lFrame.selectedIndex=r}function hr(){const r=nt.lFrame;return V(r.tView,r.selectedIndex)}function Vi(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:N,ngOnDestroy:k}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),E&&((r.contentHooks||(r.contentHooks=[])).push(o,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,E)),b&&(r.viewHooks||(r.viewHooks=[])).push(-o,b),N&&((r.viewHooks||(r.viewHooks=[])).push(o,N),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,N)),null!=k&&(r.destroyHooks||(r.destroyHooks=[])).push(o,k)}}function eo(r,i,o){ec(r,i,3,o)}function Mo(r,i,o,u){(3&r[2])===o&&ec(r,i,o,u)}function Fa(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function ec(r,i,o,u){const h=null!=u?u:-1,m=i.length-1;let E=0;for(let b=void 0!==u?65535&r[18]:0;b<m;b++)if("number"==typeof i[b+1]){if(E=i[b],null!=u&&E>=u)break}else i[b]<0&&(r[18]+=65536),(E<h||-1==h)&&(Cd(r,o,i,b),r[18]=(4294901760&r[18])+b+2),b++}function Cd(r,i,o,u){const c=o[u]<0,h=o[u+1],E=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class to{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function Ri(r,i,o){const u=wn(r);let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const m=o[c++],E=o[c++],b=o[c++];u?r.setAttribute(i,E,b,m):i.setAttributeNS(m,E,b)}else{const m=h,E=o[++c];tc(m)?u&&r.setProperty(i,m,E):u?r.setAttribute(i,m,E):i.setAttribute(m,E),c++}}return c}function Cs(r){return 3===r||4===r||6===r}function tc(r){return 64===r.charCodeAt(0)}function cs(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Ni(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Ni(r,i,o,u,c){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){m=-1;break}if(E>i){m=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===o){if(null===u)return void(null!==c&&(r[h+1]=c));if(u===r[h+1])return void(r[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==c&&r.splice(h++,0,c)}function sa(r){return-1!==r}function Wn(r){return 32767&r}function io(r,i){let o=function oa(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let Mn=!0;function As(r){const i=Mn;return Mn=r,i}let Ua=0;function No(r,i){const o=aa(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,so(u.data,r),so(i,null),so(u.blueprint,null));const c=gu(r,i),h=r.injectorIndex;if(sa(c)){const m=Wn(c),E=io(c,i),b=E[1].data;for(let N=0;N<8;N++)i[h+N]=E[m+N]|b[m+N]}return i[h+8]=c,h}function so(r,i){r.push(0,0,0,0,0,0,0,0,i)}function aa(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function gu(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const h=c[1],m=h.type;if(u=2===m?h.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ua(r,i,o){!function pu(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(oe)&&(u=o[oe]),null==u&&(u=o[oe]=Ua++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function ls(r,i,o){if(o&Tt.Optional)return r;Le(i,"NodeInjector")}function nc(r,i,o,u){if(o&Tt.Optional&&void 0===u&&(u=null),0==(o&(Tt.Self|Tt.Host))){const c=r[9],h=Gn(void 0);try{return c?c.get(i,u,o&Tt.Optional):Dr(i,u,o&Tt.Optional)}finally{Gn(h)}}return ls(u,i,o)}function ca(r,i,o,u=Tt.Default,c){if(null!==r){const h=function T(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(oe)?r[oe]:void 0;return"number"==typeof i?i>=0?255&i:Va:i}(o);if("function"==typeof h){if(!hu(i,r,u))return u&Tt.Host?ls(c,o,u):nc(i,o,u,c);try{const m=h(u);if(null!=m||u&Tt.Optional)return m;Le(o)}finally{qc()}}else if("number"==typeof h){let m=null,E=aa(r,i),b=-1,N=u&Tt.Host?i[16][6]:null;for((-1===E||u&Tt.SkipSelf)&&(b=-1===E?gu(r,i):i[E+8],-1!==b&&L(u,!1)?(m=i[1],E=Wn(b),i=io(b,i)):E=-1);-1!==E;){const k=i[1];if(x(h,E,k.data)){const z=D(E,i,o,m,u,N);if(z!==mu)return z}b=i[E+8],-1!==b&&L(u,i[1].data[E+8]===N)&&x(h,E,i)?(m=k,E=Wn(b),i=io(b,i)):E=-1}}}return nc(i,o,u,c)}const mu={};function Va(){return new Z(Vr(),Ze())}function D(r,i,o,u,c,h){const m=i[1],E=m.data[r+8],k=v(E,m,o,null==u?Hi(E)&&Mn:u!=m&&0!=(3&E.type),c&Tt.Host&&h===E);return null!==k?y(i,m,k,E):mu}function v(r,i,o,u,c){const h=r.providerIndexes,m=i.data,E=1048575&h,b=r.directiveStart,k=h>>20,ne=c?E+k:r.directiveEnd;for(let me=u?E:E+k;me<ne;me++){const $e=m[me];if(me<b&&o===$e||me>=b&&$e.type===o)return me}if(c){const me=m[b];if(me&&Nr(me)&&me.type===o)return b}return null}function y(r,i,o,u){let c=r[o];const h=i.data;if(function La(r){return r instanceof to}(c)){const m=c;m.resolving&&function ht(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${r}${o}`)}(je(h[o]));const E=As(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?Gn(m.injectImpl):null;hu(r,u,Tt.Default);try{c=r[o]=m.factory(void 0,h,r,u),i.firstCreatePass&&o>=u.directiveStart&&function ka(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const m=Ts(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==b&&Gn(b),As(E),m.resolving=!1,qc()}}return c}function x(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function L(r,i){return!(r&Tt.Self||r&Tt.Host&&i)}class Z{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return ca(this._tNode,this._lView,i,u,o)}}function wt(r){return function oo(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(Cs(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(Vr(),r)}const Ot="__parameters__";function pi(r,i,o){return Sn(()=>{const u=function Ti(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return E.annotation=m,E;function E(b,N,k){const z=b.hasOwnProperty(Ot)?b[Ot]:Object.defineProperty(b,Ot,{value:[]})[Ot];for(;z.length<=k;)z.push(null);return(z[k]=z[k]||[]).push(m),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class tr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ln({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ba=new tr("AnalyzeForEntryComponents");function Ar(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Ar(u,i)):i!==r&&i.push(u)}return i}function ds(r,i){r.forEach(o=>Array.isArray(o)?ds(o,i):i(o))}function jh(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function da(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}const ha={},Eu="__NG_DI_FLAG__",Ha="ngTempTokenPath",Od=/\n/gm,Ga="__source",Pd=_e({provide:String,useValue:_e});let oc;function il(r){const i=oc;return oc=r,i}function kd(r,i=Tt.Default){if(void 0===oc)throw new Ke(203,"");return null===oc?Dr(r,void 0,i):oc.get(r,i&Tt.Optional?null:void 0,i)}function gi(r,i=Tt.Default){return(function Bn(){return Yn}()||kd)(ue(r),i)}const Ld=gi;function Iu(r){const i=[];for(let o=0;o<r.length;o++){const u=ue(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Ke(900,"");let c,h=Tt.Default;for(let m=0;m<u.length;m++){const E=u[m],b=ac(E);"number"==typeof b?-1===b?c=E.token:h|=b:c=E}i.push(gi(c,h))}else i.push(gi(u))}return i}function za(r,i){return r[Eu]=i,r.prototype[Eu]=i,r}function ac(r){return r[Eu]}const fs=za(pi("Inject",r=>({token:r})),-1),Ka=za(pi("Optional"),8),rt=za(pi("SkipSelf"),4);class fa{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const ps=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var fr=(()=>((fr=fr||{})[fr.NONE=0]="NONE",fr[fr.HTML=1]="HTML",fr[fr.STYLE=2]="STYLE",fr[fr.SCRIPT=3]="SCRIPT",fr[fr.URL=4]="URL",fr[fr.RESOURCE_URL=5]="RESOURCE_URL",fr))();function fl(r){const i=function ya(){const r=Ze();return r&&r[12]}();return i?i.sanitize(fr.URL,r)||"":function cc(r,i){const o=function Qr(r){return r instanceof fa&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?function Bi(r){return r instanceof fa?r.changingThisBreaksApplicationSecurity:r}(r):function ut(r){return(r=String(r)).match(ps)||r.match(Yh)?r:"unsafe:"+r}(Ae(r))}const zd="__ngContext__";function Oi(r,i){r[zd]=i}function Wd(r){const i=function va(r){return r[zd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Tu(r){return r.ngOriginalError}function vl(r,...i){r.error(...i)}class ai{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=function Qd(r){return r&&r.ngErrorLogger||vl}(i);u(this._console,"ERROR",i),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Tu(i);for(;o&&Tu(o);)o=Tu(o);return o||null}}const rf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rn))();function f(r){return r instanceof Function?r():r}var De=(()=>((De=De||{})[De.Important=1]="Important",De[De.DashCase=2]="DashCase",De))();function St(r,i){return undefined(r,i)}function sr(r){const i=r[3];return qn(i)?i[3]:i}function Sr(r){return Au(r[13])}function Ia(r){return Au(r[4])}function Au(r){for(;null!==r&&!qn(r);)r=r[4];return r}function uo(r,i,o,u,c){if(null!=u){let h,m=!1;qn(u)?h=u:Tr(u)&&(m=!0,u=u[0]);const E=C(u);0===r&&null!==o?null==c?_r(i,o,E):Hr(i,o,E,c||null,!0):1===r&&null!==o?Hr(i,o,E,c||null,!0):2===r?function Al(r,i,o){const u=cf(r,i);u&&function Tl(r,i,o,u){wn(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,E,m):3===r&&i.destroyNode(E),null!=h&&function k0(r,i,o,u,c){const h=o[7];h!==C(o)&&uo(i,r,u,h,c);for(let E=10;E<o.length;E++){const b=o[E];xl(b[1],b,r,i,u,h)}}(i,r,h,o,c)}}function wa(r,i,o){if(wn(r))return r.createElement(i,o);{const u=null!==o?function dr(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(o):null;return null===u?r.createElement(i):r.createElementNS(u,i)}}function Uy(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,xn(c,-1)),o.splice(u,1)}function Jr(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&Uy(c,u),i>0&&(r[o-1][4]=u[4]);const h=da(r,10+i);!function eu(r,i){xl(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Fn(r,i){if(!(256&i[2])){const o=i[11];wn(o)&&o.destroyNode&&xl(r,i,o,3,null,null),function Ly(r){let i=r[13];if(!i)return uf(r[1],r);for(;i;){let o=null;if(Tr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Tr(i)&&uf(i[1],i),i=i[3];null===i&&(i=r),Tr(i)&&uf(i[1],i),o=i&&i[4]}i=o}}(i)}}function uf(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function Su(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof to)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const E=c[h[m]],b=h[m+1];try{b.call(E)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function Vy(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],E="function"==typeof m?m(i):C(i[m]),b=u[c=o[h+2]],N=o[h+3];"boolean"==typeof N?E.removeEventListener(o[h],b,N):N>=0?u[c=N]():u[c=-N].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();i[7]=null}}(r,i),1===i[1].type&&wn(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&qn(i[3])){o!==i[3]&&Uy(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function Xr(r,i,o){return function Xd(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===Yt.None||c===Yt.Emulated)return null}return qe(u,o)}(r,i.parent,o)}function Hr(r,i,o,u,c){wn(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function _r(r,i,o){wn(r)?r.appendChild(i,o):i.appendChild(o)}function tg(r,i,o,u,c){null!==u?Hr(r,i,o,u,c):_r(r,i,o)}function cf(r,i){return wn(r)?r.parentNode(i):i.parentNode}let Cl=function lf(r,i,o){return 40&r.type?qe(r,o):null};function $n(r,i,o,u){const c=Xr(r,u,i),h=i[11],E=function By(r,i,o){return Cl(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)tg(h,c,o[b],E,!1);else tg(h,c,o,E,!1)}function df(r,i){if(null!==i){const o=i.type;if(3&o)return qe(i,r);if(4&o)return _c(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return df(r,u);{const c=r[i.index];return qn(c)?_c(-1,c):C(c)}}if(32&o)return St(i,r)()||C(r[i.index]);{const u=eh(r,i);return null!==u?Array.isArray(u)?u[0]:df(sr(r[16]),u):df(r,i.next)}}return null}function eh(r,i){return null!==i?r[16][6].projection[i.projection]:null}function _c(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return df(u,c)}return i[7]}function Sl(r,i,o,u,c,h,m){for(;null!=o;){const E=u[o.index],b=o.type;if(m&&0===i&&(E&&Oi(C(E),u),o.flags|=4),64!=(64&o.flags))if(8&b)Sl(r,i,o.child,u,c,h,!1),uo(i,r,c,E,h);else if(32&b){const N=St(o,u);let k;for(;k=N();)uo(i,r,c,k,h);uo(i,r,c,E,h)}else 16&b?rg(r,i,u,o,c,h):uo(i,r,c,E,h);o=m?o.projectionNext:o.next}}function xl(r,i,o,u,c,h){Sl(o,u,r.firstChild,i,c,h,!1)}function rg(r,i,o,u,c,h){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let N=0;N<b.length;N++)uo(i,r,c,b[N],h);else Sl(r,i,b,m[3],c,h,!0)}function ig(r,i,o){wn(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function sg(r,i,o){wn(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Gy(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||r.charCodeAt(c+h)<=32)return c}o=c+1}}const Ml="ng-template";function zy(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Gy(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function Wy(r){return 4===r.type&&r.value!==Ml}function Pi(r,i,o){return i===(4!==r.type||o?r.value:Ml)}function og(r,i,o){let u=4;const c=r.attrs||[],h=function Ky(r){for(let i=0;i<r.length;i++)if(Cs(r[i]))return i;return r.length}(c);let m=!1;for(let E=0;E<i.length;E++){const b=i[E];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!Pi(r,b,o)||""===b&&1===i.length){if(lo(u))return!1;m=!0}}else{const N=8&u?b:i[++E];if(8&u&&null!==r.attrs){if(!zy(r.attrs,N,o)){if(lo(u))return!1;m=!0}continue}const z=th(8&u?"class":b,c,Wy(r),o);if(-1===z){if(lo(u))return!1;m=!0;continue}if(""!==N){let ne;ne=z>h?"":c[z+1].toLowerCase();const me=8&u?ne:null;if(me&&-1!==Gy(me,N,0)||2&u&&N!==ne){if(lo(u))return!1;m=!0}}}}else{if(!m&&!lo(u)&&!lo(b))return!1;if(m&&lo(b))continue;m=!1,u=b|1&u}}return lo(u)||m}function lo(r){return 0==(1&r)}function th(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let E=i[++c];for(;"string"==typeof E;)E=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function nh(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function $o(r,i,o=!1){for(let u=0;u<i.length;u++)if(og(r,i[u],o))return!0;return!1}function ug(r,i){return r?":not("+i.trim()+")":i}function Zy(r){let i=r[0],o=1,u=2,c="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const E=r[++o];c+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!lo(m)&&(i+=ug(h,c),c=""),u=m,h=h||!lo(u);o++}return""!==c&&(i+=ug(h,c)),i}const on={};function hf(r){Yy(sn(),Ze(),kr()+r,lu())}function Yy(r,i,o,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&eo(i,h,o)}else{const h=r.preOrderHooks;null!==h&&Mo(i,h,0,o)}Bs(o)}function yf(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],h=o[u+1];if(-1!==h){const m=r.data[h];Na(c),m.contentQueries(2,i[h],h)}}}function Nl(r,i,o,u,c,h,m,E,b,N){const k=i.blueprint.slice();return k[0]=c,k[2]=140|u,Pn(k),k[3]=k[15]=r,k[8]=o,k[10]=m||r&&r[10],k[11]=E||r&&r[11],k[12]=b||r&&r[12]||null,k[9]=N||r&&r[9]||null,k[6]=h,k[16]=2==i.type?r[16]:k,k}function Ol(r,i,o,u,c){let h=r.data[i];if(null===h)h=function vf(r,i,o,u,c){const h=Xs(),m=Us(),b=r.data[i]=function q0(r,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=b),null!==h&&(m?null==h.child&&null!==b.parent&&(h.child=b):null===h.next&&(h.next=b)),b}(r,i,o,u,c),function qu(){return nt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=function ra(){const r=nt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Ui(h,!0),h}function ru(r,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function Go(r,i,o){Pr(i);try{const u=r.viewQuery;null!==u&&Ac(1,u,o);const c=r.template;null!==c&&kl(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&yf(r,i),r.staticViewQueries&&Ac(2,r.viewQuery,o);const h=r.components;null!==h&&function Ru(r,i){for(let o=0;o<i.length;o++)X0(r,i[o])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,xo()}}function fo(r,i,o,u){const c=i[2];if(256==(256&c))return;Pr(i);const h=lu();try{Pn(i),function To(r){return nt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&kl(r,i,o,2,u);const m=3==(3&c);if(!h)if(m){const N=r.preOrderCheckHooks;null!==N&&eo(i,N,null)}else{const N=r.preOrderHooks;null!==N&&Mo(i,N,0,null),Fa(i,0)}if(function Tc(r){for(let i=Sr(r);null!==i;i=Ia(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],h=c[3];0==(1024&c[2])&&xn(h,1),c[2]|=1024}}}(i),function Pu(r){for(let i=Sr(r);null!==i;i=Ia(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];We(u)&&fo(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&yf(r,i),!h)if(m){const N=r.contentCheckHooks;null!==N&&eo(i,N)}else{const N=r.contentHooks;null!==N&&Mo(i,N,1),Fa(i,1)}!function gg(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Bs(~c);else{const h=c,m=o[++u],E=o[++u];Zu(m,h),E(2,i[h])}}}finally{Bs(-1)}}(r,i);const E=r.components;null!==E&&function mg(r,i){for(let o=0;o<i.length;o++)bg(r,i[o])}(i,E);const b=r.viewQuery;if(null!==b&&Ac(2,b,u),!h)if(m){const N=r.viewCheckHooks;null!==N&&eo(i,N)}else{const N=r.viewHooks;null!==N&&Mo(i,N,2),Fa(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,xn(i[3],-1))}finally{xo()}}function Pl(r,i,o,u){const c=i[10],h=!lu(),m=de(i);try{h&&!m&&c.begin&&c.begin(),m&&Go(r,i,u),fo(r,i,o,u)}finally{h&&!m&&c.end&&c.end()}}function kl(r,i,o,u,c){const h=kr(),m=2&u;try{Bs(-1),m&&i.length>20&&Yy(r,i,20,lu()),o(u,c)}finally{Bs(h)}}function vg(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=_f(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function _f(r,i,o,u,c,h,m,E,b,N){const k=20+u,z=k+c,ne=function ov(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:on);return o}(k,z),me="function"==typeof N?N():N;return ne[1]={type:r,blueprint:ne,template:o,queries:null,viewQuery:E,declTNode:i,data:ne.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:me,incompleteFirstPass:!1}}function Dc(r,i,o,u){const c=mv(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Ag(r).push(u,c.length-1))}function Eg(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function cv(r,i,o,u,c,h){const m=h.hostBindings;if(m){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const b=~i.index;(function lv(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(E)!=b&&E.push(b),E.push(u,c,m)}}function ah(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function vs(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function wf(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;Nr(i)&&(o[""]=r)}}function Df(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function wg(r,i,o,u,c){r.data[u]=c;const h=c.factory||(c.factory=Cr(c.type)),m=new to(h,Nr(c),null);r.blueprint[u]=m,o[u]=m,cv(r,i,0,u,ru(r,o,c.hostVars,on),c)}function Ou(r,i,o){const u=qe(i,r),c=vg(o),h=r[10],m=Cf(r,Nl(r,c,null,o.onPush?64:16,u,i,h,h.createRenderer(u,o),null,null));r[i.index]=m}function _s(r,i,o,u,c,h){const m=qe(r,i);!function bf(r,i,o,u,c,h,m){if(null==h)wn(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const E=null==m?Ae(h):m(h,u||"",c);wn(r)?r.setAttribute(i,c,E,o):o?i.setAttributeNS(o,c,E):i.setAttribute(c,E)}}(i[11],m,h,r.value,o,u,c)}function bc(r,i,o,u,c,h){const m=h[i];if(null!==m){const E=u.setInput;for(let b=0;b<m.length;){const N=m[b++],k=m[b++],z=m[b++];null!==E?u.setInput(o,z,N,k):o[k]=z}}}function J0(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function bg(r,i){const o=Q(i,r);if(We(o)){const u=o[1];80&o[2]?fo(u,o,u.template,o[8]):o[5]>0&&Tf(o)}}function Tf(r){for(let u=Sr(r);null!==u;u=Ia(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const m=h[1];fo(m,h,m.template,h[8])}else h[5]>0&&Tf(h)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Q(o[u],r);We(c)&&c[5]>0&&Tf(c)}}function X0(r,i){const o=Q(i,r),u=o[1];(function eE(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),Go(u,o,o[8])}function Cf(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Tg(r){for(;r;){r[2]|=64;const i=sr(r);if(zn(r)&&!i)return r;r=i}return null}function Cg(r,i,o){const u=i[10];u.begin&&u.begin();try{fo(r,i,r.template,o)}catch(c){throw Mf(i,c),c}finally{u.end&&u.end()}}function fv(r){!function Sf(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=Wd(o),c=u[1];Pl(c,u,c.template,o)}}(r[8])}function Ac(r,i,o){Na(0),i(r,o)}const gv=(()=>Promise.resolve(null))();function mv(r){return r[7]||(r[7]=[])}function Ag(r){return r.cleanup||(r.cleanup=[])}function Mf(r,i){const o=r[9],u=o?o.get(ai,null):null;u&&u.handleError(i)}function Vl(r,i,o,u,c){for(let h=0;h<o.length;){const m=o[h++],E=o[h++],b=i[m],N=r.data[m];null!==N.setInput?N.setInput(b,c,u,E):b[E]=c}}function Bl(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const E=i[m];"number"==typeof E?h=E:1==h?c=ge(c,E):2==h&&(u=ge(u,E+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const xg=new tr("INJECTOR",-1);class Mg{get(i,o=ha){if(o===ha){const u=new Error(`NullInjectorError: No provider for ${he(i)}!`);throw u.name="NullInjectorError",u}return o}}const Rf=new tr("Set Injector scope."),Sc={},iE={};let Nf;function yv(){return void 0===Nf&&(Nf=new Mg),Nf}function Rg(r,i=null,o=null,u){const c=vv(r,i,o,u);return c._resolveInjectorDefTypes(),c}function vv(r,i=null,o=null,u){return new jl(r,o,i||yv(),u)}class jl{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&ds(o,E=>this.processProvider(E,i,o)),ds([i],E=>this.processInjectorType(E,[],h)),this.records.set(xg,xc(void 0,this));const m=this.records.get(Rf);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:he(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=ha,u=Tt.Default){this.assertNotDestroyed();const c=il(this),h=Gn(void 0);try{if(!(u&Tt.SkipSelf)){let E=this.records.get(i);if(void 0===E){const b=function Lg(r){return"function"==typeof r||"object"==typeof r&&r instanceof tr}(i)&&$t(i);E=b&&this.injectableDefInScope(b)?xc(ku(i),Sc):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(u&Tt.Self?yv():this.parent).get(i,o=u&Tt.Optional&&o===ha?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Ha]=m[Ha]||[]).unshift(he(i)),c)throw m;return function si(r,i,o,u){const c=r[Ha];throw i[Ga]&&c.unshift(i[Ga]),r.message=function Wa(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=he(i);if(Array.isArray(i))c=i.map(he).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let E=i[m];h.push(m+":"+("string"==typeof E?JSON.stringify(E):he(E)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Od,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[Ha]=null,r}(m,i,"R3InjectorError",this.source)}throw m}finally{Gn(h),il(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(he(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(i,o,u){if(!(i=ue(i)))return!1;let c=Hn(i);const h=null==c&&i.ngModule||void 0,m=void 0===h?i:h,E=-1!==u.indexOf(m);if(void 0!==h&&(c=Hn(h)),null==c)return!1;if(null!=c.imports&&!E){let k;u.push(m);try{ds(c.imports,z=>{this.processInjectorType(z,o,u)&&(void 0===k&&(k=[]),k.push(z))})}finally{}if(void 0!==k)for(let z=0;z<k.length;z++){const{ngModule:ne,providers:me}=k[z];ds(me,$e=>this.processProvider($e,ne,me||Nt))}}this.injectorDefTypes.add(m);const b=Cr(m)||(()=>new m);this.records.set(m,xc(b,Sc));const N=c.providers;if(null!=N&&!E){const k=i;ds(N,z=>this.processProvider(z,k,N))}return void 0!==h&&void 0!==i.providers}processProvider(i,o,u){let c=$l(i=ue(i))?i:ue(i&&i.provide);const h=function Of(r,i,o){return Pg(r)?xc(void 0,r.useValue):xc(function Og(r,i,o){let u;if($l(r)){const c=ue(r);return Cr(c)||ku(c)}if(Pg(r))u=()=>ue(r.useValue);else if(function kg(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Iu(r.deps||[]));else if(function sE(r){return!(!r||!r.useExisting)}(r))u=()=>gi(ue(r.useExisting));else{const c=ue(r&&(r.useClass||r.provide));if(!function oE(r){return!!r.deps}(r))return Cr(c)||ku(c);u=()=>new c(...Iu(r.deps))}return u}(r),Sc)}(i);if($l(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=xc(void 0,Sc,!0),m.factory=()=>Iu(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,h)}hydrate(i,o){return o.value===Sc&&(o.value=iE,o.value=o.factory()),"object"==typeof o.value&&o.value&&function aE(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=ue(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function ku(r){const i=$t(r),o=null!==i?i.factory:Cr(r);if(null!==o)return o;if(r instanceof tr)throw new Ke(204,!1);if(r instanceof Function)return function Ng(r){const i=r.length;if(i>0)throw function hs(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?"),new Ke(204,!1);const o=function wr(r){const i=r&&(r[Zn]||r[gr]);if(i){const o=function pr(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Ke(204,!1)}function xc(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Pg(r){return null!==r&&"object"==typeof r&&Pd in r}function $l(r){return"function"==typeof r}let or=(()=>{class r{static create(o,u){var c;if(Array.isArray(o))return Rg({name:""},u,o,"");{const h=null!==(c=o.name)&&void 0!==c?c:"";return Rg({name:h},o.parent,o.providers,h)}}}return r.THROW_IF_NOT_FOUND=ha,r.NULL=new Mg,r.\u0275prov=ln({token:r,providedIn:"any",factory:()=>gi(xg)}),r.__NG_ELEMENT_ID__=-1,r})();function dE(r,i){Vi(Wd(r)[1],Vr())}let lh=null;function Fu(){if(!lh){const r=rn.Symbol;if(r&&r.iterator)lh=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(lh=u)}}}return lh}function go(r){return!!dh(r)&&(Array.isArray(r)||!(r instanceof Map)&&Fu()in r)}function dh(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ts(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Vf(r,i,o,u){const c=Ze();return ts(c,os(),i)&&(sn(),_s(hr(),c,r,i,o,u)),Vf}function Fc(r,i=Tt.Default){const o=Ze();return null===o?gi(r,i):ca(Vr(),o,ue(r),i)}function Zf(){throw new Error("invalid")}function Bu(r,i,o){const u=Ze();return ts(u,os(),i)&&function zs(r,i,o,u,c,h,m,E){const b=qe(i,o);let k,N=i.inputs;!E&&null!=N&&(k=N[u])?(Vl(r,o,k,u,c),Hi(i)&&function Ef(r,i){const o=Q(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function Y0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,wn(h)?h.setProperty(b,u,c):tc(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}(sn(),hr(),u,r,i,u[11],o,!1),Bu}function Yf(r,i,o,u,c){const m=c?"class":"style";Vl(r,o,i.inputs[m],m,u)}function Qf(r,i,o,u){const c=Ze(),h=sn(),m=20+r,E=c[11],b=c[m]=wa(E,i,function Yc(){return nt.lFrame.currentNamespace}()),N=h.firstCreatePass?function am(r,i,o,u,c,h,m){const E=i.consts,N=Ol(i,r,2,c,It(E,h));return function Ul(r,i,o,u){let c=!1;if(ss()){const h=function dv(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];$o(o,m.selectors,!1)&&(c||(c=[]),ua(No(o,i),r,m.type),Nr(m)?(vs(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==h){c=!0,Df(o,r.data.length,h.length);for(let k=0;k<h.length;k++){const z=h[k];z.providersResolver&&z.providersResolver(z)}let E=!1,b=!1,N=ru(r,i,h.length,null);for(let k=0;k<h.length;k++){const z=h[k];o.mergedAttrs=cs(o.mergedAttrs,z.hostAttrs),wg(r,o,i,N,z),wf(N,z,m),null!==z.contentQueries&&(o.flags|=8),(null!==z.hostBindings||null!==z.hostAttrs||0!==z.hostVars)&&(o.flags|=128);const ne=z.type.prototype;!E&&(ne.ngOnChanges||ne.ngOnInit||ne.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),E=!0),!b&&(ne.ngOnChanges||ne.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),b=!0),N++}!function Z0(r,i){const u=i.directiveEnd,c=r.data,h=i.attrs,m=[];let E=null,b=null;for(let N=i.directiveStart;N<u;N++){const k=c[N],z=k.inputs,ne=null===h||Wy(i)?null:J0(z,h);m.push(ne),E=Eg(z,N,E),b=Eg(k.outputs,N,b)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=E,i.outputs=b}(r,o)}m&&function hv(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new Ke(-301,!1);u.push(i[c],h)}}}(o,u,m)}return o.mergedAttrs=cs(o.mergedAttrs,o.attrs),c}(i,o,N,It(E,m)),null!==N.attrs&&Bl(N,N.attrs,!1),null!==N.mergedAttrs&&Bl(N,N.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,N),N}(m,h,c,0,i,o,u):h.data[m];Ui(N,!0);const k=N.mergedAttrs;null!==k&&Ri(E,b,k);const z=N.classes;null!==z&&sg(E,b,z);const ne=N.styles;return null!==ne&&ig(E,b,ne),64!=(64&N.flags)&&$n(h,c,b,N),0===function zt(){return nt.lFrame.elementDepthCount}()&&Oi(b,c),function qr(){nt.lFrame.elementDepthCount++}(),Jn(N)&&(function ih(r,i,o){!ss()||(function oh(r,i,o,u){const c=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||No(o,i),Oi(u,i);const m=o.initialInputs;for(let E=c;E<h;E++){const b=r.data[E],N=Nr(b);N&&Ou(i,o,b);const k=y(i,r,E,o);Oi(k,i),null!==m&&bc(0,E-c,k,b,0,m),N&&(Q(o.index,i)[8]=k)}}(r,i,o,qe(o,i)),128==(128&o.flags)&&function If(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,E=function bd(){return nt.lFrame.currentDirectiveIndex}();try{Bs(m);for(let b=u;b<c;b++){const N=r.data[b],k=i[b];as(b),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&ah(N,k)}}finally{Bs(-1),as(E)}}(r,i,o))}(h,c,N),function yg(r,i,o){if($i(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}(h,N,c)),null!==u&&function sh(r,i,o=qe){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],E=-1===m?o(i,r):r[m];r[c++]=E}}}(c,N),Qf}function td(){let r=Vr();Us()?function Ma(){nt.lFrame.isParent=!1}():(r=r.parent,Ui(r,!1));const i=r;!function hi(){nt.lFrame.elementDepthCount--}();const o=sn();return o.firstCreatePass&&(Vi(o,r),$i(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Ad(r){return 0!=(16&r.flags)}(i)&&Yf(o,i,Ze(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function fu(r){return 0!=(32&r.flags)}(i)&&Yf(o,i,Ze(),i.stylesWithoutHost,!1),td}function Ko(r,i,o,u){return Qf(r,i,o,u),td(),Ko}function lm(r){return!!r&&"function"==typeof r.then}function Jf(r){return!!r&&"function"==typeof r.subscribe}const zv=Jf;function mh(r,i,o,u){const c=Ze(),h=sn(),m=Vr();return function hm(r,i,o,u,c,h,m,E){const b=Jn(u),k=r.firstCreatePass&&Ag(r),z=i[8],ne=mv(i);let me=!0;if(3&u.type||E){const mt=qe(u,i),kt=E?E(mt):mt,Qe=ne.length,Kt=E?Ln=>E(C(Ln[u.index])):u.index;if(wn(o)){let Ln=null;if(!E&&b&&(Ln=function dm(r,i,o,u){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const E=i[7],b=c[h+2];return E.length>b?E[b]:null}"string"==typeof m&&(h+=2)}return null}(r,i,c,u.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=h,Ln.__ngLastListenerFn__=h,me=!1;else{h=ep(u,i,z,h,!1);const ar=o.listen(kt,c,h);ne.push(h,ar),k&&k.push(c,Kt,Qe,Qe+1)}}else h=ep(u,i,z,h,!0),kt.addEventListener(c,h,m),ne.push(h),k&&k.push(c,Kt,Qe,m)}else h=ep(u,i,z,h,!1);const $e=u.outputs;let at;if(me&&null!==$e&&(at=$e[c])){const mt=at.length;if(mt)for(let kt=0;kt<mt;kt+=2){const ea=i[at[kt]][at[kt+1]].subscribe(h),Vh=ne.length;ne.push(h,ea),k&&k.push(c,u.index,Vh,-(Vh+1))}}}(h,c,c[11],m,r,i,!!o,u),mh}function Xf(r,i,o,u){try{return!1!==o(u)}catch(c){return Mf(r,c),!1}}function ep(r,i,o,u,c){return function h(m){if(m===Function)return u;const E=2&r.flags?Q(r.index,i):i;0==(32&i[2])&&Tg(E);let b=Xf(i,0,u,m),N=h.__ngNextListenerFn__;for(;N;)b=Xf(i,0,N,m)&&b,N=N.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function _h(r,i=""){const o=Ze(),u=sn(),c=r+20,h=u.firstCreatePass?Ol(u,c,1,i,null):u.data[c],m=o[c]=function Il(r,i){return wn(r)?r.createText(i):r.createTextNode(i)}(o[11],i);$n(u,o,m,h),Ui(h,!1)}const Vc=void 0;var xm=["en",[["a","p"],["AM","PM"],Vc],[["AM","PM"],Vc,Vc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vc,"{1} 'at' {0}",Vc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $E(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let Hu={};function ou(r){const i=function pp(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=fp(i);if(o)return o;const u=i.split("-")[0];if(o=fp(u),o)return o;if("en"===u)return xm;throw new Error(`Missing locale data for the locale "${r}".`)}function Mm(r){return ou(r)[Zt.PluralCase]}function fp(r){return r in Hu||(Hu[r]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[r]),Hu[r]}var Zt=(()=>((Zt=Zt||{})[Zt.LocaleId=0]="LocaleId",Zt[Zt.DayPeriodsFormat=1]="DayPeriodsFormat",Zt[Zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zt[Zt.DaysFormat=3]="DaysFormat",Zt[Zt.DaysStandalone=4]="DaysStandalone",Zt[Zt.MonthsFormat=5]="MonthsFormat",Zt[Zt.MonthsStandalone=6]="MonthsStandalone",Zt[Zt.Eras=7]="Eras",Zt[Zt.FirstDayOfWeek=8]="FirstDayOfWeek",Zt[Zt.WeekendRange=9]="WeekendRange",Zt[Zt.DateFormat=10]="DateFormat",Zt[Zt.TimeFormat=11]="TimeFormat",Zt[Zt.DateTimeFormat=12]="DateTimeFormat",Zt[Zt.NumberSymbols=13]="NumberSymbols",Zt[Zt.NumberFormats=14]="NumberFormats",Zt[Zt.CurrencyCode=15]="CurrencyCode",Zt[Zt.CurrencySymbol=16]="CurrencySymbol",Zt[Zt.CurrencyName=17]="CurrencyName",Zt[Zt.Currencies=18]="Currencies",Zt[Zt.Directionality=19]="Directionality",Zt[Zt.PluralCase=20]="PluralCase",Zt[Zt.ExtraData=21]="ExtraData",Zt))();const Gu="en-US";let au=Gu;class U_{}class xh{resolveComponentFactory(i){throw function V_(r){const i=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let Tp=(()=>{class r{}return r.NULL=new xh,r})();function Qw(){return hd(Vr(),Ze())}function hd(r,i){return new Wc(qe(r,i))}let Wc=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=Qw,r})();function Jw(r){return r instanceof Wc?r.nativeElement:r}class B_{}let mI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function eD(){const r=Ze(),o=Q(Vr().index,r);return function Xw(r){return r[11]}(Tr(o)?o:r)}(),r})(),tD=(()=>{class r{}return r.\u0275prov=ln({token:r,providedIn:"root",factory:()=>null}),r})();class yI{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const vI=new yI("13.3.1"),j_={};function Hm(r,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(C(h)),qn(h))for(let E=10;E<h.length;E++){const b=h[E],N=b[1].firstChild;null!==N&&Hm(b[1],b,N,u)}const m=o.type;if(8&m)Hm(r,i,o.child,u);else if(32&m){const E=St(o,i);let b;for(;b=E();)u.push(b)}else if(16&m){const E=eh(i,o);if(Array.isArray(E))u.push(...E);else{const b=sr(i[16]);Hm(b[1],b,E,u,!0)}}o=c?o.projectionNext:o.next}return u}class Cp{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return Hm(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(qn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Jr(i,u),da(o,u))}this._attachedToViewContainer=!1}Fn(this._lView[1],this._lView)}onDestroy(i){Dc(this._lView[1],this._lView,null,i)}markForCheck(){Tg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function pv(r,i,o){xi(!0);try{Cg(r,i,o)}finally{xi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function af(r,i){xl(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=i}}class $_ extends Cp{constructor(i){super(i),this._view=i}detectChanges(){fv(this._view)}checkNoChanges(){!function Cc(r){xi(!0);try{fv(r)}finally{xi(!1)}}(this._view)}get context(){return null}}class H_ extends Tp{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Xt(i);return new fd(o,this.ngModule)}}function G_(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}class fd extends U_{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function F0(r){return r.map(Zy).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return G_(this.componentDef.inputs)}get outputs(){return G_(this.componentDef.outputs)}create(i,o,u,c){const h=(c=c||this.ngModule)?function Yo(r,i){return{get:(o,u,c)=>{const h=r.get(o,j_,c);return h!==j_||u===j_?h:i.get(o,u,c)}}}(i,c.injector):i,m=h.get(B_,A),E=h.get(tD,null),b=m.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",k=u?function Fl(r,i,o){if(wn(r))return r.selectRootElement(i,o===Yt.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(b,u,this.componentDef.encapsulation):wa(m.createRenderer(null,this.componentDef),N,function ki(r){const i=r.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(N)),z=this.componentDef.onPush?576:528,ne=function Gg(r,i){return{components:[],scheduler:r||rf,clean:gv,playerHandler:i||null,flags:0}}(),me=_f(0,null,null,1,0,null,null,null,null,null),$e=Nl(null,me,ne,z,null,null,m,b,E,h);let at,mt;Pr($e);try{const kt=function Gl(r,i,o,u,c,h){const m=o[1];o[20]=r;const b=Ol(m,20,2,"#host",null),N=b.mergedAttrs=i.hostAttrs;null!==N&&(Bl(b,N,!0),null!==r&&(Ri(c,r,N),null!==b.classes&&sg(c,r,b.classes),null!==b.styles&&ig(c,r,b.styles)));const k=u.createRenderer(r,i),z=Nl(o,vg(i),null,i.onPush?64:16,o[20],b,u,k,h||null,null);return m.firstCreatePass&&(ua(No(b,o),m,i.type),vs(m,b),Df(b,o.length,1)),Cf(o,z),o[20]=z}(k,this.componentDef,$e,m,b);if(k)if(u)Ri(b,k,["ng-version",vI.full]);else{const{attrs:Qe,classes:Kt}=function L0(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++u]):8===c&&o.push(h);else{if(!lo(c))break;c=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Qe&&Ri(b,k,Qe),Kt&&Kt.length>0&&sg(b,k,Kt.join(" "))}if(mt=V(me,20),void 0!==o){const Qe=mt.projection=[];for(let Kt=0;Kt<this.ngContentSelectors.length;Kt++){const Ln=o[Kt];Qe.push(null!=Ln?Array.from(Ln):null)}}at=function Lf(r,i,o,u,c){const h=o[1],m=function Ig(r,i,o){const u=Vr();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),wg(r,u,i,ru(r,i,1,null),o));const c=y(i,r,u.directiveStart,u);Oi(c,i);const h=qe(u,i);return h&&Oi(h,i),c}(h,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(b=>b(m,i)),i.contentQueries){const b=Vr();i.contentQueries(1,m,b.directiveStart)}const E=Vr();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Bs(E.index),cv(o[1],E,0,E.directiveStart,E.directiveEnd,i),ah(i,m)),m}(kt,this.componentDef,$e,ne,[dE]),Go(me,$e,null)}finally{xo()}return new _I(this.componentType,at,hd(mt,$e),$e,mt)}}class _I extends class pI{}{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new $_(c),this.componentType=i}get injector(){return new Z(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Kc{}class z_{}const pd=new Map;class Ap extends Kc{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new H_(this);const u=fn(i);this._bootstrapComponents=f(u.bootstrap),this._r3Injector=vv(i,o,[{provide:Kc,useValue:this},{provide:Tp,useValue:this.componentFactoryResolver}],he(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=or.THROW_IF_NOT_FOUND,u=Tt.Default){return i===or||i===Kc||i===xg?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class gd extends z_{constructor(i){super(),this.moduleType=i,null!==fn(i)&&function ws(r){const i=new Set;!function o(u){const c=fn(u,!0),h=c.id;null!==h&&(function W_(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${he(i)} vs ${he(i.name)}`)}(h,pd.get(h),u),pd.set(h,u));const m=f(c.imports);for(const E of m)i.has(E)||(i.add(E),o(E))}(r)}(i)}create(i){return new Ap(this.moduleType,i)}}function Sp(r,i,o){const u=function fi(){const r=nt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}()+r,c=Ze();return c[u]===on?function Da(r,i,o){return r[i]=o}(c,u,o?i.call(o):i()):function Rc(r,i){return r[i]}(c,u)}function Nh(r){return i=>{setTimeout(r,void 0,i)}}const Qo=class AI extends w.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,h,m;let E=i,b=o||(()=>null),N=u;if(i&&"object"==typeof i){const z=i;E=null===(c=z.next)||void 0===c?void 0:c.bind(z),b=null===(h=z.error)||void 0===h?void 0:h.bind(z),N=null===(m=z.complete)||void 0===m?void 0:m.bind(z)}this.__isAsync&&(b=Nh(b),E&&(E=Nh(E)),N&&(N=Nh(N)));const k=super.subscribe({next:E,error:b,complete:N});return i instanceof R.w0&&i.add(k),k}};function e0(){return this._results[Fu()]()}class Oh{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Fu(),u=Oh.prototype;u[o]||(u[o]=e0)}get changes(){return this._changes||(this._changes=new Qo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Ar(i);(this._changesDetected=!function el(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ph=(()=>{class r{}return r.__NG_ELEMENT_ID__=Mp,r})();const SI=Ph,xI=class extends SI{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Nl(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),Go(o,u,i),new Cp(u)}};function Mp(){return vd(Vr(),Ze())}function vd(r,i){return 4&r.type?new xI(i,r,hd(r,i)):null}let _d=(()=>{class r{}return r.__NG_ELEMENT_ID__=Jm,r})();function Jm(){return r0(Vr(),Ze())}const t0=_d,n0=class extends t0{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Z(this._hostTNode,this._hostLView)}get parentInjector(){const i=gu(this._hostTNode,this._hostLView);if(sa(i)){const o=io(i,this._hostLView),u=Wn(i);return new Z(o[1].data[u+8],o)}return new Z(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Xm(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,h){const m=i&&!function la(r){return"function"==typeof r}(i);let E;if(m)E=o;else{const z=o||{};E=z.index,u=z.injector,c=z.projectableNodes,h=z.ngModuleRef}const b=m?i:new fd(Xt(i)),N=u||this.parentInjector;if(!h&&null==b.ngModule){const ne=(m?N:this.parentInjector).get(Kc,null);ne&&(h=ne)}const k=b.create(N,c,void 0,h);return this.insert(k.hostView,E),k}insert(i,o){const u=i._lView,c=u[1];if(function Xe(r){return qn(r[3])}(u)){const k=this.indexOf(i);if(-1!==k)this.detach(k);else{const z=u[3],ne=new n0(z,z[6],z[3]);ne.detach(ne.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function Jd(r,i,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=i),u<h-10?(i[4]=o[c],jh(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function eg(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(c,u,m,h);const E=_c(h,m),b=u[11],N=cf(b,m[7]);return null!==N&&function bl(r,i,o,u,c,h){u[0]=c,u[6]=i,xl(r,u,o,1,c,h)}(c,m[6],b,u,N,E),i.attachToViewContainerRef(),jh(Ed(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Xm(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Jr(this._lContainer,o);u&&(da(Ed(this._lContainer),o),Fn(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Jr(this._lContainer,o);return u&&null!=da(Ed(this._lContainer),o)?new Cp(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Xm(r){return r[8]}function Ed(r){return r[8]||(r[8]=[])}function r0(r,i){let o;const u=i[r.index];if(qn(u))o=u;else{let c;if(8&r.type)c=C(u);else{const h=i[11];c=h.createComment("");const m=qe(r,i);Hr(h,cf(h,m),c,function co(r,i){return wn(r)?r.nextSibling(i):i.nextSibling}(h,m),!1)}i[r.index]=o=function Dg(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}(u,i,c,r),Cf(i,o)}return new n0(o,r,i)}class ey{constructor(i){this.queryList=i,this.matches=null}clone(){return new ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class ty{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new ty(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==l0(i,o).matches&&this.queries[o].setDirty()}}class s0{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class ny{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new ny(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class ry{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new ry(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,NI(o,h)),this.matchTNodeWithReadOption(i,o,v(o,i,h,!1,!1))}else u===Ph?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,v(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Wc||c===_d||c===Ph&&4&o.type)this.addMatch(o.index,-2);else{const h=v(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function NI(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function o0(r,i,o,u){return-1===o?function Rp(r,i){return 11&r.type?hd(r,i):4&r.type?vd(r,i):null}(i,r):-2===o?function a0(r,i,o){return o===Wc?hd(i,r):o===Ph?vd(i,r):o===_d?r0(i,r):void 0}(r,i,u):y(r,r[1],o,i)}function Np(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const h=r.data,m=o.matches,E=[];for(let b=0;b<m.length;b+=2){const N=m[b];E.push(N<0?null:o0(i,h[N],m[b+1],o.metadata.read))}c.matches=E}return c.matches}function iy(r,i,o,u){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const m=Np(r,i,c,o);for(let E=0;E<h.length;E+=2){const b=h[E];if(b>0)u.push(m[E/2]);else{const N=h[E+1],k=i[-b];for(let z=10;z<k.length;z++){const ne=k[z];ne[17]===ne[3]&&iy(ne[1],ne,N,u)}if(null!==k[9]){const z=k[9];for(let ne=0;ne<z.length;ne++){const me=z[ne];iy(me[1],me,N,u)}}}}}return u}function u0(r){const i=Ze(),o=sn(),u=Ao();Na(u+1);const c=l0(o,u);if(r.dirty&&de(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?iy(o,i,u,[]):Np(o,i,c,u);r.reset(h,Jw),r.notifyOnChanges()}return!0}return!1}function sy(r,i,o,u){const c=sn();if(c.firstCreatePass){const h=Vr();(function uy(r,i,o){null===r.queries&&(r.queries=new ny),r.queries.track(new ry(i,o))})(c,new s0(i,o,u),h.index),function oD(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function ay(r,i,o){const u=new Oh(4==(4&o));Dc(r,i,u,u.destroy),null===i[19]&&(i[19]=new ty),i[19].queries.push(new ey(u))}(c,Ze(),o)}function oy(){return function c0(r,i){return r[19].queries[i].queryList}(Ze(),Ao())}function l0(r,i){return r.queries.getByIndex(i)}function Fp(...r){}const _0=new tr("Application Initializer");let Lp=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Fp,this.reject=Fp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(lm(h))o.push(h);else if(zv(h)){const m=new Promise((E,b)=>{h.subscribe({complete:E,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(gi(_0,8))},r.\u0275prov=ln({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const E0=new tr("AppId",{providedIn:"root",factory:function I0(){return`${Iy()}${Iy()}${Iy()}`}});function Iy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const w0=new tr("Platform Initializer"),Up=new tr("Platform ID"),wy=new tr("appBootstrapListener");let YI=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();const D0=new tr("LocaleId",{providedIn:"root",factory:()=>Ld(D0,Tt.Optional|Tt.SkipSelf)||function _D(){return"undefined"!=typeof $localize&&$localize.locale||Gu}()}),ED=new tr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ID{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let wD=(()=>{class r{compileModuleSync(o){return new gd(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=f(fn(o).declarations).reduce((m,E)=>{const b=Xt(E);return b&&m.push(new fd(b)),m},[]);return new ID(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const QI=(()=>Promise.resolve(0))();function Dy(r){"undefined"==typeof Zone?QI.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Jo{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function JI(){let r=rn.requestAnimationFrame,i=rn.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function by(r){const i=()=>{!function ew(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(rn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Ty(r),r.isCheckStableRunning=!0,Vp(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Ty(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,E)=>{try{return b0(r),o.invokeTask(c,h,m,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),wd(r)}},onInvoke:(o,u,c,h,m,E,b)=>{try{return b0(r),o.invoke(c,h,m,E,b)}finally{r.shouldCoalesceRunChangeDetection&&i(),wd(r)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Ty(r),Vp(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,XI,Fp,Fp);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const XI={};function Vp(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Ty(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function b0(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function wd(r){r._nesting--,Vp(r)}class T0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let tw=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),Dy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dy(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(gi(Jo))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})(),C0=(()=>{class r{constructor(){this._applications=new Map,Uh.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Uh.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();class nw{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function rw(r){Uh=r}let Xo,Uh=new nw;const A0=new tr("AllowMultipleToken");class sw{constructor(i,o){this.name=i,this.token=o}}function ow(r,i,o=[]){const u=`Platform: ${i}`,c=new tr(u);return(h=[])=>{let m=S0();if(!m||m.injector.get(A0,!1))if(r)r(o.concat(h).concat({provide:c,useValue:!0}));else{const E=o.concat(h).concat({provide:c,useValue:!0},{provide:Rf,useValue:"platform"});!function bD(r){if(Xo&&!Xo.destroyed&&!Xo.injector.get(A0,!1))throw new Ke(400,"");Xo=r.get(x0);const i=r.get(w0,null);i&&i.forEach(o=>o())}(or.create({providers:E,name:u}))}return function aw(r){const i=S0();if(!i)throw new Ke(401,"");return i}()}}function S0(){return Xo&&!Xo.destroyed?Xo:null}let x0=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const E=function uw(r,i){let o;return o="noop"===r?new T0:("zone.js"===r?void 0:r)||new Jo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Jo,useValue:E}];return E.run(()=>{const N=or.create({providers:b,parent:this.injector,name:o.moduleType.name}),k=o.create(N),z=k.injector.get(ai,null);if(!z)throw new Ke(402,"");return E.runOutsideAngular(()=>{const ne=E.onError.subscribe({next:me=>{z.handleError(me)}});k.onDestroy(()=>{Sy(this._modules,k),ne.unsubscribe()})}),function cw(r,i,o){try{const u=o();return lm(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(z,E,()=>{const ne=k.injector.get(Lp);return ne.runInitializers(),ne.donePromise.then(()=>(function WE(r){ft(r,"Expected localeId to be defined"),"string"==typeof r&&(au=r.toLowerCase().replace(/_/g,"-"))}(k.injector.get(D0,Gu)||Gu),this._moduleDoBootstrap(k),k))})})}bootstrapModule(o,u=[]){const c=M0({},u);return function iw(r,i,o){const u=new gd(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(Ay);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ke(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(gi(or))},r.\u0275prov=ln({token:r,factory:r.\u0275fac}),r})();function M0(r,i){return Array.isArray(i)?i.reduce(M0,r):Object.assign(Object.assign({},r),i)}let Ay=(()=>{class r{constructor(o,u,c,h,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new H.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),b=new H.y(N=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),Dy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{k.unsubscribe(),z.unsubscribe()}});this.isStable=(0,ce.T)(E,b.pipe((0,fe.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Ke(405,"");let c;c=o instanceof U_?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const h=function Cy(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Kc),E=c.create(or.NULL,[],u||c.selector,h),b=E.location.nativeElement,N=E.injector.get(tw,null),k=N&&E.injector.get(C0);return N&&k&&k.registerApplication(b,N),E.onDestroy(()=>{this.detachView(E.hostView),Sy(this.components,E),k&&k.unregisterApplication(b)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Sy(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(wy,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(gi(Jo),gi(or),gi(ai),gi(Tp),gi(Lp))},r.\u0275prov=ln({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Sy(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let N0=!0,xy=!1;function Bp(){return xy=!0,N0}function dw(){if(xy)throw new Error("Cannot enable prod mode after platform setup.");N0=!1}let fw=(()=>{class r{}return r.__NG_ELEMENT_ID__=pw,r})();function pw(r){return function P0(r,i,o){if(Hi(r)&&!o){const u=Q(r.index,i);return new Cp(u,u)}return 47&r.type?new Cp(i[16],i):null}(Vr(),Ze(),16==(16&r))}class Ur{constructor(){}supports(i){return go(i)}create(i){return new Nn(i)}}const cn=(r,i)=>i;class Nn{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||cn}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<Ku(u,c,h)?o:u,E=Ku(m,c,h),b=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const N=E-c,k=b-c;if(N!=k){for(let ne=0;ne<N;ne++){const me=ne<h.length?h[ne]:h[ne]=0,$e=me+ne;k<=$e&&$e<N&&(h[ne]=me+1)}h[m.previousIndex]=k-N}}E!==b&&i(m,E,b)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!go(i))throw new Ke(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],m=this._trackByFn(E,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,E)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,E),u=!0),o=o._next}else c=0,function fE(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Fu()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,E=>{m=this._trackByFn(c,E),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,E,m,c)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new En(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Rs),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rs),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class En{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sa{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Rs{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Sa,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ku(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Ei{constructor(){}supports(i){return i instanceof Map||dh(i)}create(){return new Gr}}class Gr{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||dh(i)))throw new Ke(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new Dd(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Dd{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SD(){return new gw([new Ur])}let gw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||SD()),deps:[[r,new rt,new Ka]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Ke(901,"")}}return r.\u0275prov=ln({token:r,providedIn:"root",factory:SD}),r})();function xD(){return new mw([new Ei])}let mw=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||xD()),deps:[[r,new rt,new Ka]]}}find(o){const u=this.factories.find(h=>h.supports(o));if(u)return u;throw new Ke(901,"")}}return r.\u0275prov=ln({token:r,providedIn:"root",factory:xD}),r})();const BD=ow(null,"core",[{provide:Up,useValue:"unknown"},{provide:x0,deps:[or]},{provide:C0,deps:[]},{provide:YI,deps:[]}]);let jD=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(gi(Ay))},r.\u0275mod=re({type:r}),r.\u0275inj=an({}),r})()},549:(Dt,Me,P)=>{P.d(Me,{jw:()=>rn,F0:()=>Zr,yS:()=>ro,Bz:()=>Ro,lC:()=>F,fw:()=>U});var w=P(5e3),R=P(7579);class H extends R.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const y=super._subscribe(v);return!y.closed&&v.next(this._value),y}getValue(){const{hasError:v,thrownError:y,_value:T}=this;if(v)throw y;return this._throwIfClosed(),T}next(v){super.next(this._value=v)}}var ce=P(8306);const{isArray:fe}=Array,{getPrototypeOf:_e,prototype:ve,keys:he}=Object;var Y=P(8996),ue=P(4671),ke=P(4004);const{isArray:Pe}=Array;var Ae=P(7669),ht=P(5403),ct=P(9672);function ze(...D){const v=(0,Ae.yG)(D),y=(0,Ae.jO)(D),{args:T,keys:x}=function ge(D){if(1===D.length){const v=D[0];if(fe(v))return{args:v,keys:null};if(function J(D){return D&&"object"==typeof D&&_e(D)===ve}(v)){const y=he(v);return{args:y.map(T=>v[T]),keys:y}}}return{args:D,keys:null}}(D);if(0===T.length)return(0,Y.D)([],v);const L=new ce.y(function Le(D,v,y=ue.y){return T=>{Fe(v,()=>{const{length:x}=D,L=new Array(x);let Z=x,te=x;for(let Oe=0;Oe<x;Oe++)Fe(v,()=>{const wt=(0,Y.D)(D[Oe],v);let en=!1;wt.subscribe((0,ht.x)(T,Ot=>{L[Oe]=Ot,en||(en=!0,te--),te||T.next(y(L.slice()))},()=>{--Z||T.complete()}))},T)},T)}}(T,v,x?Z=>function je(D,v){return D.reduce((y,T,x)=>(y[T]=v[x],y),{})}(x,Z):ue.y));return y?L.pipe(function et(D){return(0,ke.U)(v=>function Ke(D,v){return Pe(v)?D(...v):D(v)}(D,v))}(y)):L}function Fe(D,v,y){D?(0,ct.f)(y,D,v):v()}var st=P(576);function tt(D,v){const y=(0,st.m)(D)?D:()=>D,T=x=>x.error(y());return new ce.y(v?x=>v.schedule(T,0,x):T)}var Ee=P(8421);function le(D){return new ce.y(v=>{(0,Ee.Xf)(D()).subscribe(v)})}var Ie=P(727),Se=P(4482);function we(){return(0,Se.e)((D,v)=>{let y=null;D._refCount++;const T=(0,ht.x)(v,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(y=null);const x=D._connection,L=y;y=null,x&&(!L||x===L)&&x.unsubscribe(),v.unsubscribe()});D.subscribe(T),T.closed||(y=D.connect())})}class Je extends ce.y{constructor(v,y){super(),this.source=v,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Ie.w0;const y=this.getSubject();v.add(this.source.subscribe((0,ht.x)(y,void 0,()=>{this._teardown(),y.complete()},T=>{this._teardown(),y.error(T)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Ie.w0.EMPTY)}return v}refCount(){return we()(this)}}var ie=P(9646),Ut=P(6805),un=P(7272),hn=P(515);function ft(D){return(0,Se.e)((v,y)=>{let L,T=null,x=!1;T=v.subscribe((0,ht.x)(y,void 0,void 0,Z=>{L=(0,Ee.Xf)(D(Z,ft(D)(v))),T?(T.unsubscribe(),T=null,L.subscribe(y)):x=!0})),x&&(T.unsubscribe(),T=null,L.subscribe(y))})}var yt=P(5577);function vn(D,v){return(0,st.m)(v)?(0,yt.z)(D,v,1):(0,yt.z)(D,1)}var In=P(9300);function Ir(D){return D<=0?()=>hn.E:(0,Se.e)((v,y)=>{let T=[];v.subscribe((0,ht.x)(y,x=>{T.push(x),D<T.length&&T.shift()},()=>{for(const x of T)y.next(x);y.complete()},void 0,()=>{T=null}))})}var ln=P(8068),ur=P(6590),Cn=P(3900),wr=P(5698),pr=P(8675),Hn=P(5026),Zn=P(590),An=P(8505),gr=P(8189),Vn=P(9808);class Tt{constructor(v,y){this.id=v,this.url=y}}class Yn extends Tt{constructor(v,y,T="imperative",x=null){super(v,y),this.navigationTrigger=T,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bn extends Tt{constructor(v,y,T){super(v,y),this.urlAfterRedirects=T}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gn extends Tt{constructor(v,y,T){super(v,y),this.reason=T}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Dr extends Tt{constructor(v,y,T){super(v,y),this.error=T}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fi extends Tt{constructor(v,y,T,x){super(v,y),this.urlAfterRedirects=T,this.state=x}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends Tt{constructor(v,y,T,x){super(v,y),this.urlAfterRedirects=T,this.state=x}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mr extends Tt{constructor(v,y,T,x,L){super(v,y),this.urlAfterRedirects=T,this.state=x,this.shouldActivate=L}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class br extends Tt{constructor(v,y,T,x){super(v,y),this.urlAfterRedirects=T,this.state=x}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr extends Tt{constructor(v,y,T,x){super(v,y),this.urlAfterRedirects=T,this.state=x}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yt{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bt{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ct{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yr{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zr{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rn{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(v,y,T){this.routerEvent=v,this.position=y,this.anchor=T}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class ir{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const y=this.params[v];return Array.isArray(y)?y[0]:y}return null}getAll(v){if(this.has(v)){const y=this.params[v];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Nt(D){return new ir(D)}const cr="ngNavigationCancelingError";function Qt(D){const v=Error("NavigationCancelingError: "+D);return v[cr]=!0,v}function He(D,v,y){const T=y.path.split("/");if(T.length>D.length||"full"===y.pathMatch&&(v.hasChildren()||T.length<D.length))return null;const x={};for(let L=0;L<T.length;L++){const Z=T[L],te=D[L];if(Z.startsWith(":"))x[Z.substring(1)]=te;else if(Z!==te.path)return null}return{consumed:D.slice(0,T.length),posParams:x}}function oe(D,v){const y=D?Object.keys(D):void 0,T=v?Object.keys(v):void 0;if(!y||!T||y.length!=T.length)return!1;let x;for(let L=0;L<y.length;L++)if(x=y[L],!Ce(D[x],v[x]))return!1;return!0}function Ce(D,v){if(Array.isArray(D)&&Array.isArray(v)){if(D.length!==v.length)return!1;const y=[...D].sort(),T=[...v].sort();return y.every((x,L)=>T[L]===x)}return D===v}function Ve(D){return Array.prototype.concat.apply([],D)}function G(D){return D.length>0?D[D.length-1]:null}function q(D,v){for(const y in D)D.hasOwnProperty(y)&&v(D[y],y)}function ae(D){return(0,w.CqO)(D)?D:(0,w.QGY)(D)?(0,Y.D)(Promise.resolve(D)):(0,ie.of)(D)}const Ge={exact:function Xt(D,v,y){if(!bn(D.segments,v.segments)||!Dn(D.segments,v.segments,y)||D.numberOfChildren!==v.numberOfChildren)return!1;for(const T in v.children)if(!D.children[T]||!Xt(D.children[T],v.children[T],y))return!1;return!0},subset:Ht},pt={exact:function Kn(D,v){return oe(D,v)},subset:function gn(D,v){return Object.keys(v).length<=Object.keys(D).length&&Object.keys(v).every(y=>Ce(D[y],v[y]))},ignored:()=>!0};function Jt(D,v,y){return Ge[y.paths](D.root,v.root,y.matrixParams)&&pt[y.queryParams](D.queryParams,v.queryParams)&&!("exact"===y.fragment&&D.fragment!==v.fragment)}function Ht(D,v,y){return fn(D,v,v.segments,y)}function fn(D,v,y,T){if(D.segments.length>y.length){const x=D.segments.slice(0,y.length);return!(!bn(x,y)||v.hasChildren()||!Dn(x,y,T))}if(D.segments.length===y.length){if(!bn(D.segments,y)||!Dn(D.segments,y,T))return!1;for(const x in v.children)if(!D.children[x]||!Ht(D.children[x],v.children[x],T))return!1;return!0}{const x=y.slice(0,D.segments.length),L=y.slice(D.segments.length);return!!(bn(D.segments,x)&&Dn(D.segments,x,T)&&D.children[Pt])&&fn(D.children[Pt],v,L,T)}}function Dn(D,v,y){return v.every((T,x)=>pt[y](D[x].parameters,T.parameters))}class jn{constructor(v,y,T){this.root=v,this.queryParams=y,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return ye.serialize(this)}}class _t{constructor(v,y){this.segments=v,this.children=y,this.parent=null,q(y,(T,x)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ue(this)}}class Rr{constructor(v,y){this.path=v,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return Vt(this)}}function bn(D,v){return D.length===v.length&&D.every((y,T)=>y.path===v[T].path)}class mn{}class K{parse(v){const y=new yn(v);return new jn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(v){const y=`/${gt(v.root,!0)}`,T=function qt(D){const v=Object.keys(D).map(y=>{const T=D[y];return Array.isArray(T)?T.map(x=>`${xt(y)}=${xt(x)}`).join("&"):`${xt(y)}=${xt(T)}`}).filter(y=>!!y);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${y}${T}${"string"==typeof v.fragment?`#${function Qn(D){return encodeURI(D)}(v.fragment)}`:""}`}}const ye=new K;function Ue(D){return D.segments.map(v=>Vt(v)).join("/")}function gt(D,v){if(!D.hasChildren())return Ue(D);if(v){const y=D.children[Pt]?gt(D.children[Pt],!1):"",T=[];return q(D.children,(x,L)=>{L!==Pt&&T.push(`${L}:${gt(x,!1)}`)}),T.length>0?`${y}(${T.join("//")})`:y}{const y=function Ai(D,v){let y=[];return q(D.children,(T,x)=>{x===Pt&&(y=y.concat(v(T,x)))}),q(D.children,(T,x)=>{x!==Pt&&(y=y.concat(v(T,x)))}),y}(D,(T,x)=>x===Pt?[gt(D.children[Pt],!1)]:[`${x}:${gt(T,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Pt]?`${Ue(D)}/${y[0]}`:`${Ue(D)}/(${y.join("//")})`}}function dn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xt(D){return dn(D).replace(/%3B/gi,";")}function Gt(D){return dn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(D){return decodeURIComponent(D)}function On(D){return be(D.replace(/\+/g,"%20"))}function Vt(D){return`${Gt(D.path)}${function ti(D){return Object.keys(D).map(v=>`;${Gt(v)}=${Gt(D[v])}`).join("")}(D.parameters)}`}const Ns=/^[^\/()?;=#]+/;function lr(D){const v=D.match(Ns);return v?v[0]:""}const ot=/^[^=?&#]+/,Ft=/^[^&#]+/;class yn{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _t([],{}):new _t([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(v.length>0||Object.keys(y).length>0)&&(T[Pt]=new _t(v,y)),T}parseSegment(){const v=lr(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new Rr(be(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const y=lr(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const x=lr(this.remaining);x&&(T=x,this.capture(T))}v[be(y)]=be(T)}parseQueryParam(v){const y=function di(D){const v=D.match(ot);return v?v[0]:""}(this.remaining);if(!y)return;this.capture(y);let T="";if(this.consumeOptional("=")){const Z=function Kr(D){const v=D.match(Ft);return v?v[0]:""}(this.remaining);Z&&(T=Z,this.capture(T))}const x=On(y),L=On(T);if(v.hasOwnProperty(x)){let Z=v[x];Array.isArray(Z)||(Z=[Z],v[x]=Z),Z.push(L)}else v[x]=L}parseParens(v){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=lr(this.remaining),x=this.remaining[T.length];if("/"!==x&&")"!==x&&";"!==x)throw new Error(`Cannot parse url '${this.url}'`);let L;T.indexOf(":")>-1?(L=T.substr(0,T.indexOf(":")),this.capture(L),this.capture(":")):v&&(L=Pt);const Z=this.parseChildren();y[L]=1===Object.keys(Z).length?Z[Pt]:new _t([],Z),this.consumeOptional("//")}return y}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class ns{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const y=this.pathFromRoot(v);return y.length>1?y[y.length-2]:null}children(v){const y=Li(v,this._root);return y?y.children.map(T=>T.value):[]}firstChild(v){const y=Li(v,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(v){const y=Tr(v,this._root);return y.length<2?[]:y[y.length-2].children.map(x=>x.value).filter(x=>x!==v)}pathFromRoot(v){return Tr(v,this._root).map(y=>y.value)}}function Li(D,v){if(D===v.value)return v;for(const y of v.children){const T=Li(D,y);if(T)return T}return null}function Tr(D,v){if(D===v.value)return[v];for(const y of v.children){const T=Tr(D,y);if(T.length)return T.unshift(v),T}return[]}class qn{constructor(v,y){this.value=v,this.children=y}toString(){return`TreeNode(${this.value})`}}function $i(D){const v={};return D&&D.children.forEach(y=>v[y.value.outlet]=y),v}class Hi extends ns{constructor(v,y){super(v),this.snapshot=y,vo(this,v)}toString(){return this.snapshot.toString()}}function Jn(D,v){const y=function Nr(D,v){const Z=new Xn([],{},{},"",{},Pt,v,null,D.root,-1,{});return new Ks("",new qn(Z,[]))}(D,v),T=new H([new Rr("",{})]),x=new H({}),L=new H({}),Z=new H({}),te=new H(""),Oe=new zn(T,x,Z,te,L,Pt,v,y.root);return Oe.snapshot=y.root,new Hi(new qn(Oe,[]),y)}class zn{constructor(v,y,T,x,L,Z,te,Oe){this.url=v,this.params=y,this.queryParams=T,this.fragment=x,this.data=L,this.outlet=Z,this.component=te,this._futureSnapshot=Oe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ke.U)(v=>Nt(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ke.U)(v=>Nt(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ii(D,v="emptyOnly"){const y=D.pathFromRoot;let T=0;if("always"!==v)for(T=y.length-1;T>=1;){const x=y[T],L=y[T-1];if(x.routeConfig&&""===x.routeConfig.path)T--;else{if(L.component)break;T--}}return function Os(D){return D.reduce((v,y)=>({params:Object.assign(Object.assign({},v.params),y.params),data:Object.assign(Object.assign({},v.data),y.data),resolve:Object.assign(Object.assign({},v.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(T))}class Xn{constructor(v,y,T,x,L,Z,te,Oe,wt,en,Ot){this.url=v,this.params=y,this.queryParams=T,this.fragment=x,this.data=L,this.outlet=Z,this.component=te,this.routeConfig=Oe,this._urlSegment=wt,this._lastPathIndex=en,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ks extends ns{constructor(v,y){super(y),this.url=v,vo(this,y)}toString(){return wi(this._root)}}function vo(D,v){v.value._routerState=D,v.children.forEach(y=>vo(D,y))}function wi(D){const v=D.children.length>0?` { ${D.children.map(wi).join(", ")} } `:"";return`${D.value}${v}`}function Ps(D){if(D.snapshot){const v=D.snapshot,y=D._futureSnapshot;D.snapshot=y,oe(v.queryParams,y.queryParams)||D.queryParams.next(y.queryParams),v.fragment!==y.fragment&&D.fragment.next(y.fragment),oe(v.params,y.params)||D.params.next(y.params),function vt(D,v){if(D.length!==v.length)return!1;for(let y=0;y<D.length;++y)if(!oe(D[y],v[y]))return!1;return!0}(v.url,y.url)||D.url.next(y.url),oe(v.data,y.data)||D.data.next(y.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Ds(D,v){const y=oe(D.params,v.params)&&function ei(D,v){return bn(D,v)&&D.every((y,T)=>oe(y.parameters,v[T].parameters))}(D.url,v.url);return y&&!(!D.parent!=!v.parent)&&(!D.parent||Ds(D.parent,v.parent))}function rs(D,v,y){if(y&&D.shouldReuseRoute(v.value,y.value.snapshot)){const T=y.value;T._futureSnapshot=v.value;const x=function ni(D,v,y){return v.children.map(T=>{for(const x of y.children)if(D.shouldReuseRoute(T.value,x.value.snapshot))return rs(D,T,x);return rs(D,T)})}(D,v,y);return new qn(T,x)}{if(D.shouldAttach(v.value)){const L=D.retrieve(v.value);if(null!==L){const Z=L.route;return Z.value._futureSnapshot=v.value,Z.children=v.children.map(te=>rs(D,te)),Z}}const T=function _o(D){return new zn(new H(D.url),new H(D.params),new H(D.queryParams),new H(D.fragment),new H(D.data),D.outlet,D.component,D)}(v.value),x=v.children.map(L=>rs(D,L));return new qn(T,x)}}function Eo(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function bs(D){return"object"==typeof D&&null!=D&&D.outlets}function Si(D,v,y,T,x){let L={};if(T&&q(T,(te,Oe)=>{L[Oe]=Array.isArray(te)?te.map(wt=>`${wt}`):`${te}`}),D===v)return new jn(y,L,x);const Z=ta(D,v,y);return new jn(Z,L,x)}function ta(D,v,y){const T={};return q(D.children,(x,L)=>{T[L]=x===v?y:ta(x,v,y)}),new _t(D.segments,T)}class qs{constructor(v,y,T){if(this.isAbsolute=v,this.numberOfDoubleDots=y,this.commands=T,v&&T.length>0&&Eo(T[0]))throw new Error("Root segment cannot have matrix parameters");const x=T.find(bs);if(x&&x!==G(T))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Io{constructor(v,y,T){this.segmentGroup=v,this.processChildren=y,this.index=T}}function zi(D,v,y){if(D||(D=new _t([],{})),0===D.segments.length&&D.hasChildren())return Di(D,v,y);const T=function Ts(D,v,y){let T=0,x=v;const L={match:!1,pathIndex:0,commandIndex:0};for(;x<D.segments.length;){if(T>=y.length)return L;const Z=D.segments[x],te=y[T];if(bs(te))break;const Oe=`${te}`,wt=T<y.length-1?y[T+1]:null;if(x>0&&void 0===Oe)break;if(Oe&&wt&&"object"==typeof wt&&void 0===wt.outlets){if(!Wi(Oe,wt,Z))return L;T+=2}else{if(!Wi(Oe,{},Z))return L;T++}x++}return{match:!0,pathIndex:x,commandIndex:T}}(D,v,y),x=y.slice(T.commandIndex);if(T.match&&T.pathIndex<D.segments.length){const L=new _t(D.segments.slice(0,T.pathIndex),{});return L.children[Pt]=new _t(D.segments.slice(T.pathIndex),D.children),Di(L,0,x)}return T.match&&0===x.length?new _t(D.segments,{}):T.match&&!D.hasChildren()?Zs(D,v,y):T.match?Di(D,0,x):Zs(D,v,y)}function Di(D,v,y){if(0===y.length)return new _t(D.segments,{});{const T=function Cr(D){return bs(D[0])?D[0].outlets:{[Pt]:D}}(y),x={};return q(T,(L,Z)=>{"string"==typeof L&&(L=[L]),null!==L&&(x[Z]=zi(D.children[Z],v,L))}),q(D.children,(L,Z)=>{void 0===T[Z]&&(x[Z]=L)}),new _t(D.segments,x)}}function Zs(D,v,y){const T=D.segments.slice(0,v);let x=0;for(;x<y.length;){const L=y[x];if(bs(L)){const Oe=Do(L.outlets);return new _t(T,Oe)}if(0===x&&Eo(y[0])){T.push(new Rr(D.segments[v].path,ri(y[0]))),x++;continue}const Z=bs(L)?L.outlets[Pt]:`${L}`,te=x<y.length-1?y[x+1]:null;Z&&te&&Eo(te)?(T.push(new Rr(Z,ri(te))),x+=2):(T.push(new Rr(Z,{})),x++)}return new _t(T,{})}function Do(D){const v={};return q(D,(y,T)=>{"string"==typeof y&&(y=[y]),null!==y&&(v[T]=Zs(new _t([],{}),0,y))}),v}function ri(D){const v={};return q(D,(y,T)=>v[T]=`${y}`),v}function Wi(D,v,y){return D==y.path&&oe(v,y.parameters)}class qi{constructor(v,y,T,x){this.routeReuseStrategy=v,this.futureState=y,this.currState=T,this.forwardEvent=x}activate(v){const y=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,T,v),Ps(this.futureState.root),this.activateChildRoutes(y,T,v)}deactivateChildRoutes(v,y,T){const x=$i(y);v.children.forEach(L=>{const Z=L.value.outlet;this.deactivateRoutes(L,x[Z],T),delete x[Z]}),q(x,(L,Z)=>{this.deactivateRouteAndItsChildren(L,T)})}deactivateRoutes(v,y,T){const x=v.value,L=y?y.value:null;if(x===L)if(x.component){const Z=T.getContext(x.outlet);Z&&this.deactivateChildRoutes(v,y,Z.children)}else this.deactivateChildRoutes(v,y,T);else L&&this.deactivateRouteAndItsChildren(y,T)}deactivateRouteAndItsChildren(v,y){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,y):this.deactivateRouteAndOutlet(v,y)}detachAndStoreRouteSubtree(v,y){const T=y.getContext(v.value.outlet),x=T&&v.value.component?T.children:y,L=$i(v);for(const Z of Object.keys(L))this.deactivateRouteAndItsChildren(L[Z],x);if(T&&T.outlet){const Z=T.outlet.detach(),te=T.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:Z,route:v,contexts:te})}}deactivateRouteAndOutlet(v,y){const T=y.getContext(v.value.outlet),x=T&&v.value.component?T.children:y,L=$i(v);for(const Z of Object.keys(L))this.deactivateRouteAndItsChildren(L[Z],x);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(v,y,T){const x=$i(y);v.children.forEach(L=>{this.activateRoutes(L,x[L.value.outlet],T),this.forwardEvent(new rn(L.value.snapshot))}),v.children.length&&this.forwardEvent(new yr(v.value.snapshot))}activateRoutes(v,y,T){const x=v.value,L=y?y.value:null;if(Ps(x),x===L)if(x.component){const Z=T.getOrCreateContext(x.outlet);this.activateChildRoutes(v,y,Z.children)}else this.activateChildRoutes(v,y,T);else if(x.component){const Z=T.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const te=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),Z.children.onOutletReAttached(te.contexts),Z.attachRef=te.componentRef,Z.route=te.route.value,Z.outlet&&Z.outlet.attach(te.componentRef,te.route.value),Ps(te.route.value),this.activateChildRoutes(v,null,Z.children)}else{const te=function Ys(D){for(let v=D.parent;v;v=v.parent){const y=v.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(x.snapshot),Oe=te?te.module.componentFactoryResolver:null;Z.attachRef=null,Z.route=x,Z.resolver=Oe,Z.outlet&&Z.outlet.activateWith(x,Oe),this.activateChildRoutes(v,null,Z.children)}}else this.activateChildRoutes(v,null,T)}}class vr{constructor(v,y){this.routes=v,this.module=y}}function er(D){return"function"==typeof D}function Zi(D){return D instanceof jn}const bi=Symbol("INITIAL_VALUE");function Fs(){return(0,Cn.w)(D=>ze(D.map(v=>v.pipe((0,wr.q)(1),(0,pr.O)(bi)))).pipe((0,Hn.R)((v,y)=>{let T=!1;return y.reduce((x,L,Z)=>x!==bi?x:(L===bi&&(T=!0),T||!1!==L&&Z!==y.length-1&&!Zi(L)?x:L),v)},bi),(0,In.h)(v=>v!==bi),(0,ke.U)(v=>Zi(v)?v:!0===v),(0,wr.q)(1)))}class wn{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new A,this.attachRef=null}}class A{constructor(){this.contexts=new Map}onChildOutletCreated(v,y){const T=this.getOrCreateContext(v);T.outlet=y,this.contexts.set(v,T)}onChildOutletDestroyed(v){const y=this.getContext(v);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let y=this.getContext(v);return y||(y=new wn,this.contexts.set(v,y)),y}getContext(v){return this.contexts.get(v)||null}}let F=(()=>{class D{constructor(y,T,x,L,Z){this.parentContexts=y,this.location=T,this.resolver=x,this.changeDetector=Z,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=L||Pt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,T){this.activated=y,this._activatedRoute=T,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,T){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const Z=(T=T||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),te=this.parentContexts.getOrCreateContext(this.name).children,Oe=new C(y,te,this.location.injector);this.activated=this.location.createComponent(Z,this.location.length,Oe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(y){return new(y||D)(w.Y36(A),w.Y36(w.s_b),w.Y36(w._Vd),w.$8M("name"),w.Y36(w.sBO))},D.\u0275dir=w.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class C{constructor(v,y,T){this.route=v,this.childContexts=y,this.parent=T}get(v,y){return v===zn?this.route:v===A?this.childContexts:this.parent.get(v,y)}}let U=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275cmp=w.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,T){1&y&&w._UZ(0,"router-outlet")},directives:[F],encapsulation:2}),D})();function ee(D,v=""){for(let y=0;y<D.length;y++){const T=D[y];xe(T,qe(v,T))}}function xe(D,v){D.children&&ee(D.children,v)}function qe(D,v){return v?D||v.path?D&&!v.path?`${D}/`:!D&&v.path?v.path:`${D}/${v.path}`:"":D}function At(D){const v=D.children&&D.children.map(At),y=v?Object.assign(Object.assign({},D),{children:v}):Object.assign({},D);return!y.component&&(v||y.loadChildren)&&y.outlet&&y.outlet!==Pt&&(y.component=U),y}function V(D){return D.outlet||Pt}function B(D,v){const y=D.filter(T=>V(T)===v);return y.push(...D.filter(T=>V(T)!==v)),y}const Q={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function de(D,v,y){var T;if(""===v.path)return"full"===v.pathMatch&&(D.hasChildren()||y.length>0)?Object.assign({},Q):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const L=(v.matcher||He)(y,D,v);if(!L)return Object.assign({},Q);const Z={};q(L.posParams,(Oe,wt)=>{Z[wt]=Oe.path});const te=L.consumed.length>0?Object.assign(Object.assign({},Z),L.consumed[L.consumed.length-1].parameters):Z;return{matched:!0,consumedSegments:L.consumed,remainingSegments:y.slice(L.consumed.length),parameters:te,positionalParamSegments:null!==(T=L.posParams)&&void 0!==T?T:{}}}function We(D,v,y,T,x="corrected"){if(y.length>0&&function Pn(D,v,y){return y.some(T=>nt(D,v,T)&&V(T)!==Pt)}(D,y,T)){const Z=new _t(v,function It(D,v,y,T){const x={};x[Pt]=T,T._sourceSegment=D,T._segmentIndexShift=v.length;for(const L of y)if(""===L.path&&V(L)!==Pt){const Z=new _t([],{});Z._sourceSegment=D,Z._segmentIndexShift=v.length,x[V(L)]=Z}return x}(D,v,T,new _t(y,D.children)));return Z._sourceSegment=D,Z._segmentIndexShift=v.length,{segmentGroup:Z,slicedSegments:[]}}if(0===y.length&&function xn(D,v,y){return y.some(T=>nt(D,v,T))}(D,y,T)){const Z=new _t(D.segments,function Xe(D,v,y,T,x,L){const Z={};for(const te of T)if(nt(D,y,te)&&!x[V(te)]){const Oe=new _t([],{});Oe._sourceSegment=D,Oe._segmentIndexShift="legacy"===L?D.segments.length:v.length,Z[V(te)]=Oe}return Object.assign(Object.assign({},x),Z)}(D,v,y,T,D.children,x));return Z._sourceSegment=D,Z._segmentIndexShift=v.length,{segmentGroup:Z,slicedSegments:y}}const L=new _t(D.segments,D.children);return L._sourceSegment=D,L._segmentIndexShift=v.length,{segmentGroup:L,slicedSegments:y}}function nt(D,v,y){return(!(D.hasChildren()||v.length>0)||"full"!==y.pathMatch)&&""===y.path}function Bt(D,v,y,T){return!!(V(D)===T||T!==Pt&&nt(v,y,D))&&("**"===D.path||de(v,D,y).matched)}function zt(D,v,y){return 0===v.length&&!D.children[y]}class qr{constructor(v){this.segmentGroup=v||null}}class hi{constructor(v){this.urlTree=v}}function ss(D){return tt(new qr(D))}function Ls(D){return tt(new hi(D))}class Js{constructor(v,y,T,x,L){this.configLoader=y,this.urlSerializer=T,this.urlTree=x,this.config=L,this.allowRedirects=!0,this.ngModule=v.get(w.h0i)}apply(){const v=We(this.urlTree.root,[],[],this.config).segmentGroup,y=new _t(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,y,Pt).pipe((0,ke.U)(L=>this.createUrlTree(Xs(L),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ft(L=>{if(L instanceof hi)return this.allowRedirects=!1,this.match(L.urlTree);throw L instanceof qr?this.noMatchError(L):L}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,Pt).pipe((0,ke.U)(x=>this.createUrlTree(Xs(x),v.queryParams,v.fragment))).pipe(ft(x=>{throw x instanceof qr?this.noMatchError(x):x}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,y,T){const x=v.segments.length>0?new _t([],{[Pt]:v}):v;return new jn(x,y,T)}expandSegmentGroup(v,y,T,x){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(v,y,T).pipe((0,ke.U)(L=>new _t([],L))):this.expandSegment(v,T,y,T.segments,x,!0)}expandChildren(v,y,T){const x=[];for(const L of Object.keys(T.children))"primary"===L?x.unshift(L):x.push(L);return(0,Y.D)(x).pipe(vn(L=>{const Z=T.children[L],te=B(y,L);return this.expandSegmentGroup(v,te,Z,L).pipe((0,ke.U)(Oe=>({segment:Oe,outlet:L})))}),(0,Hn.R)((L,Z)=>(L[Z.outlet]=Z.segment,L),{}),function an(D,v){const y=arguments.length>=2;return T=>T.pipe(D?(0,In.h)((x,L)=>D(x,L,T)):ue.y,Ir(1),y?(0,ur.d)(v):(0,ln.T)(()=>new Ut.K))}())}expandSegment(v,y,T,x,L,Z){return(0,Y.D)(T).pipe(vn(te=>this.expandSegmentAgainstRoute(v,y,T,te,x,L,Z).pipe(ft(wt=>{if(wt instanceof qr)return(0,ie.of)(null);throw wt}))),(0,Zn.P)(te=>!!te),ft((te,Oe)=>{if(te instanceof Ut.K||"EmptyError"===te.name)return zt(y,x,L)?(0,ie.of)(new _t([],{})):ss(y);throw te}))}expandSegmentAgainstRoute(v,y,T,x,L,Z,te){return Bt(x,y,L,Z)?void 0===x.redirectTo?this.matchSegmentAgainstRoute(v,y,x,L,Z):te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,y,T,x,L,Z):ss(y):ss(y)}expandSegmentAgainstRouteUsingRedirect(v,y,T,x,L,Z){return"**"===x.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,T,x,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(v,y,T,x,L,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,y,T,x){const L=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Ls(L):this.lineralizeSegments(T,L).pipe((0,yt.z)(Z=>{const te=new _t(Z,{});return this.expandSegment(v,te,y,Z,x,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,y,T,x,L,Z){const{matched:te,consumedSegments:Oe,remainingSegments:wt,positionalParamSegments:en}=de(y,x,L);if(!te)return ss(y);const Ot=this.applyRedirectCommands(Oe,x.redirectTo,en);return x.redirectTo.startsWith("/")?Ls(Ot):this.lineralizeSegments(x,Ot).pipe((0,yt.z)(pn=>this.expandSegment(v,y,T,pn.concat(wt),Z,!1)))}matchSegmentAgainstRoute(v,y,T,x,L){if("**"===T.path)return T.loadChildren?(T._loadedConfig?(0,ie.of)(T._loadedConfig):this.configLoader.load(v.injector,T)).pipe((0,ke.U)(Ot=>(T._loadedConfig=Ot,new _t(x,{})))):(0,ie.of)(new _t(x,{}));const{matched:Z,consumedSegments:te,remainingSegments:Oe}=de(y,T,x);return Z?this.getChildConfig(v,T,x).pipe((0,yt.z)(en=>{const Ot=en.module,pn=en.routes,{segmentGroup:kn,slicedSegments:Ti}=We(y,te,Oe,pn),pi=new _t(kn.segments,kn.children);if(0===Ti.length&&pi.hasChildren())return this.expandChildren(Ot,pn,pi).pipe((0,ke.U)(Ba=>new _t(te,Ba)));if(0===pn.length&&0===Ti.length)return(0,ie.of)(new _t(te,{}));const Oo=V(T)===L;return this.expandSegment(Ot,pi,pn,Ti,Oo?Pt:L,!0).pipe((0,ke.U)(tr=>new _t(te.concat(tr.segments),tr.children)))})):ss(y)}getChildConfig(v,y,T){return y.children?(0,ie.of)(new vr(y.children,v)):y.loadChildren?void 0!==y._loadedConfig?(0,ie.of)(y._loadedConfig):this.runCanLoadGuards(v.injector,y,T).pipe((0,yt.z)(x=>x?this.configLoader.load(v.injector,y).pipe((0,ke.U)(L=>(y._loadedConfig=L,L))):function Ze(D){return tt(Qt(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(y))):(0,ie.of)(new vr([],v))}runCanLoadGuards(v,y,T){const x=y.canLoad;if(!x||0===x.length)return(0,ie.of)(!0);const L=x.map(Z=>{const te=v.get(Z);let Oe;if(function na(D){return D&&er(D.canLoad)}(te))Oe=te.canLoad(y,T);else{if(!er(te))throw new Error("Invalid CanLoad guard");Oe=te(y,T)}return ae(Oe)});return(0,ie.of)(L).pipe(Fs(),(0,An.b)(Z=>{if(!Zi(Z))return;const te=Qt(`Redirecting to "${this.urlSerializer.serialize(Z)}"`);throw te.url=Z,te}),(0,ke.U)(Z=>!0===Z))}lineralizeSegments(v,y){let T=[],x=y.root;for(;;){if(T=T.concat(x.segments),0===x.numberOfChildren)return(0,ie.of)(T);if(x.numberOfChildren>1||!x.children[Pt])return tt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v.redirectTo}'`));x=x.children[Pt]}}applyRedirectCommands(v,y,T){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),v,T)}applyRedirectCreatreUrlTree(v,y,T,x){const L=this.createSegmentGroup(v,y.root,T,x);return new jn(L,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(v,y){const T={};return q(v,(x,L)=>{if("string"==typeof x&&x.startsWith(":")){const te=x.substring(1);T[L]=y[te]}else T[L]=x}),T}createSegmentGroup(v,y,T,x){const L=this.createSegments(v,y.segments,T,x);let Z={};return q(y.children,(te,Oe)=>{Z[Oe]=this.createSegmentGroup(v,te,T,x)}),new _t(L,Z)}createSegments(v,y,T,x){return y.map(L=>L.path.startsWith(":")?this.findPosParam(v,L,x):this.findOrReturn(L,T))}findPosParam(v,y,T){const x=T[y.path.substring(1)];if(!x)throw new Error(`Cannot redirect to '${v}'. Cannot find '${y.path}'.`);return x}findOrReturn(v,y){let T=0;for(const x of y){if(x.path===v.path)return y.splice(T),x;T++}return v}}function Xs(D){const v={};for(const T of Object.keys(D.children)){const L=Xs(D.children[T]);(L.segments.length>0||L.hasChildren())&&(v[T]=L)}return function Vr(D){if(1===D.numberOfChildren&&D.children[Pt]){const v=D.children[Pt];return new _t(D.segments.concat(v.segments),v.children)}return D}(new _t(D.segments,v))}class Ui{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class Us{constructor(v,y){this.component=v,this.route=y}}function Ma(D,v,y){const T=D._root;return xi(T,v?v._root:null,y,[T.value])}function Ra(D,v,y){const T=function lu(D){if(!D)return null;for(let v=D.parent;v;v=v.parent){const y=v.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(v);return(T?T.module.injector:y).get(D)}function xi(D,v,y,T,x={canDeactivateChecks:[],canActivateChecks:[]}){const L=$i(v);return D.children.forEach(Z=>{(function fi(D,v,y,T,x={canDeactivateChecks:[],canActivateChecks:[]}){const L=D.value,Z=v?v.value:null,te=y?y.getContext(D.value.outlet):null;if(Z&&L.routeConfig===Z.routeConfig){const Oe=function Yi(D,v,y){if("function"==typeof y)return y(D,v);switch(y){case"pathParamsChange":return!bn(D.url,v.url);case"pathParamsOrQueryParamsChange":return!bn(D.url,v.url)||!oe(D.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ds(D,v)||!oe(D.queryParams,v.queryParams);default:return!Ds(D,v)}}(Z,L,L.routeConfig.runGuardsAndResolvers);Oe?x.canActivateChecks.push(new Ui(T)):(L.data=Z.data,L._resolvedData=Z._resolvedData),xi(D,v,L.component?te?te.children:null:y,T,x),Oe&&te&&te.outlet&&te.outlet.isActivated&&x.canDeactivateChecks.push(new Us(te.outlet.component,Z))}else Z&&To(v,te,x),x.canActivateChecks.push(new Ui(T)),xi(D,null,L.component?te?te.children:null:y,T,x)})(Z,L[Z.value.outlet],y,T.concat([Z.value]),x),delete L[Z.value.outlet]}),q(L,(Z,te)=>To(Z,y.getContext(te),x)),x}function To(D,v,y){const T=$i(D),x=D.value;q(T,(L,Z)=>{To(L,x.component?v?v.children.getContext(Z):null:v,y)}),y.canDeactivateChecks.push(new Us(x.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,x))}class Ao{}function Na(D){return new ce.y(v=>v.error(D))}class hu{constructor(v,y,T,x,L,Z){this.rootComponentType=v,this.config=y,this.urlTree=T,this.url=x,this.paramsInheritanceStrategy=L,this.relativeLinkResolution=Z}recognize(){const v=We(this.urlTree.root,[],[],this.config.filter(Z=>void 0===Z.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,v,Pt);if(null===y)return null;const T=new Xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),x=new qn(T,y),L=new Ks(this.url,x);return this.inheritParamsAndData(L._root),L}inheritParamsAndData(v){const y=v.value,T=Ii(y,this.paramsInheritanceStrategy);y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),v.children.forEach(x=>this.inheritParamsAndData(x))}processSegmentGroup(v,y,T){return 0===y.segments.length&&y.hasChildren()?this.processChildren(v,y):this.processSegment(v,y,y.segments,T)}processChildren(v,y){const T=[];for(const L of Object.keys(y.children)){const Z=y.children[L],te=B(v,L),Oe=this.processSegmentGroup(te,Z,L);if(null===Oe)return null;T.push(...Oe)}const x=So(T);return function Pr(D){D.sort((v,y)=>v.value.outlet===Pt?-1:y.value.outlet===Pt?1:v.value.outlet.localeCompare(y.value.outlet))}(x),x}processSegment(v,y,T,x){for(const L of v){const Z=this.processSegmentAgainstRoute(L,y,T,x);if(null!==Z)return Z}return zt(y,T,x)?[]:null}processSegmentAgainstRoute(v,y,T,x){if(v.redirectTo||!Bt(v,y,T,x))return null;let L,Z=[],te=[];if("**"===v.path){const kn=T.length>0?G(T).parameters:{};L=new Xn(T,kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ju(v),V(v),v.component,v,xo(y),Qu(y)+T.length,kr(v))}else{const kn=de(y,v,T);if(!kn.matched)return null;Z=kn.consumedSegments,te=kn.remainingSegments,L=new Xn(Z,kn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ju(v),V(v),v.component,v,xo(y),Qu(y)+Z.length,kr(v))}const Oe=function Yu(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(v),{segmentGroup:wt,slicedSegments:en}=We(y,Z,te,Oe.filter(kn=>void 0===kn.redirectTo),this.relativeLinkResolution);if(0===en.length&&wt.hasChildren()){const kn=this.processChildren(Oe,wt);return null===kn?null:[new qn(L,kn)]}if(0===Oe.length&&0===en.length)return[new qn(L,[])];const Ot=V(v)===x,pn=this.processSegment(Oe,wt,en,Ot?Pt:x);return null===pn?null:[new qn(L,pn)]}}function us(D){const v=D.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function So(D){const v=[],y=new Set;for(const T of D){if(!us(T)){v.push(T);continue}const x=v.find(L=>T.value.routeConfig===L.value.routeConfig);void 0!==x?(x.children.push(...T.children),y.add(x)):v.push(T)}for(const T of y){const x=So(T.children);v.push(new qn(T.value,x))}return v.filter(T=>!y.has(T))}function xo(D){let v=D;for(;v._sourceSegment;)v=v._sourceSegment;return v}function Qu(D){let v=D,y=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,y+=v._segmentIndexShift?v._segmentIndexShift:0;return y-1}function Ju(D){return D.data||{}}function kr(D){return D.resolve||{}}function Pa(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Yc(D){return(0,Cn.w)(v=>{const y=D(v);return y?(0,Y.D)(y).pipe((0,ke.U)(()=>v)):(0,ie.of)(v)})}class eo extends class Vi{shouldDetach(v){return!1}store(v,y){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,y){return v.routeConfig===y.routeConfig}}{}const Mo=new w.OlP("ROUTES");class Fa{constructor(v,y,T,x){this.injector=v,this.compiler=y,this.onLoadStartListener=T,this.onLoadEndListener=x}load(v,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const x=this.loadModuleFactory(y.loadChildren).pipe((0,ke.U)(L=>{this.onLoadEndListener&&this.onLoadEndListener(y);const Z=L.create(v);return new vr(Ve(Z.injector.get(Mo,void 0,w.XFs.Self|w.XFs.Optional)).map(At),Z)}),ft(L=>{throw y._loader$=void 0,L}));return y._loader$=new Je(x,()=>new R.x).pipe(we()),y._loader$}loadModuleFactory(v){return ae(v()).pipe((0,yt.z)(y=>y instanceof w.YKP?(0,ie.of)(y):(0,Y.D)(this.compiler.compileModuleAsync(y))))}}class Cd{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,y){return v}}function Mi(D){throw D}function to(D,v,y){return v.parse("/")}function La(D,v){return(0,ie.of)(null)}const no={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zr=(()=>{class D{constructor(y,T,x,L,Z,te,Oe){this.rootComponentType=y,this.urlSerializer=T,this.rootContexts=x,this.location=L,this.config=Oe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new R.x,this.errorHandler=Mi,this.malformedUriErrorHandler=to,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:La,afterPreactivation:La},this.urlHandlingStrategy=new Cd,this.routeReuseStrategy=new eo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Z.get(w.h0i),this.console=Z.get(w.c2e);const Ot=Z.get(w.R0b);this.isNgZoneEnabled=Ot instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(Oe),this.currentUrlTree=function re(){return new jn(new _t([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Fa(Z,te,pn=>this.triggerEvent(new Yt(pn)),pn=>this.triggerEvent(new bt(pn))),this.routerState=Jn(this.currentUrlTree,this.rootComponentType),this.transitions=new H({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const T=this.events;return y.pipe((0,In.h)(x=>0!==x.id),(0,ke.U)(x=>Object.assign(Object.assign({},x),{extractedUrl:this.urlHandlingStrategy.extract(x.rawUrl)})),(0,Cn.w)(x=>{let L=!1,Z=!1;return(0,ie.of)(x).pipe((0,An.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.currentRawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Cn.w)(te=>{const Oe=this.browserUrlTree.toString(),wt=!this.navigated||te.extractedUrl.toString()!==Oe||Oe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||wt)&&this.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return fu(te.source)&&(this.browserUrlTree=te.extractedUrl),(0,ie.of)(te).pipe((0,Cn.w)(Ot=>{const pn=this.transitions.getValue();return T.next(new Yn(Ot.id,this.serializeUrl(Ot.extractedUrl),Ot.source,Ot.restoredState)),pn!==this.transitions.getValue()?hn.E:Promise.resolve(Ot)}),function ra(D,v,y,T){return(0,Cn.w)(x=>function sn(D,v,y,T,x){return new Js(D,v,y,T,x).apply()}(D,v,y,x.extractedUrl,T).pipe((0,ke.U)(L=>Object.assign(Object.assign({},x),{urlAfterRedirects:L}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,An.b)(Ot=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ot.urlAfterRedirects})}),function Bs(D,v,y,T,x){return(0,yt.z)(L=>function Oa(D,v,y,T,x="emptyOnly",L="legacy"){try{const Z=new hu(D,v,y,T,x,L).recognize();return null===Z?Na(new Ao):(0,ie.of)(Z)}catch(Z){return Na(Z)}}(D,v,L.urlAfterRedirects,y(L.urlAfterRedirects),T,x).pipe((0,ke.U)(Z=>Object.assign(Object.assign({},L),{targetSnapshot:Z}))))}(this.rootComponentType,this.config,Ot=>this.serializeUrl(Ot),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,An.b)(Ot=>{if("eager"===this.urlUpdateStrategy){if(!Ot.extras.skipLocationChange){const kn=this.urlHandlingStrategy.merge(Ot.urlAfterRedirects,Ot.rawUrl);this.setBrowserUrl(kn,Ot)}this.browserUrlTree=Ot.urlAfterRedirects}const pn=new Fi(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);T.next(pn)}));if(wt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pn,extractedUrl:kn,source:Ti,restoredState:pi,extras:Oo}=te,yu=new Yn(pn,this.serializeUrl(kn),Ti,pi);T.next(yu);const tr=Jn(kn,this.rootComponentType).snapshot;return(0,ie.of)(Object.assign(Object.assign({},te),{targetSnapshot:tr,urlAfterRedirects:kn,extras:Object.assign(Object.assign({},Oo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=te.rawUrl,te.resolve(null),hn.E}),Yc(te=>{const{targetSnapshot:Oe,id:wt,extractedUrl:en,rawUrl:Ot,extras:{skipLocationChange:pn,replaceUrl:kn}}=te;return this.hooks.beforePreactivation(Oe,{navigationId:wt,appliedUrlTree:en,rawUrlTree:Ot,skipLocationChange:!!pn,replaceUrl:!!kn})}),(0,An.b)(te=>{const Oe=new Sn(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot);this.triggerEvent(Oe)}),(0,ke.U)(te=>Object.assign(Object.assign({},te),{guards:Ma(te.targetSnapshot,te.currentSnapshot,this.rootContexts)})),function os(D,v){return(0,yt.z)(y=>{const{targetSnapshot:T,currentSnapshot:x,guards:{canActivateChecks:L,canDeactivateChecks:Z}}=y;return 0===Z.length&&0===L.length?(0,ie.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function Vs(D,v,y,T){return(0,Y.D)(D).pipe((0,yt.z)(x=>function du(D,v,y,T,x){const L=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!L||0===L.length)return(0,ie.of)(!0);const Z=L.map(te=>{const Oe=Ra(te,v,x);let wt;if(function Qs(D){return D&&er(D.canDeactivate)}(Oe))wt=ae(Oe.canDeactivate(D,v,y,T));else{if(!er(Oe))throw new Error("Invalid CanDeactivate guard");wt=ae(Oe(D,v,y,T))}return wt.pipe((0,Zn.P)())});return(0,ie.of)(Z).pipe(Fs())}(x.component,x.route,y,v,T)),(0,Zn.P)(x=>!0!==x,!0))}(Z,T,x,D).pipe((0,yt.z)(te=>te&&function xa(D){return"boolean"==typeof D}(te)?function qu(D,v,y,T){return(0,Y.D)(v).pipe(vn(x=>(0,un.z)(function Zu(D,v){return null!==D&&v&&v(new Ct(D)),(0,ie.of)(!0)}(x.route.parent,T),function Co(D,v){return null!==D&&v&&v(new zr(D)),(0,ie.of)(!0)}(x.route,T),function as(D,v,y){const T=v[v.length-1],L=v.slice(0,v.length-1).reverse().map(Z=>function cu(D){const v=D.routeConfig?D.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:D,guards:v}:null}(Z)).filter(Z=>null!==Z).map(Z=>le(()=>{const te=Z.guards.map(Oe=>{const wt=Ra(Oe,Z.node,y);let en;if(function ii(D){return D&&er(D.canActivateChild)}(wt))en=ae(wt.canActivateChild(T,D));else{if(!er(wt))throw new Error("Invalid CanActivateChild guard");en=ae(wt(T,D))}return en.pipe((0,Zn.P)())});return(0,ie.of)(te).pipe(Fs())}));return(0,ie.of)(L).pipe(Fs())}(D,x.path,y),function bd(D,v,y){const T=v.routeConfig?v.routeConfig.canActivate:null;if(!T||0===T.length)return(0,ie.of)(!0);const x=T.map(L=>le(()=>{const Z=Ra(L,v,y);let te;if(function dr(D){return D&&er(D.canActivate)}(Z))te=ae(Z.canActivate(v,D));else{if(!er(Z))throw new Error("Invalid CanActivate guard");te=ae(Z(v,D))}return te.pipe((0,Zn.P)())}));return(0,ie.of)(x).pipe(Fs())}(D,x.route,y))),(0,Zn.P)(x=>!0!==x,!0))}(T,L,D,v):(0,ie.of)(te)),(0,ke.U)(te=>Object.assign(Object.assign({},y),{guardsResult:te})))})}(this.ngModule.injector,te=>this.triggerEvent(te)),(0,An.b)(te=>{if(Zi(te.guardsResult)){const wt=Qt(`Redirecting to "${this.serializeUrl(te.guardsResult)}"`);throw wt.url=te.guardsResult,wt}const Oe=new mr(te.id,this.serializeUrl(te.extractedUrl),this.serializeUrl(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.triggerEvent(Oe)}),(0,In.h)(te=>!!te.guardsResult||(this.restoreHistory(te),this.cancelNavigationTransition(te,""),!1)),Yc(te=>{if(te.guards.canActivateChecks.length)return(0,ie.of)(te).pipe((0,An.b)(Oe=>{const wt=new br(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(wt)}),(0,Cn.w)(Oe=>{let wt=!1;return(0,ie.of)(Oe).pipe(function hr(D,v){return(0,yt.z)(y=>{const{targetSnapshot:T,guards:{canActivateChecks:x}}=y;if(!x.length)return(0,ie.of)(y);let L=0;return(0,Y.D)(x).pipe(vn(Z=>function Zc(D,v,y,T){return function Xu(D,v,y,T){const x=Pa(D);if(0===x.length)return(0,ie.of)({});const L={};return(0,Y.D)(x).pipe((0,yt.z)(Z=>function Td(D,v,y,T){const x=Ra(D,v,T);return ae(x.resolve?x.resolve(v,y):x(v,y))}(D[Z],v,y,T).pipe((0,An.b)(te=>{L[Z]=te}))),Ir(1),(0,yt.z)(()=>Pa(L).length===x.length?(0,ie.of)(L):hn.E))}(D._resolve,D,v,T).pipe((0,ke.U)(L=>(D._resolvedData=L,D.data=Object.assign(Object.assign({},D.data),Ii(D,y).resolve),null)))}(Z.route,T,D,v)),(0,An.b)(()=>L++),Ir(1),(0,yt.z)(Z=>L===x.length?(0,ie.of)(y):hn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,An.b)({next:()=>wt=!0,complete:()=>{wt||(this.restoreHistory(Oe),this.cancelNavigationTransition(Oe,"At least one route resolver didn't emit any value."))}}))}),(0,An.b)(Oe=>{const wt=new Mr(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);this.triggerEvent(wt)}))}),Yc(te=>{const{targetSnapshot:Oe,id:wt,extractedUrl:en,rawUrl:Ot,extras:{skipLocationChange:pn,replaceUrl:kn}}=te;return this.hooks.afterPreactivation(Oe,{navigationId:wt,appliedUrlTree:en,rawUrlTree:Ot,skipLocationChange:!!pn,replaceUrl:!!kn})}),(0,ke.U)(te=>{const Oe=function ks(D,v,y){const T=rs(D,v._root,y?y._root:void 0);return new Hi(T,v)}(this.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return Object.assign(Object.assign({},te),{targetRouterState:Oe})}),(0,An.b)(te=>{this.currentUrlTree=te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),this.routerState=te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,te),this.browserUrlTree=te.urlAfterRedirects)}),((D,v,y)=>(0,ke.U)(T=>(new qi(v,T.targetRouterState,T.currentRouterState,y).activate(D),T)))(this.rootContexts,this.routeReuseStrategy,te=>this.triggerEvent(te)),(0,An.b)({next(){L=!0},complete(){L=!0}}),function $t(D){return(0,Se.e)((v,y)=>{try{v.subscribe(y)}finally{y.add(D)}})}(()=>{var te;L||Z||this.cancelNavigationTransition(x,`Navigation ID ${x.id} is not equal to the current navigation id ${this.navigationId}`),(null===(te=this.currentNavigation)||void 0===te?void 0:te.id)===x.id&&(this.currentNavigation=null)}),ft(te=>{if(Z=!0,function lt(D){return D&&D[cr]}(te)){const Oe=Zi(te.url);Oe||(this.navigated=!0,this.restoreHistory(x,!0));const wt=new Gn(x.id,this.serializeUrl(x.extractedUrl),te.message);T.next(wt),Oe?setTimeout(()=>{const en=this.urlHandlingStrategy.merge(te.url,this.rawUrlTree),Ot={skipLocationChange:x.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fu(x.source)};this.scheduleNavigation(en,"imperative",null,Ot,{resolve:x.resolve,reject:x.reject,promise:x.promise})},0):x.resolve(!1)}else{this.restoreHistory(x,!0);const Oe=new Dr(x.id,this.serializeUrl(x.extractedUrl),te);T.next(Oe);try{x.resolve(this.errorHandler(te))}catch(wt){x.reject(wt)}}return hn.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const T="popstate"===y.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{var x;const L={replaceUrl:!0},Z=(null===(x=y.state)||void 0===x?void 0:x.navigationId)?y.state:null;if(Z){const Oe=Object.assign({},Z);delete Oe.navigationId,delete Oe.\u0275routerPageId,0!==Object.keys(Oe).length&&(L.state=Oe)}const te=this.parseUrl(y.url);this.scheduleNavigation(te,T,Z,L)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){ee(y),this.config=y.map(At),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,T={}){const{relativeTo:x,queryParams:L,fragment:Z,queryParamsHandling:te,preserveFragment:Oe}=T,wt=x||this.routerState.root,en=Oe?this.currentUrlTree.fragment:Z;let Ot=null;switch(te){case"merge":Ot=Object.assign(Object.assign({},this.currentUrlTree.queryParams),L);break;case"preserve":Ot=this.currentUrlTree.queryParams;break;default:Ot=L||null}return null!==Ot&&(Ot=this.removeEmptyProps(Ot)),function Or(D,v,y,T,x){if(0===y.length)return Si(v.root,v.root,v.root,T,x);const L=function Gi(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new qs(!0,0,D);let v=0,y=!1;const T=D.reduce((x,L,Z)=>{if("object"==typeof L&&null!=L){if(L.outlets){const te={};return q(L.outlets,(Oe,wt)=>{te[wt]="string"==typeof Oe?Oe.split("/"):Oe}),[...x,{outlets:te}]}if(L.segmentPath)return[...x,L.segmentPath]}return"string"!=typeof L?[...x,L]:0===Z?(L.split("/").forEach((te,Oe)=>{0==Oe&&"."===te||(0==Oe&&""===te?y=!0:".."===te?v++:""!=te&&x.push(te))}),x):[...x,L]},[]);return new qs(y,v,T)}(y);if(L.toRoot())return Si(v.root,v.root,new _t([],{}),T,x);const Z=function wo(D,v,y){if(D.isAbsolute)return new Io(v.root,!0,0);if(-1===y.snapshot._lastPathIndex){const L=y.snapshot._urlSegment;return new Io(L,L===v.root,0)}const T=Eo(D.commands[0])?0:1;return function is(D,v,y){let T=D,x=v,L=y;for(;L>x;){if(L-=x,T=T.parent,!T)throw new Error("Invalid number of '../'");x=T.segments.length}return new Io(T,!1,x-L)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+T,D.numberOfDoubleDots)}(L,v,D),te=Z.processChildren?Di(Z.segmentGroup,Z.index,L.commands):zi(Z.segmentGroup,Z.index,L.commands);return Si(v.root,Z.segmentGroup,te,T,x)}(wt,this.currentUrlTree,y,Ot,null!=en?en:null)}navigateByUrl(y,T={skipLocationChange:!1}){const x=Zi(y)?y:this.parseUrl(y),L=this.urlHandlingStrategy.merge(x,this.rawUrlTree);return this.scheduleNavigation(L,"imperative",null,T)}navigate(y,T={skipLocationChange:!1}){return function Ad(D){for(let v=0;v<D.length;v++){const y=D[v];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${v}`)}}(y),this.navigateByUrl(this.createUrlTree(y,T),T)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let T;try{T=this.urlSerializer.parse(y)}catch(x){T=this.malformedUriErrorHandler(x,this.urlSerializer,y)}return T}isActive(y,T){let x;if(x=!0===T?Object.assign({},no):!1===T?Object.assign({},Qi):T,Zi(y))return Jt(this.currentUrlTree,y,x);const L=this.parseUrl(y);return Jt(this.currentUrlTree,L,x)}removeEmptyProps(y){return Object.keys(y).reduce((T,x)=>{const L=y[x];return null!=L&&(T[x]=L),T},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Bn(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,T,x,L,Z){var te,Oe;if(this.disposed)return Promise.resolve(!1);let wt,en,Ot;Z?(wt=Z.resolve,en=Z.reject,Ot=Z.promise):Ot=new Promise((Ti,pi)=>{wt=Ti,en=pi});const pn=++this.navigationId;let kn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(x=this.location.getState()),kn=x&&x.\u0275routerPageId?x.\u0275routerPageId:L.replaceUrl||L.skipLocationChange?null!==(te=this.browserPageId)&&void 0!==te?te:0:(null!==(Oe=this.browserPageId)&&void 0!==Oe?Oe:0)+1):kn=0,this.setTransition({id:pn,targetPageId:kn,source:T,restoredState:x,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:L,resolve:wt,reject:en,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Ti=>Promise.reject(Ti))}setBrowserUrl(y,T){const x=this.urlSerializer.serialize(y),L=Object.assign(Object.assign({},T.extras.state),this.generateNgRouterState(T.id,T.targetPageId));this.location.isCurrentPathEqualTo(x)||T.extras.replaceUrl?this.location.replaceState(x,"",L):this.location.go(x,"",L)}restoreHistory(y,T=!1){var x,L;if("computed"===this.canceledNavigationResolution){const Z=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(x=this.currentNavigation)||void 0===x?void 0:x.finalUrl)||0===Z?this.currentUrlTree===(null===(L=this.currentNavigation)||void 0===L?void 0:L.finalUrl)&&0===Z&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Z)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,T){const x=new Gn(y.id,this.serializeUrl(y.extractedUrl),T);this.triggerEvent(x),y.resolve(!1)}generateNgRouterState(y,T){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:T}:{navigationId:y}}}return D.\u0275fac=function(y){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();function fu(D){return"imperative"!==D}let ro=(()=>{class D{constructor(y,T,x){this.router=y,this.route=T,this.locationStrategy=x,this.commands=null,this.href=null,this.onChanges=new R.x,this.subscription=y.events.subscribe(L=>{L instanceof Bn&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,T,x,L,Z){if(0!==y||T||x||L||Z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const te={skipLocationChange:Ri(this.skipLocationChange),replaceUrl:Ri(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,te),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ri(this.preserveFragment)})}}return D.\u0275fac=function(y){return new(y||D)(w.Y36(Zr),w.Y36(zn),w.Y36(Vn.S$))},D.\u0275dir=w.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,T){1&y&&w.NdJ("click",function(L){return T.onClick(L.button,L.ctrlKey,L.shiftKey,L.altKey,L.metaKey)}),2&y&&w.uIk("target",T.target)("href",T.href,w.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[w.TTD]}),D})();function Ri(D){return""===D||!!D}class cs{}class sa{preload(v,y){return(0,ie.of)(null)}}let Wn=(()=>{class D{constructor(y,T,x,L){this.router=y,this.injector=x,this.preloadingStrategy=L,this.loader=new Fa(x,T,Oe=>y.triggerEvent(new Yt(Oe)),Oe=>y.triggerEvent(new bt(Oe)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,In.h)(y=>y instanceof Bn),vn(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(w.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,T){const x=[];for(const L of T)if(L.loadChildren&&!L.canLoad&&L._loadedConfig){const Z=L._loadedConfig;x.push(this.processRoutes(Z.module,Z.routes))}else L.loadChildren&&!L.canLoad?x.push(this.preloadConfig(y,L)):L.children&&x.push(this.processRoutes(y,L.children));return(0,Y.D)(x).pipe((0,gr.J)(),(0,ke.U)(L=>{}))}preloadConfig(y,T){return this.preloadingStrategy.preload(T,()=>(T._loadedConfig?(0,ie.of)(T._loadedConfig):this.loader.load(y.injector,T)).pipe((0,yt.z)(L=>(T._loadedConfig=L,this.processRoutes(L.module,L.routes)))))}}return D.\u0275fac=function(y){return new(y||D)(w.LFG(Zr),w.LFG(w.Sil),w.LFG(w.zs3),w.LFG(cs))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})(),oa=(()=>{class D{constructor(y,T,x={}){this.router=y,this.viewportScroller=T,this.options=x,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},x.scrollPositionRestoration=x.scrollPositionRestoration||"disabled",x.anchorScrolling=x.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Yn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Bn&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Wr&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,T){this.router.triggerEvent(new Wr(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(y){w.$Z()},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();const Mn=new w.OlP("ROUTER_CONFIGURATION"),As=new w.OlP("ROUTER_FORROOT_GUARD"),Bh=[Vn.Ye,{provide:mn,useClass:K},{provide:Zr,useFactory:function aa(D,v,y,T,x,L,Z={},te,Oe){const wt=new Zr(null,D,v,y,T,x,Ve(L));return te&&(wt.urlHandlingStrategy=te),Oe&&(wt.routeReuseStrategy=Oe),function gu(D,v){D.errorHandler&&(v.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(v.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(v.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(v.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(v.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(v.canceledNavigationResolution=D.canceledNavigationResolution)}(Z,wt),Z.enableTracing&&wt.events.subscribe(en=>{var Ot,pn;null===(Ot=console.group)||void 0===Ot||Ot.call(console,`Router Event: ${en.constructor.name}`),console.log(en.toString()),console.log(en),null===(pn=console.groupEnd)||void 0===pn||pn.call(console)}),wt},deps:[mn,A,Vn.Ye,w.zs3,w.Sil,Mo,Mn,[class ec{},new w.FiY],[class ka{},new w.FiY]]},A,{provide:zn,useFactory:function ua(D){return D.routerState.root},deps:[Zr]},Wn,sa,class Ni{preload(v,y){return y().pipe(ft(()=>(0,ie.of)(null)))}},{provide:Mn,useValue:{enableTracing:!1}}];function Qc(){return new w.PXZ("Router",Zr)}let Ro=(()=>{class D{constructor(y,T){}static forRoot(y,T){return{ngModule:D,providers:[Bh,so(y),{provide:As,useFactory:No,deps:[[Zr,new w.FiY,new w.tp0]]},{provide:Mn,useValue:T||{}},{provide:Vn.S$,useFactory:pu,deps:[Vn.lw,[new w.tBr(Vn.mr),new w.FiY],Mn]},{provide:oa,useFactory:Ua,deps:[Zr,Vn.EM,Mn]},{provide:cs,useExisting:T&&T.preloadingStrategy?T.preloadingStrategy:sa},{provide:w.PXZ,multi:!0,useFactory:Qc},[oo,{provide:w.ip1,multi:!0,useFactory:ls,deps:[oo]},{provide:ca,useFactory:nc,deps:[oo]},{provide:w.tb,multi:!0,useExisting:ca}]]}}static forChild(y){return{ngModule:D,providers:[so(y)]}}}return D.\u0275fac=function(y){return new(y||D)(w.LFG(As,8),w.LFG(Zr,8))},D.\u0275mod=w.oAB({type:D}),D.\u0275inj=w.cJS({}),D})();function Ua(D,v,y){return y.scrollOffset&&v.setOffset(y.scrollOffset),new oa(D,v,y)}function pu(D,v,y={}){return y.useHash?new Vn.Do(D,v):new Vn.b0(D,v)}function No(D){return"guarded"}function so(D){return[{provide:w.deG,multi:!0,useValue:D},{provide:Mo,multi:!0,useValue:D}]}let oo=(()=>{class D{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new R.x}appInitializer(){return this.injector.get(Vn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let T=null;const x=new Promise(te=>T=te),L=this.injector.get(Zr),Z=this.injector.get(Mn);return"disabled"===Z.initialNavigation?(L.setUpLocationChangeListener(),T(!0)):"enabled"===Z.initialNavigation||"enabledBlocking"===Z.initialNavigation?(L.hooks.afterPreactivation=()=>this.initNavigation?(0,ie.of)(null):(this.initNavigation=!0,T(!0),this.resultOfPreactivationDone),L.initialNavigation()):T(!0),x})}bootstrapListener(y){const T=this.injector.get(Mn),x=this.injector.get(Wn),L=this.injector.get(oa),Z=this.injector.get(Zr),te=this.injector.get(w.z2F);y===te.components[0]&&(("enabledNonBlocking"===T.initialNavigation||void 0===T.initialNavigation)&&Z.initialNavigation(),x.setUpPreloading(),L.init(),Z.resetRootComponentType(te.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(y){return new(y||D)(w.LFG(w.zs3))},D.\u0275prov=w.Yz7({token:D,factory:D.\u0275fac}),D})();function ls(D){return D.appInitializer.bind(D)}function nc(D){return D.bootstrapListener.bind(D)}const ca=new w.OlP("Router Initializer")},579:(Dt,Me,P)=>{P.d(Me,{EI:()=>cr,Gb:()=>rn,Iv:()=>ir,Kz:()=>Qt,Xd:()=>Tt,lT:()=>Pt,xP:()=>Nt});var w=P(5861),R=P(9681),H=P(1877),ce=P(2090),fe=P(4859);P(2833);const ve="analytics",he="firebase_id",Y="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ue="https://www.googletagmanager.com/gtag/js",ke=new H.Yd("@firebase/analytics");function Pe(oe){return Promise.all(oe.map(Ce=>Ce.catch(Ve=>Ve)))}function Ke(oe,Ce){const Ve=document.createElement("script");Ve.src=`${ue}?l=${oe}&id=${Ce}`,Ve.async=!0,document.head.appendChild(Ve)}function Ae(oe,Ce,Ve,G,$,q){return je.apply(this,arguments)}function je(){return(je=(0,w.Z)(function*(oe,Ce,Ve,G,$,q){const ae=G[$];try{if(ae)yield Ce[ae];else{const Ge=(yield Pe(Ve)).find(pt=>pt.measurementId===$);Ge&&(yield Ce[Ge.appId])}}catch(re){ke.error(re)}oe("config",$,q)})).apply(this,arguments)}function ht(oe,Ce,Ve,G,$){return ct.apply(this,arguments)}function ct(){return(ct=(0,w.Z)(function*(oe,Ce,Ve,G,$){try{let q=[];if($&&$.send_to){let ae=$.send_to;Array.isArray(ae)||(ae=[ae]);const re=yield Pe(Ve);for(const Ge of ae){const pt=re.find(Kn=>Kn.measurementId===Ge),Jt=pt&&Ce[pt.appId];if(!Jt){q=[];break}q.push(Jt)}}0===q.length&&(q=Object.values(Ce)),yield Promise.all(q),oe("event",G,$||{})}catch(q){ke.error(q)}})).apply(this,arguments)}function Fe(){const oe=window.document.getElementsByTagName("script");for(const Ce of Object.values(oe))if(Ce.src&&Ce.src.includes(ue))return Ce;return null}const tt=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Se=new class Ie{constructor(Ce={},Ve=1e3){this.throttleMetadata=Ce,this.intervalMillis=Ve}getThrottleMetadata(Ce){return this.throttleMetadata[Ce]}setThrottleMetadata(Ce,Ve){this.throttleMetadata[Ce]=Ve}deleteThrottleMetadata(Ce){delete this.throttleMetadata[Ce]}};function we(oe){return new Headers({Accept:"application/json","x-goog-api-key":oe})}function Je(oe){return ie.apply(this,arguments)}function ie(){return(ie=(0,w.Z)(function*(oe){var Ce;const{appId:Ve,apiKey:G}=oe,$={method:"GET",headers:we(G)},q=Y.replace("{app-id}",Ve),ae=yield fetch(q,$);if(200!==ae.status&&304!==ae.status){let re="";try{const Ge=yield ae.json();(null===(Ce=Ge.error)||void 0===Ce?void 0:Ce.message)&&(re=Ge.error.message)}catch(Ge){}throw tt.create("config-fetch-failed",{httpStatus:ae.status,responseMessage:re})}return ae.json()})).apply(this,arguments)}function Ut(oe){return un.apply(this,arguments)}function un(){return(un=(0,w.Z)(function*(oe,Ce=Se,Ve){const{appId:G,apiKey:$,measurementId:q}=oe.options;if(!G)throw tt.create("no-app-id");if(!$){if(q)return{measurementId:q,appId:G};throw tt.create("no-api-key")}const ae=Ce.getThrottleMetadata(G)||{backoffCount:0,throttleEndTimeMillis:Date.now()},re=new In;return setTimeout((0,w.Z)(function*(){re.abort()}),void 0!==Ve?Ve:6e4),hn({appId:G,apiKey:$,measurementId:q},ae,re,Ce)})).apply(this,arguments)}function hn(oe,Ce,Ve){return ft.apply(this,arguments)}function ft(){return(ft=(0,w.Z)(function*(oe,{throttleEndTimeMillis:Ce,backoffCount:Ve},G,$=Se){const{appId:q,measurementId:ae}=oe;try{yield yt(G,Ce)}catch(re){if(ae)return ke.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${re.message}]`),{appId:q,measurementId:ae};throw re}try{const re=yield Je(oe);return $.deleteThrottleMetadata(q),re}catch(re){if(!vn(re)){if($.deleteThrottleMetadata(q),ae)return ke.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ae} provided in the "measurementId" field in the local Firebase config. [${re.message}]`),{appId:q,measurementId:ae};throw re}const Ge=503===Number(re.customData.httpStatus)?(0,ce.$s)(Ve,$.intervalMillis,30):(0,ce.$s)(Ve,$.intervalMillis),pt={throttleEndTimeMillis:Date.now()+Ge,backoffCount:Ve+1};return $.setThrottleMetadata(q,pt),ke.debug(`Calling attemptFetch again in ${Ge} millis`),hn(oe,pt,G,$)}})).apply(this,arguments)}function yt(oe,Ce){return new Promise((Ve,G)=>{const $=Math.max(Ce-Date.now(),0),q=setTimeout(Ve,$);oe.addEventListener(()=>{clearTimeout(q),G(tt.create("fetch-throttle",{throttleEndTimeMillis:Ce}))})})}function vn(oe){if(!(oe instanceof ce.ZR&&oe.customData))return!1;const Ce=Number(oe.customData.httpStatus);return 429===Ce||500===Ce||503===Ce||504===Ce}class In{constructor(){this.listeners=[]}addEventListener(Ce){this.listeners.push(Ce)}abort(){this.listeners.forEach(Ce=>Ce())}}function Ir(){return ln.apply(this,arguments)}function ln(){return(ln=(0,w.Z)(function*(){if(!(0,ce.hl)())return ke.warn(tt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(oe){return ke.warn(tt.create("indexeddb-unavailable",{errorInfo:oe}).message),!1}return!0})).apply(this,arguments)}function an(){return(an=(0,w.Z)(function*(oe,Ce,Ve,G,$,q,ae){var re;const Ge=Ut(oe);Ge.then(gn=>{Ve[gn.measurementId]=gn.appId,oe.options.measurementId&&gn.measurementId!==oe.options.measurementId&&ke.warn(`The measurement ID in the local Firebase config (${oe.options.measurementId}) does not match the measurement ID fetched from the server (${gn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(gn=>ke.error(gn)),Ce.push(Ge);const pt=Ir().then(gn=>{if(gn)return G.getId()}),[Jt,Kn]=yield Promise.all([Ge,pt]);Fe()||Ke(q,Jt.measurementId),$("js",new Date);const Xt=null!==(re=null==ae?void 0:ae.config)&&void 0!==re?re:{};return Xt.origin="firebase",Xt.update=!0,null!=Kn&&(Xt[he]=Kn),$("config",Jt.measurementId,Xt),Jt.measurementId})).apply(this,arguments)}class $t{constructor(Ce){this.app=Ce}_delete(){return delete Cn[this.app.options.appId],Promise.resolve()}}let Cn={},wr=[];const pr={};let An,gr,Hn="dataLayer",Zn="gtag",Vn=!1;function Tt(oe){if(Vn)throw tt.create("already-initialized");oe.dataLayerName&&(Hn=oe.dataLayerName),oe.gtagName&&(Zn=oe.gtagName)}function Bn(oe,Ce,Ve){!function Yn(){const oe=[];if((0,ce.ru)()&&oe.push("This is a browser extension environment."),(0,ce.zI)()||oe.push("Cookies are not available."),oe.length>0){const Ce=oe.map((G,$)=>`(${$+1}) ${G}`).join(" "),Ve=tt.create("invalid-analytics-context",{errorInfo:Ce});ke.warn(Ve.message)}}();const G=oe.options.appId;if(!G)throw tt.create("no-app-id");if(!oe.options.apiKey){if(!oe.options.measurementId)throw tt.create("no-api-key");ke.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${oe.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cn[G])throw tt.create("already-exists",{id:G});if(!Vn){!function et(oe){let Ce=[];Array.isArray(window[oe])?Ce=window[oe]:window[oe]=Ce}(Hn);const{wrappedGtag:q,gtagCore:ae}=function Le(oe,Ce,Ve,G,$){let q=function(...ae){window[G].push(arguments)};return window[$]&&"function"==typeof window[$]&&(q=window[$]),window[$]=function ze(oe,Ce,Ve,G){function q(){return(q=(0,w.Z)(function*(ae,re,Ge){try{"event"===ae?yield ht(oe,Ce,Ve,re,Ge):"config"===ae?yield Ae(oe,Ce,Ve,G,re,Ge):oe("set",re)}catch(pt){ke.error(pt)}})).apply(this,arguments)}return function $(ae,re,Ge){return q.apply(this,arguments)}}(q,oe,Ce,Ve),{gtagCore:q,wrappedGtag:window[$]}}(Cn,wr,pr,Hn,Zn);gr=q,An=ae,Vn=!0}return Cn[G]=function ur(oe,Ce,Ve,G,$,q,ae){return an.apply(this,arguments)}(oe,wr,pr,Ce,An,Hn,Ve),new $t(oe)}function Dr(){return(Dr=(0,w.Z)(function*(oe,Ce,Ve,G,$){if($&&$.global)oe("event",Ve,G);else{const q=yield Ce;oe("event",Ve,Object.assign(Object.assign({},G),{send_to:q}))}})).apply(this,arguments)}function Sn(){return(Sn=(0,w.Z)(function*(oe,Ce,Ve,G){if(G&&G.global)return oe("set",{screen_name:Ve}),Promise.resolve();oe("config",yield Ce,{update:!0,screen_name:Ve})})).apply(this,arguments)}function br(){return(br=(0,w.Z)(function*(oe,Ce,Ve,G){if(G&&G.global)return oe("set",{user_id:Ve}),Promise.resolve();oe("config",yield Ce,{update:!0,user_id:Ve})})).apply(this,arguments)}function Yt(){return(Yt=(0,w.Z)(function*(oe,Ce,Ve,G){if(G&&G.global){const $={};for(const q of Object.keys(Ve))$[`user_properties.${q}`]=Ve[q];return oe("set",$),Promise.resolve()}oe("config",yield Ce,{update:!0,user_properties:Ve})})).apply(this,arguments)}function Ct(){return(Ct=(0,w.Z)(function*(oe,Ce){const Ve=yield oe;window[`ga-disable-${Ve}`]=!Ce})).apply(this,arguments)}function rn(){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,w.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(oe){return!1}})).apply(this,arguments)}function Pt(oe,Ce,Ve){oe=(0,ce.m9)(oe),function Fi(oe,Ce,Ve,G){return Sn.apply(this,arguments)}(gr,Cn[oe.app.options.appId],Ce,Ve).catch(G=>ke.error(G))}function ir(oe,Ce,Ve){oe=(0,ce.m9)(oe),function mr(oe,Ce,Ve,G){return br.apply(this,arguments)}(gr,Cn[oe.app.options.appId],Ce,Ve).catch(G=>ke.error(G))}function Nt(oe,Ce,Ve){oe=(0,ce.m9)(oe),function Mr(oe,Ce,Ve,G){return Yt.apply(this,arguments)}(gr,Cn[oe.app.options.appId],Ce,Ve).catch(G=>ke.error(G))}function cr(oe,Ce){oe=(0,ce.m9)(oe),function bt(oe,Ce){return Ct.apply(this,arguments)}(Cn[oe.app.options.appId],Ce).catch(Ve=>ke.error(Ve))}function Qt(oe,Ce,Ve,G){oe=(0,ce.m9)(oe),function Gn(oe,Ce,Ve,G,$){return Dr.apply(this,arguments)}(gr,Cn[oe.app.options.appId],Ce,Ve,G).catch($=>ke.error($))}const lt="@firebase/analytics";!function vt(){(0,R._registerComponent)(new fe.wA(ve,(Ce,{options:Ve})=>Bn(Ce.getProvider("app").getImmediate(),Ce.getProvider("installations-internal").getImmediate(),Ve),"PUBLIC")),(0,R._registerComponent)(new fe.wA("analytics-internal",function oe(Ce){try{const Ve=Ce.getProvider(ve).getImmediate();return{logEvent:(G,$,q)=>Qt(Ve,G,$,q)}}catch(Ve){throw tt.create("interop-component-reg-failed",{reason:Ve})}},"PRIVATE")),(0,R.registerVersion)(lt,"0.7.7"),(0,R.registerVersion)(lt,"0.7.7","esm2017")}()},3942:(Dt,Me,P)=>{P.d(Me,{Z:()=>Ke});var w=P(2090),R=P(4859),H=P(9681),ce=P(1877);class fe{constructor(Ae,je){this._delegate=Ae,this.firebase=je,(0,H._addComponent)(Ae,new R.wA("app-compat",()=>this,"PUBLIC")),this.container=Ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this._delegate.automaticDataCollectionEnabled=Ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ae=>{this._delegate.checkDestroyed(),Ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ae,je=H._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ae);return!ct.isInitialized()&&"EXPLICIT"===(null===(ht=ct.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:je})}_removeServiceInstance(Ae,je=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ae).clearInstance(je)}_addComponent(Ae){(0,H._addComponent)(this._delegate,Ae)}_addOrOverwriteComponent(Ae){(0,H._addOrOverwriteComponent)(this._delegate,Ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function ge(){const et=function he(et){const Ae={},je={__esModule:!0,initializeApp:function ze(tt,Ee={}){const le=H.initializeApp(tt,Ee);if((0,w.r3)(Ae,le.name))return Ae[le.name];const Ie=new et(le,je);return Ae[le.name]=Ie,Ie},app:ct,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Fe(tt){const Ee=tt.name,le=Ee.replace("-compat","");if(H._registerComponent(tt)&&"PUBLIC"===tt.type){const Ie=(Se=ct())=>{if("function"!=typeof Se[le])throw ve.create("invalid-app-argument",{appName:Ee});return Se[le]()};void 0!==tt.serviceProps&&(0,w.ZB)(Ie,tt.serviceProps),je[le]=Ie,et.prototype[le]=function(...Se){return this._getService.bind(this,Ee).apply(this,tt.multipleInstances?Se:[])}}return"PUBLIC"===tt.type?je[le]:null},removeApp:function ht(tt){delete Ae[tt]},useAsService:function st(tt,Ee){return"serverAuth"===Ee?null:Ee},modularAPIs:H}};function ct(tt){if(!(0,w.r3)(Ae,tt=tt||H._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:tt});return Ae[tt]}return je.default=je,Object.defineProperty(je,"apps",{get:function Le(){return Object.keys(Ae).map(tt=>Ae[tt])}}),ct.App=et,je}(fe);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function Ae(je){(0,w.ZB)(et,je)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),et}(),Y=new ce.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=J;!function Pe(et){(0,H.registerVersion)("@firebase/app-compat","0.1.21",et)}()},9681:(Dt,Me,P)=>{P.r(Me),P.d(Me,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Hn,_DEFAULT_ENTRY_NAME:()=>hn,_addComponent:()=>In,_addOrOverwriteComponent:()=>Ir,_apps:()=>yt,_clearComponents:()=>$t,_components:()=>vn,_getProvider:()=>ur,_registerComponent:()=>ln,_removeServiceInstance:()=>an,deleteApp:()=>Vn,getApp:()=>An,getApps:()=>gr,initializeApp:()=>Zn,onLog:()=>Bn,registerVersion:()=>Yn,setLogLevel:()=>Gn});var w=P(5861),R=P(4859),H=P(1877),ce=P(2090);class fe{constructor(He){this.container=He}getPlatformInfoString(){return this.container.getProviders().map(vt=>{if(function _e(lt){const He=lt.getComponent();return"VERSION"===(null==He?void 0:He.type)}(vt)){const oe=vt.getImmediate();return`${oe.library}/${oe.version}`}return null}).filter(vt=>vt).join(" ")}}const ve="@firebase/app",ge=new H.Yd("@firebase/app"),hn="[DEFAULT]",ft={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,vn=new Map;function In(lt,He){try{lt.container.addComponent(He)}catch(vt){ge.debug(`Component ${He.name} failed to register with FirebaseApp ${lt.name}`,vt)}}function Ir(lt,He){lt.container.addOrOverwriteComponent(He)}function ln(lt){const He=lt.name;if(vn.has(He))return ge.debug(`There were multiple attempts to register component ${He}.`),!1;vn.set(He,lt);for(const vt of yt.values())In(vt,lt);return!0}function ur(lt,He){const vt=lt.container.getProvider("heartbeat").getImmediate({optional:!0});return vt&&vt.triggerHeartbeat(),lt.container.getProvider(He)}function an(lt,He,vt=hn){ur(lt,He).clearInstance(vt)}function $t(){vn.clear()}const wr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class pr{constructor(He,vt,oe){this._isDeleted=!1,this._options=Object.assign({},He),this._config=Object.assign({},vt),this._name=vt.name,this._automaticDataCollectionEnabled=vt.automaticDataCollectionEnabled,this._container=oe,this.container.addComponent(new R.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(He){this.checkDestroyed(),this._automaticDataCollectionEnabled=He}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(He){this._isDeleted=He}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}const Hn="9.6.10";function Zn(lt,He={}){"object"!=typeof He&&(He={name:He});const vt=Object.assign({name:hn,automaticDataCollectionEnabled:!1},He),oe=vt.name;if("string"!=typeof oe||!oe)throw wr.create("bad-app-name",{appName:String(oe)});const Ce=yt.get(oe);if(Ce){if((0,ce.vZ)(lt,Ce.options)&&(0,ce.vZ)(vt,Ce.config))return Ce;throw wr.create("duplicate-app",{appName:oe})}const Ve=new R.H0(oe);for(const $ of vn.values())Ve.addComponent($);const G=new pr(lt,vt,Ve);return yt.set(oe,G),G}function An(lt=hn){const He=yt.get(lt);if(!He)throw wr.create("no-app",{appName:lt});return He}function gr(){return Array.from(yt.values())}function Vn(lt){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,w.Z)(function*(lt){const He=lt.name;yt.has(He)&&(yt.delete(He),yield Promise.all(lt.container.getProviders().map(vt=>vt.delete())),lt.isDeleted=!0)})).apply(this,arguments)}function Yn(lt,He,vt){var oe;let Ce=null!==(oe=ft[lt])&&void 0!==oe?oe:lt;vt&&(Ce+=`-${vt}`);const Ve=Ce.match(/\s|\//),G=He.match(/\s|\//);if(Ve||G){const $=[`Unable to register library "${Ce}" with version "${He}":`];return Ve&&$.push(`library name "${Ce}" contains illegal characters (whitespace or "/")`),Ve&&G&&$.push("and"),G&&$.push(`version name "${He}" contains illegal characters (whitespace or "/")`),void ge.warn($.join(" "))}ln(new R.wA(`${Ce}-version`,()=>({library:Ce,version:He}),"VERSION"))}function Bn(lt,He){if(null!==lt&&"function"!=typeof lt)throw wr.create("invalid-log-argument");(0,H.Am)(lt,He)}function Gn(lt){(0,H.Ub)(lt)}const Sn="firebase-heartbeat-store";let mr=null;function br(){return mr||(mr=(0,ce.X3)("firebase-heartbeat-database",1,(lt,He)=>{0===He&&lt.createObjectStore(Sn)}).catch(lt=>{throw wr.create("storage-open",{originalErrorMessage:lt.message})})),mr}function Yt(){return(Yt=(0,w.Z)(function*(lt){try{return(yield br()).transaction(Sn).objectStore(Sn).get(yr(lt))}catch(He){throw wr.create("storage-get",{originalErrorMessage:He.message})}})).apply(this,arguments)}function bt(lt,He){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,w.Z)(function*(lt,He){try{const oe=(yield br()).transaction(Sn,"readwrite");return yield oe.objectStore(Sn).put(He,yr(lt)),oe.complete}catch(vt){throw wr.create("storage-set",{originalErrorMessage:vt.message})}})).apply(this,arguments)}function yr(lt){return`${lt.name}!${lt.options.appId}`}class Wr{constructor(He){this.container=He,this._heartbeatsCache=null;const vt=this.container.getProvider("app").getImmediate();this._storage=new Nt(vt),this._heartbeatsCachePromise=this._storage.read().then(oe=>(this._heartbeatsCache=oe,oe))}triggerHeartbeat(){var He=this;return(0,w.Z)(function*(){const oe=He.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ce=Pt();if(null===He._heartbeatsCache&&(He._heartbeatsCache=yield He._heartbeatsCachePromise),He._heartbeatsCache.lastSentHeartbeatDate!==Ce&&!He._heartbeatsCache.heartbeats.some(Ve=>Ve.date===Ce))return He._heartbeatsCache.heartbeats.push({date:Ce,agent:oe}),He._heartbeatsCache.heartbeats=He._heartbeatsCache.heartbeats.filter(Ve=>{const G=new Date(Ve.date).valueOf();return Date.now()-G<=2592e6}),He._storage.overwrite(He._heartbeatsCache)})()}getHeartbeatsHeader(){var He=this;return(0,w.Z)(function*(){if(null===He._heartbeatsCache&&(yield He._heartbeatsCachePromise),null===He._heartbeatsCache||0===He._heartbeatsCache.heartbeats.length)return"";const vt=Pt(),{heartbeatsToSend:oe,unsentEntries:Ce}=function ir(lt,He=1024){const vt=[];let oe=lt.slice();for(const Ce of lt){const Ve=vt.find(G=>G.agent===Ce.agent);if(Ve){if(Ve.dates.push(Ce.date),cr(vt)>He){Ve.dates.pop();break}}else if(vt.push({agent:Ce.agent,dates:[Ce.date]}),cr(vt)>He){vt.pop();break}oe=oe.slice(1)}return{heartbeatsToSend:vt,unsentEntries:oe}}(He._heartbeatsCache.heartbeats),Ve=(0,ce.L)(JSON.stringify({version:2,heartbeats:oe}));return He._heartbeatsCache.lastSentHeartbeatDate=vt,Ce.length>0?(He._heartbeatsCache.heartbeats=Ce,yield He._storage.overwrite(He._heartbeatsCache)):(He._heartbeatsCache.heartbeats=[],He._storage.overwrite(He._heartbeatsCache)),Ve})()}}function Pt(){return(new Date).toISOString().substring(0,10)}class Nt{constructor(He){this.app=He,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var He=this;return(0,w.Z)(function*(){return(yield He._canUseIndexedDBPromise)&&(yield function Mr(lt){return Yt.apply(this,arguments)}(He.app))||{heartbeats:[]}})()}overwrite(He){var vt=this;return(0,w.Z)(function*(){var oe;if(yield vt._canUseIndexedDBPromise){const Ve=yield vt.read();return bt(vt.app,{lastSentHeartbeatDate:null!==(oe=He.lastSentHeartbeatDate)&&void 0!==oe?oe:Ve.lastSentHeartbeatDate,heartbeats:He.heartbeats})}})()}add(He){var vt=this;return(0,w.Z)(function*(){var oe;if(yield vt._canUseIndexedDBPromise){const Ve=yield vt.read();return bt(vt.app,{lastSentHeartbeatDate:null!==(oe=He.lastSentHeartbeatDate)&&void 0!==oe?oe:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...He.heartbeats]})}})()}}function cr(lt){return(0,ce.L)(JSON.stringify({version:2,heartbeats:lt})).length}!function Qt(lt){ln(new R.wA("platform-logger",He=>new fe(He),"PRIVATE")),ln(new R.wA("heartbeat",He=>new Wr(He),"PRIVATE")),Yn(ve,"0.7.20",lt),Yn(ve,"0.7.20","esm2017"),Yn("fire-js","")}("")},4859:(Dt,Me,P)=>{P.d(Me,{H0:()=>he,wA:()=>H});var w=P(5861),R=P(2090);class H{constructor(J,Y,ue){this.name=J,this.instanceFactory=Y,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const ce="[DEFAULT]";class fe{constructor(J,Y){this.name=J,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const Y=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(Y)){const ue=new R.BH;if(this.instancesDeferred.set(Y,ue),this.isInitialized(Y)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:Y});ke&&ue.resolve(ke)}catch(ke){}}return this.instancesDeferred.get(Y).promise}getImmediate(J){var Y;const ue=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),ke=null!==(Y=null==J?void 0:J.optional)&&void 0!==Y&&Y;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Pe){if(ke)return null;throw Pe}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function ve(ge){return"EAGER"===ge.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:ce})}catch(Y){}for(const[Y,ue]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(Y);try{const Pe=this.getOrInitializeService({instanceIdentifier:ke});ue.resolve(Pe)}catch(Pe){}}}}clearInstance(J=ce){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,w.Z)(function*(){const Y=Array.from(J.instances.values());yield Promise.all([...Y.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...Y.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=ce){return this.instances.has(J)}getOptions(J=ce){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:Y={}}=J,ue=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ue,options:Y});for(const[Pe,Ke]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(Pe)&&Ke.resolve(ke);return ke}onInit(J,Y){var ue;const ke=this.normalizeInstanceIdentifier(Y),Pe=null!==(ue=this.onInitCallbacks.get(ke))&&void 0!==ue?ue:new Set;Pe.add(J),this.onInitCallbacks.set(ke,Pe);const Ke=this.instances.get(ke);return Ke&&J(Ke,ke),()=>{Pe.delete(J)}}invokeOnInitCallbacks(J,Y){const ue=this.onInitCallbacks.get(Y);if(ue)for(const ke of ue)try{ke(J,Y)}catch(Pe){}}getOrInitializeService({instanceIdentifier:J,options:Y={}}){let ue=this.instances.get(J);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=J,ge===ce?void 0:ge),options:Y}),this.instances.set(J,ue),this.instancesOptions.set(J,Y),this.invokeOnInitCallbacks(ue,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,ue)}catch(ke){}var ge;return ue||null}normalizeInstanceIdentifier(J=ce){return this.component?this.component.multipleInstances?J:ce:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const Y=this.getProvider(J.name);if(Y.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);Y.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const Y=new fe(J,this);return this.providers.set(J,Y),Y}getProviders(){return Array.from(this.providers.values())}}},2833:(Dt,Me,P)=>{var w=P(5861),R=P(9681),H=P(4859),ce=P(2090);const fe="@firebase/installations",he="w:0.5.7",ge="FIS_v2",Ke=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(K){return K instanceof ce.ZR&&K.code.includes("request-failed")}function Ae({projectId:K}){return`https://firebaseinstallations.googleapis.com/v1/projects/${K}/installations`}function je(K){return{token:K.token,requestStatus:2,expiresIn:tt(K.expiresIn),creationTime:Date.now()}}function ht(K,ye){return ct.apply(this,arguments)}function ct(){return(ct=(0,w.Z)(function*(K,ye){const gt=(yield ye.json()).error;return Ke.create("request-failed",{requestName:K,serverCode:gt.code,serverMessage:gt.message,serverStatus:gt.status})})).apply(this,arguments)}function ze({apiKey:K}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K})}function Le(K,{refreshToken:ye}){const Ue=ze(K);return Ue.append("Authorization",function Ee(K){return`${ge} ${K}`}(ye)),Ue}function Fe(K){return st.apply(this,arguments)}function st(){return(st=(0,w.Z)(function*(K){const ye=yield K();return ye.status>=500&&ye.status<600?K():ye})).apply(this,arguments)}function tt(K){return Number(K.replace("s","000"))}function le(K,ye){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,w.Z)(function*({appConfig:K,heartbeatServiceProvider:ye},{fid:Ue}){const gt=Ae(K),dn=ze(K),xt=ye.getImmediate({optional:!0});if(xt){const On=yield xt.getHeartbeatsHeader();On&&dn.append("x-firebase-client",On)}const Gt={method:"POST",headers:dn,body:JSON.stringify({fid:Ue,authVersion:ge,appId:K.appId,sdkVersion:he})},be=yield Fe(()=>fetch(gt,Gt));if(be.ok){const On=yield be.json();return{fid:On.fid||Ue,registrationStatus:2,refreshToken:On.refreshToken,authToken:je(On.authToken)}}throw yield ht("Create Installation",be)})).apply(this,arguments)}function Se(K){return new Promise(ye=>{setTimeout(ye,K)})}const Je=/^[cdef][\w-]{21}$/;function Ut(){try{const K=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(K),K[0]=112+K[0]%16;const Ue=function un(K){return function we(K){return btoa(String.fromCharCode(...K)).replace(/\+/g,"-").replace(/\//g,"_")}(K).substr(0,22)}(K);return Je.test(Ue)?Ue:""}catch(K){return""}}function hn(K){return`${K.appName}!${K.appId}`}const ft=new Map;function yt(K,ye){const Ue=hn(K);Ir(Ue,ye),function ln(K,ye){const Ue=function an(){return!ur&&"BroadcastChannel"in self&&(ur=new BroadcastChannel("[Firebase] FID Change"),ur.onmessage=K=>{Ir(K.data.key,K.data.fid)}),ur}();Ue&&Ue.postMessage({key:K,fid:ye}),function $t(){0===ft.size&&ur&&(ur.close(),ur=null)}()}(Ue,ye)}function Ir(K,ye){const Ue=ft.get(K);if(Ue)for(const gt of Ue)gt(ye)}let ur=null;const pr="firebase-installations-store";let Hn=null;function Zn(){return Hn||(Hn=(0,ce.X3)("firebase-installations-database",1,(K,ye)=>{0===ye&&K.createObjectStore(pr)})),Hn}function An(K,ye){return gr.apply(this,arguments)}function gr(){return(gr=(0,w.Z)(function*(K,ye){const Ue=hn(K),dn=(yield Zn()).transaction(pr,"readwrite"),xt=dn.objectStore(pr),Qn=yield xt.get(Ue);return yield xt.put(ye,Ue),yield dn.complete,(!Qn||Qn.fid!==ye.fid)&&yt(K,ye.fid),ye})).apply(this,arguments)}function Vn(K){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,w.Z)(function*(K){const ye=hn(K),gt=(yield Zn()).transaction(pr,"readwrite");yield gt.objectStore(pr).delete(ye),yield gt.complete})).apply(this,arguments)}function Yn(K,ye){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,w.Z)(function*(K,ye){const Ue=hn(K),dn=(yield Zn()).transaction(pr,"readwrite"),xt=dn.objectStore(pr),Qn=yield xt.get(Ue),Gt=ye(Qn);return void 0===Gt?yield xt.delete(Ue):yield xt.put(Gt,Ue),yield dn.complete,Gt&&(!Qn||Qn.fid!==Gt.fid)&&yt(K,Gt.fid),Gt})).apply(this,arguments)}function Gn(K){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,w.Z)(function*(K){let ye;const Ue=yield Yn(K.appConfig,gt=>{const dn=Fi(gt),xt=Sn(K,dn);return ye=xt.registrationPromise,xt.installationEntry});return""===Ue.fid?{installationEntry:yield ye}:{installationEntry:Ue,registrationPromise:ye}})).apply(this,arguments)}function Fi(K){return Ct(K||{fid:Ut(),registrationStatus:0})}function Sn(K,ye){if(0===ye.registrationStatus){if(!navigator.onLine)return{installationEntry:ye,registrationPromise:Promise.reject(Ke.create("app-offline"))};const Ue={fid:ye.fid,registrationStatus:1,registrationTime:Date.now()},gt=function mr(K,ye){return br.apply(this,arguments)}(K,Ue);return{installationEntry:Ue,registrationPromise:gt}}return 1===ye.registrationStatus?{installationEntry:ye,registrationPromise:Mr(K)}:{installationEntry:ye}}function br(){return(br=(0,w.Z)(function*(K,ye){try{const Ue=yield le(K,ye);return An(K.appConfig,Ue)}catch(Ue){throw et(Ue)&&409===Ue.customData.serverCode?yield Vn(K.appConfig):yield An(K.appConfig,{fid:ye.fid,registrationStatus:0}),Ue}})).apply(this,arguments)}function Mr(K){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,w.Z)(function*(K){let ye=yield bt(K.appConfig);for(;1===ye.registrationStatus;)yield Se(100),ye=yield bt(K.appConfig);if(0===ye.registrationStatus){const{installationEntry:Ue,registrationPromise:gt}=yield Gn(K);return gt||Ue}return ye})).apply(this,arguments)}function bt(K){return Yn(K,ye=>{if(!ye)throw Ke.create("installation-not-found");return Ct(ye)})}function Ct(K){return function yr(K){return 1===K.registrationStatus&&K.registrationTime+1e4<Date.now()}(K)?{fid:K.fid,registrationStatus:0}:K}function zr(K,ye){return rn.apply(this,arguments)}function rn(){return(rn=(0,w.Z)(function*({appConfig:K,heartbeatServiceProvider:ye},Ue){const gt=Wr(K,Ue),dn=Le(K,Ue),xt=ye.getImmediate({optional:!0});if(xt){const On=yield xt.getHeartbeatsHeader();On&&dn.append("x-firebase-client",On)}const Gt={method:"POST",headers:dn,body:JSON.stringify({installation:{sdkVersion:he,appId:K.appId}})},be=yield Fe(()=>fetch(gt,Gt));if(be.ok)return je(yield be.json());throw yield ht("Generate Auth Token",be)})).apply(this,arguments)}function Wr(K,{fid:ye}){return`${Ae(K)}/${ye}/authTokens:generate`}function Pt(K){return ir.apply(this,arguments)}function ir(){return(ir=(0,w.Z)(function*(K,ye=!1){let Ue;const gt=yield Yn(K.appConfig,xt=>{if(!vt(xt))throw Ke.create("not-registered");const Qn=xt.authToken;if(!ye&&oe(Qn))return xt;if(1===Qn.requestStatus)return Ue=Nt(K,ye),xt;{if(!navigator.onLine)throw Ke.create("app-offline");const Gt=Ve(xt);return Ue=lt(K,Gt),Gt}});return Ue?yield Ue:gt.authToken})).apply(this,arguments)}function Nt(K,ye){return cr.apply(this,arguments)}function cr(){return(cr=(0,w.Z)(function*(K,ye){let Ue=yield Qt(K.appConfig);for(;1===Ue.authToken.requestStatus;)yield Se(100),Ue=yield Qt(K.appConfig);const gt=Ue.authToken;return 0===gt.requestStatus?Pt(K,ye):gt})).apply(this,arguments)}function Qt(K){return Yn(K,ye=>{if(!vt(ye))throw Ke.create("not-registered");return function G(K){return 1===K.requestStatus&&K.requestTime+1e4<Date.now()}(ye.authToken)?Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}}):ye})}function lt(K,ye){return He.apply(this,arguments)}function He(){return(He=(0,w.Z)(function*(K,ye){try{const Ue=yield zr(K,ye),gt=Object.assign(Object.assign({},ye),{authToken:Ue});return yield An(K.appConfig,gt),Ue}catch(Ue){if(!et(Ue)||401!==Ue.customData.serverCode&&404!==Ue.customData.serverCode){const gt=Object.assign(Object.assign({},ye),{authToken:{requestStatus:0}});yield An(K.appConfig,gt)}else yield Vn(K.appConfig);throw Ue}})).apply(this,arguments)}function vt(K){return void 0!==K&&2===K.registrationStatus}function oe(K){return 2===K.requestStatus&&!function Ce(K){const ye=Date.now();return ye<K.creationTime||K.creationTime+K.expiresIn<ye+36e5}(K)}function Ve(K){const ye={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},K),{authToken:ye})}function q(){return(q=(0,w.Z)(function*(K){const ye=K,{installationEntry:Ue,registrationPromise:gt}=yield Gn(ye);return gt?gt.catch(console.error):Pt(ye).catch(console.error),Ue.fid})).apply(this,arguments)}function re(){return(re=(0,w.Z)(function*(K,ye=!1){const Ue=K;return yield Ge(Ue),(yield Pt(Ue,ye)).token})).apply(this,arguments)}function Ge(K){return pt.apply(this,arguments)}function pt(){return(pt=(0,w.Z)(function*(K){const{registrationPromise:ye}=yield Gn(K);ye&&(yield ye)})).apply(this,arguments)}function _t(K){return Ke.create("missing-app-config-values",{valueName:K})}const Rr="installations",bn=K=>{const ye=K.getProvider("app").getImmediate(),Ue=function jn(K){if(!K||!K.options)throw _t("App Configuration");if(!K.name)throw _t("App Name");const ye=["projectId","apiKey","appId"];for(const Ue of ye)if(!K.options[Ue])throw _t(Ue);return{appName:K.name,projectId:K.options.projectId,apiKey:K.options.apiKey,appId:K.options.appId}}(ye);return{app:ye,appConfig:Ue,heartbeatServiceProvider:(0,R._getProvider)(ye,"heartbeat"),_delete:()=>Promise.resolve()}},Ai=K=>{const ye=K.getProvider("app").getImmediate(),Ue=(0,R._getProvider)(ye,Rr).getImmediate();return{getId:()=>function $(K){return q.apply(this,arguments)}(Ue),getToken:dn=>function ae(K){return re.apply(this,arguments)}(Ue,dn)}};(function mn(){(0,R._registerComponent)(new H.wA(Rr,bn,"PUBLIC")),(0,R._registerComponent)(new H.wA("installations-internal",Ai,"PRIVATE"))})(),(0,R.registerVersion)(fe,"0.5.7"),(0,R.registerVersion)(fe,"0.5.7","esm2017")},1877:(Dt,Me,P)=>{P.d(Me,{Am:()=>ge,Ub:()=>he,Yd:()=>ve,in:()=>R});const w=[];var R=(()=>{return(J=R||(R={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",R;var J})();const H={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},ce=R.INFO,fe={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},_e=(J,Y,...ue)=>{if(Y<J.logLevel)return;const ke=(new Date).toISOString(),Pe=fe[Y];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[Pe](`[${ke}]  ${J.name}:`,...ue)};class ve{constructor(Y){this.name=Y,this._logLevel=ce,this._logHandler=_e,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in R))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?H[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...Y),this._logHandler(this,R.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...Y),this._logHandler(this,R.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,R.INFO,...Y),this._logHandler(this,R.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,R.WARN,...Y),this._logHandler(this,R.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...Y),this._logHandler(this,R.ERROR,...Y)}}function he(J){w.forEach(Y=>{Y.setLogLevel(J)})}function ge(J,Y){for(const ue of w){let ke=null;Y&&Y.level&&(ke=H[Y.level]),ue.userLogHandler=null===J?null:(Pe,Ke,...et)=>{const Ae=et.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(ht){return null}}).filter(je=>je).join(" ");Ke>=(null!=ke?ke:Pe.logLevel)&&J({level:R[Ke].toLowerCase(),message:Ae,args:et,type:Pe.name})}}}},5861:(Dt,Me,P)=>{function w(H,ce,fe,_e,ve,he,ge){try{var J=H[he](ge),Y=J.value}catch(ue){return void fe(ue)}J.done?ce(Y):Promise.resolve(Y).then(_e,ve)}function R(H){return function(){var ce=this,fe=arguments;return new Promise(function(_e,ve){var he=H.apply(ce,fe);function ge(Y){w(he,_e,ve,ge,J,"next",Y)}function J(Y){w(he,_e,ve,ge,J,"throw",Y)}ge(void 0)})}}P.d(Me,{Z:()=>R})}},Dt=>{Dt(Dt.s=5545)}]);